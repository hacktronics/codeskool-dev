const a0_0x2f14a7=a0_0x2774;function a0_0x2774(_0x3a2c3d,_0x3b0648){const _0x569909=a0_0x5699();return a0_0x2774=function(_0x2774b1,_0x3d849b){_0x2774b1=_0x2774b1-0x195;let _0x31e17b=_0x569909[_0x2774b1];return _0x31e17b;},a0_0x2774(_0x3a2c3d,_0x3b0648);}(function(_0x1a2250,_0x39190a){const _0x2b45b6=a0_0x2774,_0x4e94e4=_0x1a2250();while(!![]){try{const _0x442886=parseInt(_0x2b45b6(0x1b1))/0x1+parseInt(_0x2b45b6(0x1a4))/0x2+parseInt(_0x2b45b6(0x1aa))/0x3*(parseInt(_0x2b45b6(0x19d))/0x4)+-parseInt(_0x2b45b6(0x1b0))/0x5*(parseInt(_0x2b45b6(0x1a3))/0x6)+parseInt(_0x2b45b6(0x1af))/0x7*(-parseInt(_0x2b45b6(0x1a2))/0x8)+parseInt(_0x2b45b6(0x1ad))/0x9*(-parseInt(_0x2b45b6(0x1a5))/0xa)+-parseInt(_0x2b45b6(0x195))/0xb*(-parseInt(_0x2b45b6(0x19c))/0xc);if(_0x442886===_0x39190a)break;else _0x4e94e4['push'](_0x4e94e4['shift']());}catch(_0x51d6c6){_0x4e94e4['push'](_0x4e94e4['shift']());}}}(a0_0x5699,0xa8e68));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x2f14a7(0x1a1)]=null;static [a0_0x2f14a7(0x1b5)]=null;static [a0_0x2f14a7(0x1ab)]=null;static [a0_0x2f14a7(0x1b6)]=null;static async[a0_0x2f14a7(0x1a6)](_0x3cf0d4=null){const _0x518c8d=a0_0x2f14a7;return this[_0x518c8d(0x1a1)]=_0x518c8d(0x19a),this['tokenizer']??=AutoTokenizer[_0x518c8d(0x1a8)](this['model_id'],{'progress_callback':_0x3cf0d4}),this[_0x518c8d(0x1ab)]??=AutoProcessor[_0x518c8d(0x1a8)](this['model_id'],{'progress_callback':_0x3cf0d4}),this[_0x518c8d(0x1b6)]??=WhisperForConditionalGeneration['from_pretrained'](this[_0x518c8d(0x1a1)],{'dtype':{'encoder_model':_0x518c8d(0x196),'decoder_model_merged':'q4'},'device':_0x518c8d(0x1a0),'progress_callback':_0x3cf0d4}),Promise[_0x518c8d(0x1a7)]([this[_0x518c8d(0x1b5)],this[_0x518c8d(0x1ab)],this['model']]);}}let processing=!0x1;function a0_0x5699(){const _0x2407f6=['695531oCThLK','data','start','generate','tokenizer','model','9661047aLfGSZ','fp32','ready','loading','message','onnx-community/whisper-base','addEventListener','12uocqVB','796sNulAv','update','now','webgpu','model_id','292208EhMCHd','2722842uCpGyy','851794oxoqTi','599530DcqPzZ','getInstance','all','from_pretrained','postMessage','693LHtPpy','processor','load','9UQBxZJ','complete','161YmtNYv','5myGJCF'];a0_0x5699=function(){return _0x2407f6;};return a0_0x5699();}async function generate({audio:_0x3667f3,language:_0x3c0bbd}){const _0x119b0e=a0_0x2f14a7;if(processing)return;processing=!0x0,self[_0x119b0e(0x1a9)]({'status':_0x119b0e(0x1b3)});const [_0x5703ef,_0x273671,_0x42aa91]=await AutomaticSpeechRecognitionPipeline[_0x119b0e(0x1a6)]();let _0xcb5dd4,_0x46c3de=0x0;const _0x20ef83=new TextStreamer(_0x5703ef,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x3ca400=>{const _0x5a9f38=_0x119b0e;let _0x11a2ad;_0xcb5dd4??=performance[_0x5a9f38(0x19f)](),_0x46c3de++>0x0&&(_0x11a2ad=_0x46c3de/(performance[_0x5a9f38(0x19f)]()-_0xcb5dd4)*0x3e8),self['postMessage']({'status':_0x5a9f38(0x19e),'output':_0x3ca400,'tps':_0x11a2ad,'numTokens':_0x46c3de});}}),_0x496fbb=await _0x273671(_0x3667f3),_0x5982c9=await _0x42aa91[_0x119b0e(0x1b4)]({..._0x496fbb,'max_new_tokens':0x40,'language':_0x3c0bbd,'streamer':_0x20ef83}),_0x230897=_0x5703ef['batch_decode'](_0x5982c9,{'skip_special_tokens':!0x0});self[_0x119b0e(0x1a9)]({'status':_0x119b0e(0x1ae),'output':_0x230897}),processing=!0x1;}async function load(){const _0x5bd1d9=a0_0x2f14a7;self[_0x5bd1d9(0x1a9)]({'status':_0x5bd1d9(0x198),'data':'Loading\x20model...'});const [_0x38c182,_0x17adb6,_0x82e7b0]=await AutomaticSpeechRecognitionPipeline[_0x5bd1d9(0x1a6)](_0x5d8221=>{const _0x3dcbfe=_0x5bd1d9;self[_0x3dcbfe(0x1a9)](_0x5d8221);});self[_0x5bd1d9(0x1a9)]({'status':_0x5bd1d9(0x198),'data':'Compiling\x20shaders\x20and\x20warming\x20up\x20model...'}),await _0x82e7b0[_0x5bd1d9(0x1b4)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x5bd1d9(0x1a9)]({'status':_0x5bd1d9(0x197)});}self[a0_0x2f14a7(0x19b)](a0_0x2f14a7(0x199),async _0x4757e8=>{const _0x3ff1fd=a0_0x2f14a7,{type:_0x241e97,data:_0x3fb374}=_0x4757e8[_0x3ff1fd(0x1b2)];switch(_0x241e97){case _0x3ff1fd(0x1ac):load();break;case _0x3ff1fd(0x1b4):generate(_0x3fb374);}});