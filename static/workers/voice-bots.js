const a0_0x4c0da3=a0_0x2cd4;function a0_0x2cd4(_0x282985,_0x4be2c1){const _0x264a08=a0_0x264a();return a0_0x2cd4=function(_0x2cd481,_0x2614d9){_0x2cd481=_0x2cd481-0xcf;let _0x299f11=_0x264a08[_0x2cd481];return _0x299f11;},a0_0x2cd4(_0x282985,_0x4be2c1);}(function(_0x456a16,_0x549f27){const _0x3469c3=a0_0x2cd4,_0x318e3c=_0x456a16();while(!![]){try{const _0x5bc6f0=-parseInt(_0x3469c3(0xe9))/0x1*(parseInt(_0x3469c3(0xd1))/0x2)+-parseInt(_0x3469c3(0xde))/0x3+parseInt(_0x3469c3(0xe7))/0x4+parseInt(_0x3469c3(0xe6))/0x5*(parseInt(_0x3469c3(0xd9))/0x6)+-parseInt(_0x3469c3(0xdb))/0x7*(parseInt(_0x3469c3(0xd3))/0x8)+-parseInt(_0x3469c3(0xd8))/0x9+parseInt(_0x3469c3(0xe0))/0xa;if(_0x5bc6f0===_0x549f27)break;else _0x318e3c['push'](_0x318e3c['shift']());}catch(_0x3bd5be){_0x318e3c['push'](_0x318e3c['shift']());}}}(a0_0x264a,0x216ce));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';function a0_0x264a(){const _0x2d7d9f=['Compiling\x20shaders\x20and\x20warming\x20up\x20model...','tokenizer','postMessage','generate','from_pretrained','34445MWDOcn','812260EJQMEq','model_id','8467wFOwMn','update','Loading\x20model...','webgpu','start','onnx-community/whisper-base','now','14dLdbZJ','all','47784NfQOzG','message','model','getInstance','complete','1647612RuIvJo','66vcxntw','loading','7QjVKEb','processor','data','222792XYFtaU','fp32','1806400GpHSVN'];a0_0x264a=function(){return _0x2d7d9f;};return a0_0x264a();}const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x4c0da3(0xe8)]=null;static [a0_0x4c0da3(0xe2)]=null;static [a0_0x4c0da3(0xdc)]=null;static [a0_0x4c0da3(0xd5)]=null;static async[a0_0x4c0da3(0xd6)](_0x11ea38=null){const _0x255a73=a0_0x4c0da3;return this['model_id']=_0x255a73(0xcf),this['tokenizer']??=AutoTokenizer[_0x255a73(0xe5)](this[_0x255a73(0xe8)],{'progress_callback':_0x11ea38}),this[_0x255a73(0xdc)]??=AutoProcessor[_0x255a73(0xe5)](this[_0x255a73(0xe8)],{'progress_callback':_0x11ea38}),this[_0x255a73(0xd5)]??=WhisperForConditionalGeneration[_0x255a73(0xe5)](this['model_id'],{'dtype':{'encoder_model':_0x255a73(0xdf),'decoder_model_merged':'q4'},'device':_0x255a73(0xec),'progress_callback':_0x11ea38}),Promise[_0x255a73(0xd2)]([this[_0x255a73(0xe2)],this[_0x255a73(0xdc)],this[_0x255a73(0xd5)]]);}}let processing=!0x1;async function generate({audio:_0x5528d2,language:_0x448c17}){const _0x306159=a0_0x4c0da3;if(processing)return;processing=!0x0,self[_0x306159(0xe3)]({'status':_0x306159(0xed)});const [_0x158aa8,_0x11c0e3,_0xdf3893]=await AutomaticSpeechRecognitionPipeline[_0x306159(0xd6)]();let _0x547aa9,_0x2ba2e3=0x0;const _0x406da5=new TextStreamer(_0x158aa8,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0xcf6b4f=>{const _0x38e58b=_0x306159;let _0xef5b69;_0x547aa9??=performance[_0x38e58b(0xd0)](),_0x2ba2e3++>0x0&&(_0xef5b69=_0x2ba2e3/(performance[_0x38e58b(0xd0)]()-_0x547aa9)*0x3e8),self[_0x38e58b(0xe3)]({'status':_0x38e58b(0xea),'output':_0xcf6b4f,'tps':_0xef5b69,'numTokens':_0x2ba2e3});}}),_0x4f4435=await _0x11c0e3(_0x5528d2),_0x1bef5e=await _0xdf3893[_0x306159(0xe4)]({..._0x4f4435,'max_new_tokens':0x40,'language':_0x448c17,'streamer':_0x406da5}),_0x3bdcd8=_0x158aa8['batch_decode'](_0x1bef5e,{'skip_special_tokens':!0x0});self['postMessage']({'status':_0x306159(0xd7),'output':_0x3bdcd8}),processing=!0x1;}async function load(){const _0xa27b90=a0_0x4c0da3;self[_0xa27b90(0xe3)]({'status':_0xa27b90(0xda),'data':_0xa27b90(0xeb)});const [_0x3d19b4,_0x3128e9,_0x3c7156]=await AutomaticSpeechRecognitionPipeline[_0xa27b90(0xd6)](_0x532699=>{const _0x1fb137=_0xa27b90;self[_0x1fb137(0xe3)](_0x532699);});self[_0xa27b90(0xe3)]({'status':_0xa27b90(0xda),'data':_0xa27b90(0xe1)}),await _0x3c7156[_0xa27b90(0xe4)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self['postMessage']({'status':'ready'});}self['addEventListener'](a0_0x4c0da3(0xd4),async _0x333573=>{const _0x3ece32=a0_0x4c0da3,{type:_0x12f515,data:_0x292db4}=_0x333573[_0x3ece32(0xdd)];switch(_0x12f515){case'load':load();break;case'generate':generate(_0x292db4);}});