const a0_0x35e084=a0_0x3ee8;(function(_0x12ff24,_0x120422){const _0x3e7df2=a0_0x3ee8,_0x777732=_0x12ff24();while(!![]){try{const _0x579ec0=-parseInt(_0x3e7df2(0x93))/0x1+-parseInt(_0x3e7df2(0x8a))/0x2+parseInt(_0x3e7df2(0x88))/0x3*(parseInt(_0x3e7df2(0x92))/0x4)+-parseInt(_0x3e7df2(0x89))/0x5+parseInt(_0x3e7df2(0x7f))/0x6*(parseInt(_0x3e7df2(0x7e))/0x7)+parseInt(_0x3e7df2(0x8c))/0x8+parseInt(_0x3e7df2(0x82))/0x9*(parseInt(_0x3e7df2(0x91))/0xa);if(_0x579ec0===_0x120422)break;else _0x777732['push'](_0x777732['shift']());}catch(_0x1e6a24){_0x777732['push'](_0x777732['shift']());}}}(a0_0x3575,0x1cf27));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;function a0_0x3ee8(_0x2baea0,_0x302659){const _0x357581=a0_0x3575();return a0_0x3ee8=function(_0x3ee8c3,_0x19cbe2){_0x3ee8c3=_0x3ee8c3-0x79;let _0x31854a=_0x357581[_0x3ee8c3];return _0x31854a;},a0_0x3ee8(_0x2baea0,_0x302659);}function a0_0x3575(){const _0x2017fd=['batch_decode','data','tokenizer','webgpu','from_pretrained','loading','Loading\x20model...','model','start','24878lHKJCl','258TQksuS','now','complete','27126lgwmKP','all','generate','onnx-community/whisper-base','postMessage','processor','3NObkvb','200280Viorcn','338304TgtfvQ','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','708952UJThZA','message','update','getInstance','ready','570hxfJlz','168988EOvmcE','127711ojfLID','model_id','load'];a0_0x3575=function(){return _0x2017fd;};return a0_0x3575();}class AutomaticSpeechRecognitionPipeline{static ['model_id']=null;static [a0_0x35e084(0x98)]=null;static ['processor']=null;static [a0_0x35e084(0x7c)]=null;static async[a0_0x35e084(0x8f)](_0x314fb3=null){const _0x50d92d=a0_0x35e084;return this[_0x50d92d(0x94)]=_0x50d92d(0x85),this[_0x50d92d(0x98)]??=AutoTokenizer[_0x50d92d(0x79)](this['model_id'],{'progress_callback':_0x314fb3}),this[_0x50d92d(0x87)]??=AutoProcessor['from_pretrained'](this[_0x50d92d(0x94)],{'progress_callback':_0x314fb3}),this[_0x50d92d(0x7c)]??=WhisperForConditionalGeneration['from_pretrained'](this['model_id'],{'dtype':{'encoder_model':'fp32','decoder_model_merged':'q4'},'device':_0x50d92d(0x99),'progress_callback':_0x314fb3}),Promise[_0x50d92d(0x83)]([this[_0x50d92d(0x98)],this[_0x50d92d(0x87)],this['model']]);}}let processing=!0x1;async function generate({audio:_0x2b4857,language:_0xd7902}){const _0x188d53=a0_0x35e084;if(processing)return;processing=!0x0,self[_0x188d53(0x86)]({'status':_0x188d53(0x7d)});const [_0x4beed1,_0x4d70ec,_0xa19670]=await AutomaticSpeechRecognitionPipeline[_0x188d53(0x8f)]();let _0x267bfe,_0xca36da=0x0;const _0x4b32ea=new TextStreamer(_0x4beed1,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x26c2c4=>{const _0x1acf16=_0x188d53;let _0x37fb3b;_0x267bfe??=performance['now'](),_0xca36da++>0x0&&(_0x37fb3b=_0xca36da/(performance[_0x1acf16(0x80)]()-_0x267bfe)*0x3e8),self[_0x1acf16(0x86)]({'status':_0x1acf16(0x8e),'output':_0x26c2c4,'tps':_0x37fb3b,'numTokens':_0xca36da});}}),_0x292582=await _0x4d70ec(_0x2b4857),_0x4fe463=await _0xa19670[_0x188d53(0x84)]({..._0x292582,'max_new_tokens':0x40,'language':_0xd7902,'streamer':_0x4b32ea}),_0x51ac49=_0x4beed1[_0x188d53(0x96)](_0x4fe463,{'skip_special_tokens':!0x0});self[_0x188d53(0x86)]({'status':_0x188d53(0x81),'output':_0x51ac49}),processing=!0x1;}async function load(){const _0xeef1da=a0_0x35e084;self['postMessage']({'status':_0xeef1da(0x7a),'data':_0xeef1da(0x7b)});const [_0x45519a,_0x38d132,_0x1dc79c]=await AutomaticSpeechRecognitionPipeline[_0xeef1da(0x8f)](_0x5e08d3=>{self['postMessage'](_0x5e08d3);});self['postMessage']({'status':_0xeef1da(0x7a),'data':_0xeef1da(0x8b)}),await _0x1dc79c[_0xeef1da(0x84)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0xeef1da(0x86)]({'status':_0xeef1da(0x90)});}self['addEventListener'](a0_0x35e084(0x8d),async _0x56af0f=>{const _0x2b18bd=a0_0x35e084,{type:_0x41b003,data:_0x28ba01}=_0x56af0f[_0x2b18bd(0x97)];switch(_0x41b003){case _0x2b18bd(0x95):load();break;case _0x2b18bd(0x84):generate(_0x28ba01);}});