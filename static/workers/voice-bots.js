function a0_0x11d9(){const _0x5c37bc=['1160194qVzAOW','635042dkqiIL','ready','3255070UJKqui','batch_decode','2922186xOXoVT','postMessage','complete','data','webgpu','all','load','message','model','6GQQVgf','from_pretrained','loading','fp32','Loading\x20model...','2792232fkbbpf','update','model_id','now','tokenizer','924189dAyXaP','8PeyHaj','3187503YdjvGZ','onnx-community/whisper-base','generate','processor','getInstance','start','addEventListener'];a0_0x11d9=function(){return _0x5c37bc;};return a0_0x11d9();}const a0_0x7de0b8=a0_0x4d35;(function(_0x5b15fb,_0x16eae7){const _0xc072c6=a0_0x4d35,_0x357767=_0x5b15fb();while(!![]){try{const _0x1804bd=-parseInt(_0xc072c6(0xc5))/0x1+-parseInt(_0xc072c6(0xb1))/0x2*(parseInt(_0xc072c6(0xbb))/0x3)+parseInt(_0xc072c6(0xb6))/0x4+parseInt(_0xc072c6(0xc7))/0x5+parseInt(_0xc072c6(0xc9))/0x6+-parseInt(_0xc072c6(0xc4))/0x7+parseInt(_0xc072c6(0xbc))/0x8*(parseInt(_0xc072c6(0xbd))/0x9);if(_0x1804bd===_0x16eae7)break;else _0x357767['push'](_0x357767['shift']());}catch(_0x3b14f6){_0x357767['push'](_0x357767['shift']());}}}(a0_0x11d9,0x71991));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x7de0b8(0xb8)]=null;static [a0_0x7de0b8(0xba)]=null;static [a0_0x7de0b8(0xc0)]=null;static [a0_0x7de0b8(0xb0)]=null;static async[a0_0x7de0b8(0xc1)](_0x457e78=null){const _0x555187=a0_0x7de0b8;return this[_0x555187(0xb8)]=_0x555187(0xbe),this[_0x555187(0xba)]??=AutoTokenizer[_0x555187(0xb2)](this[_0x555187(0xb8)],{'progress_callback':_0x457e78}),this['processor']??=AutoProcessor[_0x555187(0xb2)](this[_0x555187(0xb8)],{'progress_callback':_0x457e78}),this['model']??=WhisperForConditionalGeneration[_0x555187(0xb2)](this['model_id'],{'dtype':{'encoder_model':_0x555187(0xb4),'decoder_model_merged':'q4'},'device':_0x555187(0xcd),'progress_callback':_0x457e78}),Promise[_0x555187(0xad)]([this[_0x555187(0xba)],this[_0x555187(0xc0)],this[_0x555187(0xb0)]]);}}function a0_0x4d35(_0x5280ad,_0x4ac51d){const _0x11d9c3=a0_0x11d9();return a0_0x4d35=function(_0x4d35a5,_0x58f4fb){_0x4d35a5=_0x4d35a5-0xad;let _0xdfd151=_0x11d9c3[_0x4d35a5];return _0xdfd151;},a0_0x4d35(_0x5280ad,_0x4ac51d);}let processing=!0x1;async function generate({audio:_0x476138,language:_0x2929d7}){const _0x53603c=a0_0x7de0b8;if(processing)return;processing=!0x0,self[_0x53603c(0xca)]({'status':_0x53603c(0xc2)});const [_0x2b8b2c,_0x51034e,_0x8cc81d]=await AutomaticSpeechRecognitionPipeline[_0x53603c(0xc1)]();let _0xdef611,_0x536da2=0x0;const _0x4b8c19=new TextStreamer(_0x2b8b2c,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x181d25=>{const _0x51353e=_0x53603c;let _0x3e098c;_0xdef611??=performance[_0x51353e(0xb9)](),_0x536da2++>0x0&&(_0x3e098c=_0x536da2/(performance[_0x51353e(0xb9)]()-_0xdef611)*0x3e8),self[_0x51353e(0xca)]({'status':_0x51353e(0xb7),'output':_0x181d25,'tps':_0x3e098c,'numTokens':_0x536da2});}}),_0xe11470=await _0x51034e(_0x476138),_0x33e312=await _0x8cc81d[_0x53603c(0xbf)]({..._0xe11470,'max_new_tokens':0x40,'language':_0x2929d7,'streamer':_0x4b8c19}),_0x55e65c=_0x2b8b2c[_0x53603c(0xc8)](_0x33e312,{'skip_special_tokens':!0x0});self[_0x53603c(0xca)]({'status':_0x53603c(0xcb),'output':_0x55e65c}),processing=!0x1;}async function load(){const _0x12661e=a0_0x7de0b8;self['postMessage']({'status':_0x12661e(0xb3),'data':_0x12661e(0xb5)});const [_0x5e1a4c,_0x18181b,_0x5ac188]=await AutomaticSpeechRecognitionPipeline[_0x12661e(0xc1)](_0x2a2c40=>{self['postMessage'](_0x2a2c40);});self[_0x12661e(0xca)]({'status':'loading','data':'Compiling\x20shaders\x20and\x20warming\x20up\x20model...'}),await _0x5ac188['generate']({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x12661e(0xca)]({'status':_0x12661e(0xc6)});}self[a0_0x7de0b8(0xc3)](a0_0x7de0b8(0xaf),async _0x4c5ccf=>{const _0x1fc971=a0_0x7de0b8,{type:_0x3614ed,data:_0xd410d8}=_0x4c5ccf[_0x1fc971(0xcc)];switch(_0x3614ed){case _0x1fc971(0xae):load();break;case _0x1fc971(0xbf):generate(_0xd410d8);}});