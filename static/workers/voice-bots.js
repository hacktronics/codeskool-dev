const a0_0x37d405=a0_0x1d66;(function(_0x4cff44,_0x5e6bd9){const _0x3038ff=a0_0x1d66,_0x4bbb67=_0x4cff44();while(!![]){try{const _0x1a393c=-parseInt(_0x3038ff(0x1d8))/0x1*(-parseInt(_0x3038ff(0x1dc))/0x2)+-parseInt(_0x3038ff(0x1dd))/0x3*(-parseInt(_0x3038ff(0x1d6))/0x4)+parseInt(_0x3038ff(0x1e4))/0x5*(parseInt(_0x3038ff(0x1e6))/0x6)+-parseInt(_0x3038ff(0x1e9))/0x7+-parseInt(_0x3038ff(0x1e2))/0x8+-parseInt(_0x3038ff(0x1ed))/0x9+parseInt(_0x3038ff(0x1ec))/0xa;if(_0x1a393c===_0x5e6bd9)break;else _0x4bbb67['push'](_0x4bbb67['shift']());}catch(_0xc96343){_0x4bbb67['push'](_0x4bbb67['shift']());}}}(a0_0x31a4,0xb3902));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static ['model_id']=null;static ['tokenizer']=null;static [a0_0x37d405(0x1d9)]=null;static [a0_0x37d405(0x1e8)]=null;static async[a0_0x37d405(0x1da)](_0x111a31=null){const _0x455d1c=a0_0x37d405;return this[_0x455d1c(0x1ee)]='onnx-community/whisper-base',this[_0x455d1c(0x1e5)]??=AutoTokenizer[_0x455d1c(0x1e1)](this[_0x455d1c(0x1ee)],{'progress_callback':_0x111a31}),this[_0x455d1c(0x1d9)]??=AutoProcessor[_0x455d1c(0x1e1)](this['model_id'],{'progress_callback':_0x111a31}),this['model']??=WhisperForConditionalGeneration[_0x455d1c(0x1e1)](this['model_id'],{'dtype':{'encoder_model':'fp32','decoder_model_merged':'q4'},'device':_0x455d1c(0x1d5),'progress_callback':_0x111a31}),Promise[_0x455d1c(0x1d4)]([this[_0x455d1c(0x1e5)],this[_0x455d1c(0x1d9)],this[_0x455d1c(0x1e8)]]);}}let processing=!0x1;async function generate({audio:_0x29064f,language:_0xeebb2}){const _0x3e61a7=a0_0x37d405;if(processing)return;processing=!0x0,self[_0x3e61a7(0x1ef)]({'status':_0x3e61a7(0x1f0)});const [_0x54d87d,_0x5ac7d2,_0x3e5f0a]=await AutomaticSpeechRecognitionPipeline[_0x3e61a7(0x1da)]();let _0x25370a,_0x518e3c=0x0;const _0x586fbe=new TextStreamer(_0x54d87d,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x475870=>{const _0x1cba87=_0x3e61a7;let _0x1e128a;_0x25370a??=performance[_0x1cba87(0x1f1)](),_0x518e3c++>0x0&&(_0x1e128a=_0x518e3c/(performance[_0x1cba87(0x1f1)]()-_0x25370a)*0x3e8),self['postMessage']({'status':_0x1cba87(0x1d7),'output':_0x475870,'tps':_0x1e128a,'numTokens':_0x518e3c});}}),_0x514aac=await _0x5ac7d2(_0x29064f),_0x30f7dd=await _0x3e5f0a[_0x3e61a7(0x1eb)]({..._0x514aac,'max_new_tokens':0x40,'language':_0xeebb2,'streamer':_0x586fbe}),_0x33343d=_0x54d87d[_0x3e61a7(0x1e7)](_0x30f7dd,{'skip_special_tokens':!0x0});self[_0x3e61a7(0x1ef)]({'status':'complete','output':_0x33343d}),processing=!0x1;}async function load(){const _0x8db76=a0_0x37d405;self['postMessage']({'status':_0x8db76(0x1ea),'data':_0x8db76(0x1e3)});const [_0x2f2f65,_0x54d620,_0x7985ac]=await AutomaticSpeechRecognitionPipeline['getInstance'](_0x374b36=>{const _0x3d1330=_0x8db76;self[_0x3d1330(0x1ef)](_0x374b36);});self['postMessage']({'status':'loading','data':'Compiling\x20shaders\x20and\x20warming\x20up\x20model...'}),await _0x7985ac[_0x8db76(0x1eb)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x8db76(0x1ef)]({'status':'ready'});}function a0_0x1d66(_0x37ff15,_0x4d9c4){const _0x31a491=a0_0x31a4();return a0_0x1d66=function(_0x1d66c3,_0x523ab2){_0x1d66c3=_0x1d66c3-0x1d4;let _0x4c06e5=_0x31a491[_0x1d66c3];return _0x4c06e5;},a0_0x1d66(_0x37ff15,_0x4d9c4);}function a0_0x31a4(){const _0x228d09=['337BcEMgo','processor','getInstance','message','7258OjLlPA','43098decUuH','data','addEventListener','load','from_pretrained','3527808ToPbJw','Loading\x20model...','185YwqTDu','tokenizer','235620WCmbUS','batch_decode','model','9290358wVTkFb','loading','generate','4666870mXXRnC','9371142PsRjam','model_id','postMessage','start','now','all','webgpu','112IRSZeN','update'];a0_0x31a4=function(){return _0x228d09;};return a0_0x31a4();}self[a0_0x37d405(0x1df)](a0_0x37d405(0x1db),async _0xdddfd2=>{const _0x204a1c=a0_0x37d405,{type:_0x44a111,data:_0x3a71ec}=_0xdddfd2[_0x204a1c(0x1de)];switch(_0x44a111){case _0x204a1c(0x1e0):load();break;case'generate':generate(_0x3a71ec);}});