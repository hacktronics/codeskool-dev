const a0_0x296243=a0_0x17e7;(function(_0x451577,_0x4c47dc){const _0x1deeab=a0_0x17e7,_0x3000c0=_0x451577();while(!![]){try{const _0x38bcd2=-parseInt(_0x1deeab(0x1b1))/0x1+parseInt(_0x1deeab(0x1a8))/0x2+parseInt(_0x1deeab(0x1b0))/0x3+parseInt(_0x1deeab(0x1b3))/0x4*(-parseInt(_0x1deeab(0x1bd))/0x5)+-parseInt(_0x1deeab(0x1aa))/0x6*(parseInt(_0x1deeab(0x1b5))/0x7)+-parseInt(_0x1deeab(0x1a7))/0x8+parseInt(_0x1deeab(0x1b2))/0x9;if(_0x38bcd2===_0x4c47dc)break;else _0x3000c0['push'](_0x3000c0['shift']());}catch(_0x425384){_0x3000c0['push'](_0x3000c0['shift']());}}}(a0_0x22a9,0xa7c94));function a0_0x17e7(_0xfc776c,_0x1db14f){const _0x22a954=a0_0x22a9();return a0_0x17e7=function(_0x17e737,_0x198f38){_0x17e737=_0x17e737-0x1a5;let _0x55e8bd=_0x22a954[_0x17e737];return _0x55e8bd;},a0_0x17e7(_0xfc776c,_0x1db14f);}import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;function a0_0x22a9(){const _0x12a59b=['24610347oFOeLp','51092nMBAdJ','postMessage','126YynddV','addEventListener','loading','generate','tokenizer','model','start','all','510CQGaFh','processor','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','update','now','load','onnx-community/whisper-base','complete','ready','701504koqUxI','186792oywwRr','model_id','120858xBEVSi','getInstance','message','batch_decode','from_pretrained','Loading\x20model...','2322213TTvxCn','1161590pOtZXi'];a0_0x22a9=function(){return _0x12a59b;};return a0_0x22a9();}class AutomaticSpeechRecognitionPipeline{static [a0_0x296243(0x1a9)]=null;static [a0_0x296243(0x1b9)]=null;static [a0_0x296243(0x1be)]=null;static [a0_0x296243(0x1ba)]=null;static async[a0_0x296243(0x1ab)](_0xe3821b=null){const _0x15fa38=a0_0x296243;return this[_0x15fa38(0x1a9)]=_0x15fa38(0x1c3),this[_0x15fa38(0x1b9)]??=AutoTokenizer[_0x15fa38(0x1ae)](this[_0x15fa38(0x1a9)],{'progress_callback':_0xe3821b}),this[_0x15fa38(0x1be)]??=AutoProcessor[_0x15fa38(0x1ae)](this[_0x15fa38(0x1a9)],{'progress_callback':_0xe3821b}),this[_0x15fa38(0x1ba)]??=WhisperForConditionalGeneration[_0x15fa38(0x1ae)](this[_0x15fa38(0x1a9)],{'dtype':{'encoder_model':'fp32','decoder_model_merged':'q4'},'device':'webgpu','progress_callback':_0xe3821b}),Promise[_0x15fa38(0x1bc)]([this[_0x15fa38(0x1b9)],this['processor'],this[_0x15fa38(0x1ba)]]);}}let processing=!0x1;async function generate({audio:_0x4aafbe,language:_0x4052f3}){const _0x1ce177=a0_0x296243;if(processing)return;processing=!0x0,self[_0x1ce177(0x1b4)]({'status':_0x1ce177(0x1bb)});const [_0x30661f,_0x27e8a2,_0x3fe2a2]=await AutomaticSpeechRecognitionPipeline[_0x1ce177(0x1ab)]();let _0xb8d46f,_0x9d73b0=0x0;const _0xa6b6cf=new TextStreamer(_0x30661f,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x3ab714=>{const _0x143fae=_0x1ce177;let _0x2568a3;_0xb8d46f??=performance['now'](),_0x9d73b0++>0x0&&(_0x2568a3=_0x9d73b0/(performance[_0x143fae(0x1c1)]()-_0xb8d46f)*0x3e8),self[_0x143fae(0x1b4)]({'status':_0x143fae(0x1c0),'output':_0x3ab714,'tps':_0x2568a3,'numTokens':_0x9d73b0});}}),_0x4d9212=await _0x27e8a2(_0x4aafbe),_0x5b655f=await _0x3fe2a2[_0x1ce177(0x1b8)]({..._0x4d9212,'max_new_tokens':0x40,'language':_0x4052f3,'streamer':_0xa6b6cf}),_0x3a5f4d=_0x30661f[_0x1ce177(0x1ad)](_0x5b655f,{'skip_special_tokens':!0x0});self[_0x1ce177(0x1b4)]({'status':_0x1ce177(0x1a5),'output':_0x3a5f4d}),processing=!0x1;}async function load(){const _0x546b14=a0_0x296243;self[_0x546b14(0x1b4)]({'status':_0x546b14(0x1b7),'data':_0x546b14(0x1af)});const [_0x39ca4d,_0x1db5c3,_0x5c6772]=await AutomaticSpeechRecognitionPipeline[_0x546b14(0x1ab)](_0x439378=>{const _0x2aa03a=_0x546b14;self[_0x2aa03a(0x1b4)](_0x439378);});self[_0x546b14(0x1b4)]({'status':'loading','data':_0x546b14(0x1bf)}),await _0x5c6772[_0x546b14(0x1b8)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x546b14(0x1b4)]({'status':_0x546b14(0x1a6)});}self[a0_0x296243(0x1b6)](a0_0x296243(0x1ac),async _0x1d74eb=>{const _0x364415=a0_0x296243,{type:_0x5b6484,data:_0x2b419e}=_0x1d74eb['data'];switch(_0x5b6484){case _0x364415(0x1c2):load();break;case _0x364415(0x1b8):generate(_0x2b419e);}});