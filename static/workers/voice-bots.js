const a0_0x2ec9d4=a0_0x1d47;(function(_0x24fe59,_0x5de490){const _0x5426b4=a0_0x1d47,_0xff8713=_0x24fe59();while(!![]){try{const _0x2c147a=-parseInt(_0x5426b4(0x15e))/0x1+-parseInt(_0x5426b4(0x149))/0x2*(parseInt(_0x5426b4(0x154))/0x3)+parseInt(_0x5426b4(0x15d))/0x4*(-parseInt(_0x5426b4(0x157))/0x5)+-parseInt(_0x5426b4(0x144))/0x6*(parseInt(_0x5426b4(0x141))/0x7)+parseInt(_0x5426b4(0x14c))/0x8+parseInt(_0x5426b4(0x142))/0x9*(-parseInt(_0x5426b4(0x13c))/0xa)+parseInt(_0x5426b4(0x14f))/0xb;if(_0x2c147a===_0x5de490)break;else _0xff8713['push'](_0xff8713['shift']());}catch(_0x44f2ae){_0xff8713['push'](_0xff8713['shift']());}}}(a0_0x8fbb,0xb5180));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';function a0_0x8fbb(){const _0x467635=['tokenizer','Loading\x20model...','postMessage','4yUWITB','718458BciKMp','771140TMtfHJ','data','update','model','getInstance','31549OFaqYO','18dVvhPc','processor','1758hRmDog','loading','load','all','batch_decode','6sYatQN','message','model_id','1807680eUUFvu','fp32','complete','41468779bvUojD','ready','now','addEventListener','start','438507arxLud','generate','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','3111725AvWozy','onnx-community/whisper-base','from_pretrained'];a0_0x8fbb=function(){return _0x467635;};return a0_0x8fbb();}const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static ['model_id']=null;static [a0_0x2ec9d4(0x15a)]=null;static [a0_0x2ec9d4(0x143)]=null;static [a0_0x2ec9d4(0x13f)]=null;static async['getInstance'](_0x1fe57a=null){const _0x402e87=a0_0x2ec9d4;return this[_0x402e87(0x14b)]=_0x402e87(0x158),this[_0x402e87(0x15a)]??=AutoTokenizer[_0x402e87(0x159)](this[_0x402e87(0x14b)],{'progress_callback':_0x1fe57a}),this[_0x402e87(0x143)]??=AutoProcessor[_0x402e87(0x159)](this[_0x402e87(0x14b)],{'progress_callback':_0x1fe57a}),this[_0x402e87(0x13f)]??=WhisperForConditionalGeneration['from_pretrained'](this[_0x402e87(0x14b)],{'dtype':{'encoder_model':_0x402e87(0x14d),'decoder_model_merged':'q4'},'device':'webgpu','progress_callback':_0x1fe57a}),Promise[_0x402e87(0x147)]([this[_0x402e87(0x15a)],this['processor'],this[_0x402e87(0x13f)]]);}}let processing=!0x1;async function generate({audio:_0x2167d0,language:_0x1b868f}){const _0x231787=a0_0x2ec9d4;if(processing)return;processing=!0x0,self[_0x231787(0x15c)]({'status':_0x231787(0x153)});const [_0x48ab14,_0x21315e,_0x42258f]=await AutomaticSpeechRecognitionPipeline[_0x231787(0x140)]();let _0x10ea12,_0x3e863c=0x0;const _0x1ac609=new TextStreamer(_0x48ab14,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x5f382e=>{const _0x1b821b=_0x231787;let _0x5aabf0;_0x10ea12??=performance[_0x1b821b(0x151)](),_0x3e863c++>0x0&&(_0x5aabf0=_0x3e863c/(performance['now']()-_0x10ea12)*0x3e8),self['postMessage']({'status':_0x1b821b(0x13e),'output':_0x5f382e,'tps':_0x5aabf0,'numTokens':_0x3e863c});}}),_0x1f692b=await _0x21315e(_0x2167d0),_0x874386=await _0x42258f[_0x231787(0x155)]({..._0x1f692b,'max_new_tokens':0x40,'language':_0x1b868f,'streamer':_0x1ac609}),_0x3ad347=_0x48ab14[_0x231787(0x148)](_0x874386,{'skip_special_tokens':!0x0});self['postMessage']({'status':_0x231787(0x14e),'output':_0x3ad347}),processing=!0x1;}function a0_0x1d47(_0x26d2ef,_0x419efd){const _0x8fbbc1=a0_0x8fbb();return a0_0x1d47=function(_0x1d4723,_0x5ec656){_0x1d4723=_0x1d4723-0x13c;let _0x435a19=_0x8fbbc1[_0x1d4723];return _0x435a19;},a0_0x1d47(_0x26d2ef,_0x419efd);}async function load(){const _0x17fa5f=a0_0x2ec9d4;self['postMessage']({'status':_0x17fa5f(0x145),'data':_0x17fa5f(0x15b)});const [_0x5bee5a,_0x363087,_0x446388]=await AutomaticSpeechRecognitionPipeline[_0x17fa5f(0x140)](_0x474f29=>{const _0x1cdf3a=_0x17fa5f;self[_0x1cdf3a(0x15c)](_0x474f29);});self[_0x17fa5f(0x15c)]({'status':'loading','data':_0x17fa5f(0x156)}),await _0x446388[_0x17fa5f(0x155)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x17fa5f(0x15c)]({'status':_0x17fa5f(0x150)});}self[a0_0x2ec9d4(0x152)](a0_0x2ec9d4(0x14a),async _0x2c338e=>{const _0x245b78=a0_0x2ec9d4,{type:_0x5d569e,data:_0x376c79}=_0x2c338e[_0x245b78(0x13d)];switch(_0x5d569e){case _0x245b78(0x146):load();break;case _0x245b78(0x155):generate(_0x376c79);}});