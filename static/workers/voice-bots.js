function a0_0x26a0(){const _0x40eb2d=['batch_decode','50iBiKrv','3804206EcwvgR','Loading\x20model...','15SUjfVH','update','getInstance','model_id','webgpu','ready','14658360QseRxm','loading','704790ZznGea','all','load','tokenizer','660870RCwpfa','model','fp32','4lCgjrz','message','256612TdriqM','postMessage','from_pretrained','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','processor','8JQLOhF','249887qNjfaG','onnx-community/whisper-base','start','2862621bUXaMN','generate','now','data'];a0_0x26a0=function(){return _0x40eb2d;};return a0_0x26a0();}const a0_0x5c6375=a0_0x32bf;(function(_0xc3bc08,_0x5800fe){const _0xc01c1=a0_0x32bf,_0x4c0023=_0xc3bc08();while(!![]){try{const _0x3ce4d6=parseInt(_0xc01c1(0x1fc))/0x1*(parseInt(_0xc01c1(0x1fe))/0x2)+parseInt(_0xc01c1(0x207))/0x3*(parseInt(_0xc01c1(0x203))/0x4)+parseInt(_0xc01c1(0x20f))/0x5*(-parseInt(_0xc01c1(0x1f9))/0x6)+parseInt(_0xc01c1(0x20d))/0x7+-parseInt(_0xc01c1(0x1f3))/0x8+parseInt(_0xc01c1(0x1f5))/0x9+-parseInt(_0xc01c1(0x20c))/0xa*(-parseInt(_0xc01c1(0x204))/0xb);if(_0x3ce4d6===_0x5800fe)break;else _0x4c0023['push'](_0x4c0023['shift']());}catch(_0x489eda){_0x4c0023['push'](_0x4c0023['shift']());}}}(a0_0x26a0,0xf2bd5));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';function a0_0x32bf(_0x1e450f,_0x5c4b01){const _0x26a07f=a0_0x26a0();return a0_0x32bf=function(_0x32bf84,_0x2722ae){_0x32bf84=_0x32bf84-0x1ef;let _0x31e086=_0x26a07f[_0x32bf84];return _0x31e086;},a0_0x32bf(_0x1e450f,_0x5c4b01);}const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static ['model_id']=null;static [a0_0x5c6375(0x1f8)]=null;static [a0_0x5c6375(0x202)]=null;static [a0_0x5c6375(0x1fa)]=null;static async[a0_0x5c6375(0x1ef)](_0x47aeae=null){const _0x58456b=a0_0x5c6375;return this[_0x58456b(0x1f0)]=_0x58456b(0x205),this['tokenizer']??=AutoTokenizer[_0x58456b(0x200)](this['model_id'],{'progress_callback':_0x47aeae}),this['processor']??=AutoProcessor[_0x58456b(0x200)](this[_0x58456b(0x1f0)],{'progress_callback':_0x47aeae}),this[_0x58456b(0x1fa)]??=WhisperForConditionalGeneration[_0x58456b(0x200)](this[_0x58456b(0x1f0)],{'dtype':{'encoder_model':_0x58456b(0x1fb),'decoder_model_merged':'q4'},'device':_0x58456b(0x1f1),'progress_callback':_0x47aeae}),Promise[_0x58456b(0x1f6)]([this[_0x58456b(0x1f8)],this[_0x58456b(0x202)],this[_0x58456b(0x1fa)]]);}}let processing=!0x1;async function generate({audio:_0x5588b1,language:_0x4f65b2}){const _0x4b4579=a0_0x5c6375;if(processing)return;processing=!0x0,self[_0x4b4579(0x1ff)]({'status':_0x4b4579(0x206)});const [_0x2132f3,_0x498e51,_0x77d89b]=await AutomaticSpeechRecognitionPipeline[_0x4b4579(0x1ef)]();let _0x3ebba4,_0xfdda71=0x0;const _0x31608e=new TextStreamer(_0x2132f3,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x6f2f0d=>{const _0x88274=_0x4b4579;let _0x22116b;_0x3ebba4??=performance[_0x88274(0x209)](),_0xfdda71++>0x0&&(_0x22116b=_0xfdda71/(performance[_0x88274(0x209)]()-_0x3ebba4)*0x3e8),self[_0x88274(0x1ff)]({'status':_0x88274(0x210),'output':_0x6f2f0d,'tps':_0x22116b,'numTokens':_0xfdda71});}}),_0x491183=await _0x498e51(_0x5588b1),_0xa39ba5=await _0x77d89b[_0x4b4579(0x208)]({..._0x491183,'max_new_tokens':0x40,'language':_0x4f65b2,'streamer':_0x31608e}),_0x417dff=_0x2132f3[_0x4b4579(0x20b)](_0xa39ba5,{'skip_special_tokens':!0x0});self[_0x4b4579(0x1ff)]({'status':'complete','output':_0x417dff}),processing=!0x1;}async function load(){const _0x52a903=a0_0x5c6375;self[_0x52a903(0x1ff)]({'status':_0x52a903(0x1f4),'data':_0x52a903(0x20e)});const [_0x54a7ae,_0xf88743,_0x518972]=await AutomaticSpeechRecognitionPipeline[_0x52a903(0x1ef)](_0x336955=>{const _0x21cd2a=_0x52a903;self[_0x21cd2a(0x1ff)](_0x336955);});self[_0x52a903(0x1ff)]({'status':_0x52a903(0x1f4),'data':_0x52a903(0x201)}),await _0x518972[_0x52a903(0x208)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x52a903(0x1ff)]({'status':_0x52a903(0x1f2)});}self['addEventListener'](a0_0x5c6375(0x1fd),async _0x35228a=>{const _0x221c5a=a0_0x5c6375,{type:_0x59449c,data:_0x378419}=_0x35228a[_0x221c5a(0x20a)];switch(_0x59449c){case _0x221c5a(0x1f7):load();break;case _0x221c5a(0x208):generate(_0x378419);}});