const a0_0x16dc7e=a0_0x2209;(function(_0x3edb96,_0x4ec090){const _0x266f8f=a0_0x2209,_0x57b8ea=_0x3edb96();while(!![]){try{const _0xae0e5e=parseInt(_0x266f8f(0x121))/0x1*(-parseInt(_0x266f8f(0x110))/0x2)+parseInt(_0x266f8f(0x11f))/0x3*(parseInt(_0x266f8f(0x12a))/0x4)+-parseInt(_0x266f8f(0x117))/0x5*(-parseInt(_0x266f8f(0x12c))/0x6)+parseInt(_0x266f8f(0x116))/0x7+-parseInt(_0x266f8f(0x10c))/0x8*(-parseInt(_0x266f8f(0x11d))/0x9)+-parseInt(_0x266f8f(0x128))/0xa*(-parseInt(_0x266f8f(0x10d))/0xb)+parseInt(_0x266f8f(0x127))/0xc*(-parseInt(_0x266f8f(0x10b))/0xd);if(_0xae0e5e===_0x4ec090)break;else _0x57b8ea['push'](_0x57b8ea['shift']());}catch(_0x3ff465){_0x57b8ea['push'](_0x57b8ea['shift']());}}}(a0_0x3081,0xe466a));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';function a0_0x3081(){const _0x4d7abc=['model','generate','complete','getInstance','update','10927966YHcLGo','5905waVlDE','loading','from_pretrained','webgpu','fp32','postMessage','9379908FSqijB','load','4362357vQoBrE','tokenizer','45125XUfmtM','all','addEventListener','start','model_id','onnx-community/whisper-base','8926524UoEyFF','10SXkGox','data','4oeGlHE','batch_decode','8358aGzMMG','processor','65oMSdor','8mfuLie','6841318PSSjqV','ready','now','74DEwjza'];a0_0x3081=function(){return _0x4d7abc;};return a0_0x3081();}const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x16dc7e(0x125)]=null;static [a0_0x16dc7e(0x120)]=null;static [a0_0x16dc7e(0x12d)]=null;static [a0_0x16dc7e(0x111)]=null;static async['getInstance'](_0x398d43=null){const _0x299fe0=a0_0x16dc7e;return this[_0x299fe0(0x125)]=_0x299fe0(0x126),this[_0x299fe0(0x120)]??=AutoTokenizer[_0x299fe0(0x119)](this[_0x299fe0(0x125)],{'progress_callback':_0x398d43}),this[_0x299fe0(0x12d)]??=AutoProcessor[_0x299fe0(0x119)](this['model_id'],{'progress_callback':_0x398d43}),this['model']??=WhisperForConditionalGeneration[_0x299fe0(0x119)](this[_0x299fe0(0x125)],{'dtype':{'encoder_model':_0x299fe0(0x11b),'decoder_model_merged':'q4'},'device':_0x299fe0(0x11a),'progress_callback':_0x398d43}),Promise[_0x299fe0(0x122)]([this['tokenizer'],this[_0x299fe0(0x12d)],this['model']]);}}let processing=!0x1;function a0_0x2209(_0x3a7653,_0x1bac94){const _0x308159=a0_0x3081();return a0_0x2209=function(_0x2209a9,_0x198b4a){_0x2209a9=_0x2209a9-0x10b;let _0x59df54=_0x308159[_0x2209a9];return _0x59df54;},a0_0x2209(_0x3a7653,_0x1bac94);}async function generate({audio:_0x1f4a15,language:_0x6df30f}){const _0x49d100=a0_0x16dc7e;if(processing)return;processing=!0x0,self['postMessage']({'status':_0x49d100(0x124)});const [_0x1ec090,_0x4629c5,_0x2ad6f9]=await AutomaticSpeechRecognitionPipeline[_0x49d100(0x114)]();let _0x299936,_0x3814b9=0x0;const _0x44e31a=new TextStreamer(_0x1ec090,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x5e306b=>{const _0x25176d=_0x49d100;let _0x4de5d0;_0x299936??=performance[_0x25176d(0x10f)](),_0x3814b9++>0x0&&(_0x4de5d0=_0x3814b9/(performance[_0x25176d(0x10f)]()-_0x299936)*0x3e8),self[_0x25176d(0x11c)]({'status':_0x25176d(0x115),'output':_0x5e306b,'tps':_0x4de5d0,'numTokens':_0x3814b9});}}),_0x6b2b62=await _0x4629c5(_0x1f4a15),_0x4363a6=await _0x2ad6f9[_0x49d100(0x112)]({..._0x6b2b62,'max_new_tokens':0x40,'language':_0x6df30f,'streamer':_0x44e31a}),_0x4bb587=_0x1ec090[_0x49d100(0x12b)](_0x4363a6,{'skip_special_tokens':!0x0});self['postMessage']({'status':_0x49d100(0x113),'output':_0x4bb587}),processing=!0x1;}async function load(){const _0x581401=a0_0x16dc7e;self[_0x581401(0x11c)]({'status':_0x581401(0x118),'data':'Loading\x20model...'});const [_0x56efbc,_0x44f50f,_0x4a1f63]=await AutomaticSpeechRecognitionPipeline[_0x581401(0x114)](_0x4974c5=>{const _0xb8770a=_0x581401;self[_0xb8770a(0x11c)](_0x4974c5);});self[_0x581401(0x11c)]({'status':_0x581401(0x118),'data':'Compiling\x20shaders\x20and\x20warming\x20up\x20model...'}),await _0x4a1f63['generate']({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x581401(0x11c)]({'status':_0x581401(0x10e)});}self[a0_0x16dc7e(0x123)]('message',async _0x1c14b6=>{const _0x271fff=a0_0x16dc7e,{type:_0x52c2a3,data:_0xaee6a}=_0x1c14b6[_0x271fff(0x129)];switch(_0x52c2a3){case _0x271fff(0x11e):load();break;case'generate':generate(_0xaee6a);}});