const a0_0x5958c0=a0_0xd2ad;(function(_0x7d939,_0x2d8862){const _0x975a8f=a0_0xd2ad,_0x21aeb4=_0x7d939();while(!![]){try{const _0x213670=parseInt(_0x975a8f(0x1f6))/0x1+parseInt(_0x975a8f(0x1fd))/0x2+parseInt(_0x975a8f(0x1ea))/0x3+parseInt(_0x975a8f(0x1f9))/0x4*(-parseInt(_0x975a8f(0x1ec))/0x5)+parseInt(_0x975a8f(0x1f5))/0x6*(parseInt(_0x975a8f(0x1e5))/0x7)+parseInt(_0x975a8f(0x1f8))/0x8+-parseInt(_0x975a8f(0x1ee))/0x9;if(_0x213670===_0x2d8862)break;else _0x21aeb4['push'](_0x21aeb4['shift']());}catch(_0x16d149){_0x21aeb4['push'](_0x21aeb4['shift']());}}}(a0_0x51c5,0x97e58));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';function a0_0x51c5(){const _0x5efb61=['Compiling\x20shaders\x20and\x20warming\x20up\x20model...','6TLEzeB','1046894uGptLj','loading','2747968qWJreq','11924oKfdNI','generate','complete','onnx-community/whisper-base','641842cRmQqq','model_id','tokenizer','from_pretrained','webgpu','ready','1718878KggONq','Loading\x20model...','model','all','getInstance','351144nnpLwL','processor','150NinVeN','fp32','12260835FTbVwS','load','message','addEventListener','postMessage','update'];a0_0x51c5=function(){return _0x5efb61;};return a0_0x51c5();}const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x5958c0(0x1fe)]=null;static ['tokenizer']=null;static [a0_0x5958c0(0x1eb)]=null;static [a0_0x5958c0(0x1e7)]=null;static async[a0_0x5958c0(0x1e9)](_0x45694b=null){const _0x58046b=a0_0x5958c0;return this['model_id']=_0x58046b(0x1fc),this[_0x58046b(0x1ff)]??=AutoTokenizer[_0x58046b(0x1e2)](this['model_id'],{'progress_callback':_0x45694b}),this['processor']??=AutoProcessor['from_pretrained'](this[_0x58046b(0x1fe)],{'progress_callback':_0x45694b}),this[_0x58046b(0x1e7)]??=WhisperForConditionalGeneration[_0x58046b(0x1e2)](this['model_id'],{'dtype':{'encoder_model':_0x58046b(0x1ed),'decoder_model_merged':'q4'},'device':_0x58046b(0x1e3),'progress_callback':_0x45694b}),Promise[_0x58046b(0x1e8)]([this['tokenizer'],this[_0x58046b(0x1eb)],this[_0x58046b(0x1e7)]]);}}function a0_0xd2ad(_0x29ade4,_0x41fddb){const _0x51c558=a0_0x51c5();return a0_0xd2ad=function(_0xd2ad45,_0x9ef3bb){_0xd2ad45=_0xd2ad45-0x1e2;let _0x380a8e=_0x51c558[_0xd2ad45];return _0x380a8e;},a0_0xd2ad(_0x29ade4,_0x41fddb);}let processing=!0x1;async function generate({audio:_0x59f879,language:_0x3480d2}){const _0x387c1c=a0_0x5958c0;if(processing)return;processing=!0x0,self[_0x387c1c(0x1f2)]({'status':'start'});const [_0x2e26fa,_0x394825,_0x51a90f]=await AutomaticSpeechRecognitionPipeline['getInstance']();let _0x2032ea,_0x14a0de=0x0;const _0x32c2dc=new TextStreamer(_0x2e26fa,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x2d08ba=>{const _0x1ee310=_0x387c1c;let _0x97e78d;_0x2032ea??=performance['now'](),_0x14a0de++>0x0&&(_0x97e78d=_0x14a0de/(performance['now']()-_0x2032ea)*0x3e8),self[_0x1ee310(0x1f2)]({'status':_0x1ee310(0x1f3),'output':_0x2d08ba,'tps':_0x97e78d,'numTokens':_0x14a0de});}}),_0x599ff5=await _0x394825(_0x59f879),_0x23937d=await _0x51a90f[_0x387c1c(0x1fa)]({..._0x599ff5,'max_new_tokens':0x40,'language':_0x3480d2,'streamer':_0x32c2dc}),_0x204299=_0x2e26fa['batch_decode'](_0x23937d,{'skip_special_tokens':!0x0});self[_0x387c1c(0x1f2)]({'status':_0x387c1c(0x1fb),'output':_0x204299}),processing=!0x1;}async function load(){const _0x15fd6b=a0_0x5958c0;self[_0x15fd6b(0x1f2)]({'status':_0x15fd6b(0x1f7),'data':_0x15fd6b(0x1e6)});const [_0x26a13b,_0x178080,_0x369c2e]=await AutomaticSpeechRecognitionPipeline[_0x15fd6b(0x1e9)](_0x20b9fb=>{self['postMessage'](_0x20b9fb);});self[_0x15fd6b(0x1f2)]({'status':_0x15fd6b(0x1f7),'data':_0x15fd6b(0x1f4)}),await _0x369c2e['generate']({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x15fd6b(0x1f2)]({'status':_0x15fd6b(0x1e4)});}self[a0_0x5958c0(0x1f1)](a0_0x5958c0(0x1f0),async _0x5788dd=>{const _0x1a8552=a0_0x5958c0,{type:_0x21775e,data:_0x267c83}=_0x5788dd['data'];switch(_0x21775e){case _0x1a8552(0x1ef):load();break;case _0x1a8552(0x1fa):generate(_0x267c83);}});