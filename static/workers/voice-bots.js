const a0_0x57ab06=a0_0x1ab6;(function(_0xe89e5b,_0x4bdb2c){const _0x1e0e0a=a0_0x1ab6,_0x2e1dd2=_0xe89e5b();while(!![]){try{const _0x4dc619=-parseInt(_0x1e0e0a(0x197))/0x1+-parseInt(_0x1e0e0a(0x19f))/0x2*(-parseInt(_0x1e0e0a(0x198))/0x3)+-parseInt(_0x1e0e0a(0x186))/0x4*(-parseInt(_0x1e0e0a(0x181))/0x5)+-parseInt(_0x1e0e0a(0x18a))/0x6*(-parseInt(_0x1e0e0a(0x191))/0x7)+-parseInt(_0x1e0e0a(0x194))/0x8*(-parseInt(_0x1e0e0a(0x19a))/0x9)+parseInt(_0x1e0e0a(0x1a0))/0xa+-parseInt(_0x1e0e0a(0x19b))/0xb*(parseInt(_0x1e0e0a(0x18c))/0xc);if(_0x4dc619===_0x4bdb2c)break;else _0x2e1dd2['push'](_0x2e1dd2['shift']());}catch(_0x2ef760){_0x2e1dd2['push'](_0x2e1dd2['shift']());}}}(a0_0x43f3,0x90542));function a0_0x1ab6(_0x3e4725,_0x214a51){const _0x43f3bd=a0_0x43f3();return a0_0x1ab6=function(_0x1ab632,_0x4358be){_0x1ab632=_0x1ab632-0x17e;let _0x54d883=_0x43f3bd[_0x1ab632];return _0x54d883;},a0_0x1ab6(_0x3e4725,_0x214a51);}import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x57ab06(0x180)]=null;static [a0_0x57ab06(0x185)]=null;static [a0_0x57ab06(0x18f)]=null;static [a0_0x57ab06(0x192)]=null;static async[a0_0x57ab06(0x183)](_0xfd69d1=null){const _0x2cbe87=a0_0x57ab06;return this['model_id']=_0x2cbe87(0x199),this[_0x2cbe87(0x185)]??=AutoTokenizer['from_pretrained'](this[_0x2cbe87(0x180)],{'progress_callback':_0xfd69d1}),this[_0x2cbe87(0x18f)]??=AutoProcessor[_0x2cbe87(0x193)](this['model_id'],{'progress_callback':_0xfd69d1}),this[_0x2cbe87(0x192)]??=WhisperForConditionalGeneration[_0x2cbe87(0x193)](this[_0x2cbe87(0x180)],{'dtype':{'encoder_model':'fp32','decoder_model_merged':'q4'},'device':_0x2cbe87(0x187),'progress_callback':_0xfd69d1}),Promise[_0x2cbe87(0x18d)]([this[_0x2cbe87(0x185)],this['processor'],this[_0x2cbe87(0x192)]]);}}let processing=!0x1;async function generate({audio:_0x163455,language:_0x257a7c}){const _0x1cf66d=a0_0x57ab06;if(processing)return;processing=!0x0,self[_0x1cf66d(0x189)]({'status':'start'});const [_0xa4b26,_0x4a0848,_0x272450]=await AutomaticSpeechRecognitionPipeline['getInstance']();let _0x47c009,_0xa81182=0x0;const _0x2f6825=new TextStreamer(_0xa4b26,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x384aae=>{const _0x2837a8=_0x1cf66d;let _0x394b45;_0x47c009??=performance['now'](),_0xa81182++>0x0&&(_0x394b45=_0xa81182/(performance[_0x2837a8(0x188)]()-_0x47c009)*0x3e8),self[_0x2837a8(0x189)]({'status':_0x2837a8(0x17f),'output':_0x384aae,'tps':_0x394b45,'numTokens':_0xa81182});}}),_0x47e954=await _0x4a0848(_0x163455),_0x262a68=await _0x272450[_0x1cf66d(0x19e)]({..._0x47e954,'max_new_tokens':0x40,'language':_0x257a7c,'streamer':_0x2f6825}),_0x1f7077=_0xa4b26[_0x1cf66d(0x190)](_0x262a68,{'skip_special_tokens':!0x0});self[_0x1cf66d(0x189)]({'status':_0x1cf66d(0x196),'output':_0x1f7077}),processing=!0x1;}async function load(){const _0x1ca47e=a0_0x57ab06;self['postMessage']({'status':_0x1ca47e(0x195),'data':_0x1ca47e(0x182)});const [_0x5d3f1c,_0x340b12,_0x3f0cd7]=await AutomaticSpeechRecognitionPipeline['getInstance'](_0x4c923e=>{const _0x1dbee5=_0x1ca47e;self[_0x1dbee5(0x189)](_0x4c923e);});self['postMessage']({'status':_0x1ca47e(0x195),'data':_0x1ca47e(0x184)}),await _0x3f0cd7['generate']({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self['postMessage']({'status':_0x1ca47e(0x18b)});}function a0_0x43f3(){const _0x5dad4a=['482992XJdjoP','8979730pKOhiH','addEventListener','update','model_id','5FxGajY','Loading\x20model...','getInstance','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','tokenizer','3197636fxHyLH','webgpu','now','postMessage','2019312nahFlN','ready','12zyIaDe','all','data','processor','batch_decode','21wKgzXi','model','from_pretrained','22760puIJer','loading','complete','821788WGfoFq','3kDbUdE','onnx-community/whisper-base','2655NgYDUK','26123361CIOCBU','message','load','generate'];a0_0x43f3=function(){return _0x5dad4a;};return a0_0x43f3();}self[a0_0x57ab06(0x17e)](a0_0x57ab06(0x19c),async _0x870979=>{const _0x434e8d=a0_0x57ab06,{type:_0x30bf4a,data:_0x1678b6}=_0x870979[_0x434e8d(0x18e)];switch(_0x30bf4a){case _0x434e8d(0x19d):load();break;case _0x434e8d(0x19e):generate(_0x1678b6);}});