function a0_0xadda(){const _0x419417=['tokenizer','complete','78682QocMGw','6954710rwArez','2152032wMbsdu','2073126ZFOlvO','67548LuTTxB','message','now','postMessage','getInstance','ready','generate','model_id','update','start','10MsMqed','addEventListener','Loading\x20model...','model','6997088bziwrs','6895044fNNmbc','fp32','processor','Compiling\x20shaders\x20and\x20warming\x20up\x20model...'];a0_0xadda=function(){return _0x419417;};return a0_0xadda();}const a0_0x2336f1=a0_0x388f;(function(_0x17fd4f,_0x58ea46){const _0x13aa8a=a0_0x388f,_0x3fecf1=_0x17fd4f();while(!![]){try{const _0x25264d=-parseInt(_0x13aa8a(0x1d1))/0x1+-parseInt(_0x13aa8a(0x1d4))/0x2+parseInt(_0x13aa8a(0x1d3))/0x3+-parseInt(_0x13aa8a(0x1d5))/0x4*(parseInt(_0x13aa8a(0x1df))/0x5)+parseInt(_0x13aa8a(0x1e4))/0x6+-parseInt(_0x13aa8a(0x1d2))/0x7+parseInt(_0x13aa8a(0x1e3))/0x8;if(_0x25264d===_0x58ea46)break;else _0x3fecf1['push'](_0x3fecf1['shift']());}catch(_0x35643c){_0x3fecf1['push'](_0x3fecf1['shift']());}}}(a0_0xadda,0x9224d));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x2336f1(0x1dc)]=null;static ['tokenizer']=null;static [a0_0x2336f1(0x1e6)]=null;static [a0_0x2336f1(0x1e2)]=null;static async[a0_0x2336f1(0x1d9)](_0x21c71d=null){const _0x30496b=a0_0x2336f1;return this[_0x30496b(0x1dc)]='onnx-community/whisper-base',this[_0x30496b(0x1cf)]??=AutoTokenizer['from_pretrained'](this[_0x30496b(0x1dc)],{'progress_callback':_0x21c71d}),this['processor']??=AutoProcessor['from_pretrained'](this[_0x30496b(0x1dc)],{'progress_callback':_0x21c71d}),this[_0x30496b(0x1e2)]??=WhisperForConditionalGeneration['from_pretrained'](this['model_id'],{'dtype':{'encoder_model':_0x30496b(0x1e5),'decoder_model_merged':'q4'},'device':'webgpu','progress_callback':_0x21c71d}),Promise['all']([this['tokenizer'],this[_0x30496b(0x1e6)],this[_0x30496b(0x1e2)]]);}}let processing=!0x1;async function generate({audio:_0x1346d5,language:_0x34c2e5}){const _0x577fda=a0_0x2336f1;if(processing)return;processing=!0x0,self['postMessage']({'status':_0x577fda(0x1de)});const [_0x1089f1,_0x4e310c,_0x1ddb85]=await AutomaticSpeechRecognitionPipeline['getInstance']();let _0x886811,_0x185bfa=0x0;const _0x243240=new TextStreamer(_0x1089f1,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x1eabde=>{const _0x9aed10=_0x577fda;let _0x4f38fc;_0x886811??=performance[_0x9aed10(0x1d7)](),_0x185bfa++>0x0&&(_0x4f38fc=_0x185bfa/(performance[_0x9aed10(0x1d7)]()-_0x886811)*0x3e8),self[_0x9aed10(0x1d8)]({'status':_0x9aed10(0x1dd),'output':_0x1eabde,'tps':_0x4f38fc,'numTokens':_0x185bfa});}}),_0x2ef885=await _0x4e310c(_0x1346d5),_0x485671=await _0x1ddb85[_0x577fda(0x1db)]({..._0x2ef885,'max_new_tokens':0x40,'language':_0x34c2e5,'streamer':_0x243240}),_0x4c827e=_0x1089f1['batch_decode'](_0x485671,{'skip_special_tokens':!0x0});self[_0x577fda(0x1d8)]({'status':_0x577fda(0x1d0),'output':_0x4c827e}),processing=!0x1;}async function load(){const _0x1e49a3=a0_0x2336f1;self['postMessage']({'status':'loading','data':_0x1e49a3(0x1e1)});const [_0x304e58,_0x5a3bbb,_0x56a4d6]=await AutomaticSpeechRecognitionPipeline[_0x1e49a3(0x1d9)](_0x247216=>{const _0x544395=_0x1e49a3;self[_0x544395(0x1d8)](_0x247216);});self[_0x1e49a3(0x1d8)]({'status':'loading','data':_0x1e49a3(0x1ce)}),await _0x56a4d6[_0x1e49a3(0x1db)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x1e49a3(0x1d8)]({'status':_0x1e49a3(0x1da)});}function a0_0x388f(_0x33b08c,_0x284853){const _0xaddaab=a0_0xadda();return a0_0x388f=function(_0x388fc4,_0x36387c){_0x388fc4=_0x388fc4-0x1ce;let _0x205988=_0xaddaab[_0x388fc4];return _0x205988;},a0_0x388f(_0x33b08c,_0x284853);}self[a0_0x2336f1(0x1e0)](a0_0x2336f1(0x1d6),async _0x5a64d9=>{const {type:_0x4a63b5,data:_0x324e85}=_0x5a64d9['data'];switch(_0x4a63b5){case'load':load();break;case'generate':generate(_0x324e85);}});