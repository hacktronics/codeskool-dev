function a0_0x339a(){const _0xc96cff=['fp32','message','816184iHUSYy','2806616Nplucs','load','55107PRimhX','619734dERvOC','batch_decode','processor','6713fvEngy','from_pretrained','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','model_id','10mMJBjt','getInstance','now','all','model','444894WVTmcv','390WBxDFU','1070692gtmHMV','data','3jGmmQs','postMessage','loading','tokenizer','webgpu','generate'];a0_0x339a=function(){return _0xc96cff;};return a0_0x339a();}const a0_0x3eb8fa=a0_0x326b;(function(_0x18efb0,_0x25d541){const _0xe7190e=a0_0x326b,_0x554297=_0x18efb0();while(!![]){try{const _0x55a676=parseInt(_0xe7190e(0x194))/0x1+parseInt(_0xe7190e(0x19d))/0x2*(parseInt(_0xe7190e(0x1a1))/0x3)+parseInt(_0xe7190e(0x18d))/0x4+parseInt(_0xe7190e(0x198))/0x5*(-parseInt(_0xe7190e(0x191))/0x6)+-parseInt(_0xe7190e(0x19f))/0x7+parseInt(_0xe7190e(0x18e))/0x8+-parseInt(_0xe7190e(0x190))/0x9*(parseInt(_0xe7190e(0x19e))/0xa);if(_0x55a676===_0x25d541)break;else _0x554297['push'](_0x554297['shift']());}catch(_0x2d7f1e){_0x554297['push'](_0x554297['shift']());}}}(a0_0x339a,0x2d566));function a0_0x326b(_0x23614f,_0x1a14e6){const _0x339ae6=a0_0x339a();return a0_0x326b=function(_0x326bf0,_0x3dbff0){_0x326bf0=_0x326bf0-0x186;let _0x51274a=_0x339ae6[_0x326bf0];return _0x51274a;},a0_0x326b(_0x23614f,_0x1a14e6);}import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.3.3/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static ['model_id']=null;static [a0_0x3eb8fa(0x188)]=null;static [a0_0x3eb8fa(0x193)]=null;static ['model']=null;static async[a0_0x3eb8fa(0x199)](_0x23d96f=null){const _0x4fdc02=a0_0x3eb8fa;return this['model_id']='onnx-community/whisper-base',this[_0x4fdc02(0x188)]??=AutoTokenizer[_0x4fdc02(0x195)](this[_0x4fdc02(0x197)],{'progress_callback':_0x23d96f}),this[_0x4fdc02(0x193)]??=AutoProcessor['from_pretrained'](this[_0x4fdc02(0x197)],{'progress_callback':_0x23d96f}),this[_0x4fdc02(0x19c)]??=WhisperForConditionalGeneration[_0x4fdc02(0x195)](this['model_id'],{'dtype':{'encoder_model':_0x4fdc02(0x18b),'decoder_model_merged':'q4'},'device':_0x4fdc02(0x189),'progress_callback':_0x23d96f}),Promise[_0x4fdc02(0x19b)]([this[_0x4fdc02(0x188)],this[_0x4fdc02(0x193)],this['model']]);}}let processing=!0x1;async function generate({audio:_0x4aa08f,language:_0x40df99}){const _0x1ba8ea=a0_0x3eb8fa;if(processing)return;processing=!0x0,self[_0x1ba8ea(0x186)]({'status':'start'});const [_0x5f0f90,_0x4567d8,_0x3e8f92]=await AutomaticSpeechRecognitionPipeline[_0x1ba8ea(0x199)]();let _0x1fc01d,_0x234d32=0x0;const _0x55b4c8=new TextStreamer(_0x5f0f90,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x4264cb=>{const _0x4b1565=_0x1ba8ea;let _0x12efc2;_0x1fc01d??=performance[_0x4b1565(0x19a)](),_0x234d32++>0x0&&(_0x12efc2=_0x234d32/(performance[_0x4b1565(0x19a)]()-_0x1fc01d)*0x3e8),self[_0x4b1565(0x186)]({'status':'update','output':_0x4264cb,'tps':_0x12efc2,'numTokens':_0x234d32});}}),_0x54ce87=await _0x4567d8(_0x4aa08f),_0x2a2162=await _0x3e8f92[_0x1ba8ea(0x18a)]({..._0x54ce87,'max_new_tokens':0x40,'language':_0x40df99,'streamer':_0x55b4c8}),_0x443b1b=_0x5f0f90[_0x1ba8ea(0x192)](_0x2a2162,{'skip_special_tokens':!0x0});self[_0x1ba8ea(0x186)]({'status':'complete','output':_0x443b1b}),processing=!0x1;}async function load(){const _0x83d4f1=a0_0x3eb8fa;self[_0x83d4f1(0x186)]({'status':_0x83d4f1(0x187),'data':'Loading\x20model...'});const [_0x278ed7,_0x35fd69,_0x51a8d3]=await AutomaticSpeechRecognitionPipeline['getInstance'](_0x2163d2=>{const _0x2f3c9c=_0x83d4f1;self[_0x2f3c9c(0x186)](_0x2163d2);});self['postMessage']({'status':_0x83d4f1(0x187),'data':_0x83d4f1(0x196)}),await _0x51a8d3[_0x83d4f1(0x18a)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x83d4f1(0x186)]({'status':'ready'});}self['addEventListener'](a0_0x3eb8fa(0x18c),async _0x1cfcd0=>{const _0x405d27=a0_0x3eb8fa,{type:_0x119714,data:_0x43bd93}=_0x1cfcd0[_0x405d27(0x1a0)];switch(_0x119714){case _0x405d27(0x18f):load();break;case _0x405d27(0x18a):generate(_0x43bd93);}});