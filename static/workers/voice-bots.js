const a0_0x392720=a0_0x5679;(function(_0x1d4f72,_0x128e6b){const _0x2f57d7=a0_0x5679,_0x4d9809=_0x1d4f72();while(!![]){try{const _0x337864=parseInt(_0x2f57d7(0xaa))/0x1*(-parseInt(_0x2f57d7(0xac))/0x2)+parseInt(_0x2f57d7(0xae))/0x3*(-parseInt(_0x2f57d7(0xba))/0x4)+-parseInt(_0x2f57d7(0xaf))/0x5*(parseInt(_0x2f57d7(0xc6))/0x6)+parseInt(_0x2f57d7(0xc2))/0x7*(parseInt(_0x2f57d7(0xbd))/0x8)+-parseInt(_0x2f57d7(0xbe))/0x9*(-parseInt(_0x2f57d7(0xbb))/0xa)+-parseInt(_0x2f57d7(0xc5))/0xb+parseInt(_0x2f57d7(0xc7))/0xc;if(_0x337864===_0x128e6b)break;else _0x4d9809['push'](_0x4d9809['shift']());}catch(_0x59385a){_0x4d9809['push'](_0x4d9809['shift']());}}}(a0_0x3b69,0xe90b1));function a0_0x3b69(){const _0x535da0=['2007752efFXOy','90SAapwJ','loading','data','Loading\x20model...','49WsOYXI','processor','addEventListener','10699513BkXMAX','1755822TUpbRU','33711180PUYpxy','model','generate','45089hOWnPJ','tokenizer','38ubCpEk','from_pretrained','21TWcWXl','30cYYGKf','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','start','fp32','model_id','complete','all','postMessage','webgpu','message','batch_decode','354884MGqlxJ','594740oYIZtk','getInstance'];a0_0x3b69=function(){return _0x535da0;};return a0_0x3b69();}function a0_0x5679(_0x21ab3d,_0x50c9a3){const _0x3b6913=a0_0x3b69();return a0_0x5679=function(_0x56791a,_0x5be104){_0x56791a=_0x56791a-0xaa;let _0x763417=_0x3b6913[_0x56791a];return _0x763417;},a0_0x5679(_0x21ab3d,_0x50c9a3);}import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x392720(0xb3)]=null;static [a0_0x392720(0xab)]=null;static [a0_0x392720(0xc3)]=null;static ['model']=null;static async[a0_0x392720(0xbc)](_0x4561bd=null){const _0x471847=a0_0x392720;return this[_0x471847(0xb3)]='onnx-community/whisper-base',this[_0x471847(0xab)]??=AutoTokenizer['from_pretrained'](this['model_id'],{'progress_callback':_0x4561bd}),this[_0x471847(0xc3)]??=AutoProcessor[_0x471847(0xad)](this[_0x471847(0xb3)],{'progress_callback':_0x4561bd}),this[_0x471847(0xc8)]??=WhisperForConditionalGeneration[_0x471847(0xad)](this[_0x471847(0xb3)],{'dtype':{'encoder_model':_0x471847(0xb2),'decoder_model_merged':'q4'},'device':_0x471847(0xb7),'progress_callback':_0x4561bd}),Promise[_0x471847(0xb5)]([this[_0x471847(0xab)],this[_0x471847(0xc3)],this['model']]);}}let processing=!0x1;async function generate({audio:_0x40933b,language:_0x259bcf}){const _0x54f6b5=a0_0x392720;if(processing)return;processing=!0x0,self[_0x54f6b5(0xb6)]({'status':_0x54f6b5(0xb1)});const [_0x19863b,_0x16e023,_0x51a2f0]=await AutomaticSpeechRecognitionPipeline['getInstance']();let _0xef8f25,_0x54d422=0x0;const _0x131933=new TextStreamer(_0x19863b,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x57cd98=>{const _0xb28be8=_0x54f6b5;let _0x567738;_0xef8f25??=performance['now'](),_0x54d422++>0x0&&(_0x567738=_0x54d422/(performance['now']()-_0xef8f25)*0x3e8),self[_0xb28be8(0xb6)]({'status':'update','output':_0x57cd98,'tps':_0x567738,'numTokens':_0x54d422});}}),_0x4368e3=await _0x16e023(_0x40933b),_0x2ad81c=await _0x51a2f0['generate']({..._0x4368e3,'max_new_tokens':0x40,'language':_0x259bcf,'streamer':_0x131933}),_0x4a441b=_0x19863b[_0x54f6b5(0xb9)](_0x2ad81c,{'skip_special_tokens':!0x0});self[_0x54f6b5(0xb6)]({'status':_0x54f6b5(0xb4),'output':_0x4a441b}),processing=!0x1;}async function load(){const _0x7082c4=a0_0x392720;self[_0x7082c4(0xb6)]({'status':_0x7082c4(0xbf),'data':_0x7082c4(0xc1)});const [_0x2f625e,_0x3ba188,_0x3f76c0]=await AutomaticSpeechRecognitionPipeline[_0x7082c4(0xbc)](_0x1da9c2=>{const _0x12976e=_0x7082c4;self[_0x12976e(0xb6)](_0x1da9c2);});self[_0x7082c4(0xb6)]({'status':_0x7082c4(0xbf),'data':_0x7082c4(0xb0)}),await _0x3f76c0[_0x7082c4(0xc9)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self['postMessage']({'status':'ready'});}self[a0_0x392720(0xc4)](a0_0x392720(0xb8),async _0x1ff48b=>{const _0x1f6b65=a0_0x392720,{type:_0x2c7296,data:_0x355da7}=_0x1ff48b[_0x1f6b65(0xc0)];switch(_0x2c7296){case'load':load();break;case'generate':generate(_0x355da7);}});