const a0_0x2eb445=a0_0x4cf3;(function(_0x4039c5,_0x4de062){const _0x2ce2e9=a0_0x4cf3,_0x30e32f=_0x4039c5();while(!![]){try{const _0x4823f7=-parseInt(_0x2ce2e9(0x15c))/0x1*(-parseInt(_0x2ce2e9(0x156))/0x2)+-parseInt(_0x2ce2e9(0x157))/0x3*(-parseInt(_0x2ce2e9(0x14e))/0x4)+parseInt(_0x2ce2e9(0x14f))/0x5*(-parseInt(_0x2ce2e9(0x149))/0x6)+parseInt(_0x2ce2e9(0x160))/0x7+parseInt(_0x2ce2e9(0x15f))/0x8+-parseInt(_0x2ce2e9(0x140))/0x9+-parseInt(_0x2ce2e9(0x13f))/0xa*(parseInt(_0x2ce2e9(0x159))/0xb);if(_0x4823f7===_0x4de062)break;else _0x30e32f['push'](_0x30e32f['shift']());}catch(_0x583b07){_0x30e32f['push'](_0x30e32f['shift']());}}}(a0_0x5649,0xcf62d));function a0_0x4cf3(_0x4c192d,_0xcc30a){const _0x5649c0=a0_0x5649();return a0_0x4cf3=function(_0x4cf360,_0x1cf4d1){_0x4cf360=_0x4cf360-0x13e;let _0x202f78=_0x5649c0[_0x4cf360];return _0x202f78;},a0_0x4cf3(_0x4c192d,_0xcc30a);}import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';function a0_0x5649(){const _0xbf7b25=['data','model_id','19076XrScvo','965mLuzgQ','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','processor','loading','update','ready','batch_decode','2fOParx','969gfMBtk','tokenizer','1640947dEtvYC','Loading\x20model...','from_pretrained','1489390aMZEAT','onnx-community/whisper-base','complete','12230264ZjQLRe','7125615HkdHrN','now','260zFvfbo','7085421lujnyq','model','all','webgpu','fp32','generate','addEventListener','getInstance','postMessage','1902bNoMLm','message','load'];a0_0x5649=function(){return _0xbf7b25;};return a0_0x5649();}const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static ['model_id']=null;static [a0_0x2eb445(0x158)]=null;static [a0_0x2eb445(0x151)]=null;static [a0_0x2eb445(0x141)]=null;static async[a0_0x2eb445(0x147)](_0x58cc0a=null){const _0x2f4de8=a0_0x2eb445;return this['model_id']=_0x2f4de8(0x15d),this[_0x2f4de8(0x158)]??=AutoTokenizer[_0x2f4de8(0x15b)](this['model_id'],{'progress_callback':_0x58cc0a}),this[_0x2f4de8(0x151)]??=AutoProcessor['from_pretrained'](this['model_id'],{'progress_callback':_0x58cc0a}),this[_0x2f4de8(0x141)]??=WhisperForConditionalGeneration[_0x2f4de8(0x15b)](this[_0x2f4de8(0x14d)],{'dtype':{'encoder_model':_0x2f4de8(0x144),'decoder_model_merged':'q4'},'device':_0x2f4de8(0x143),'progress_callback':_0x58cc0a}),Promise[_0x2f4de8(0x142)]([this['tokenizer'],this['processor'],this[_0x2f4de8(0x141)]]);}}let processing=!0x1;async function generate({audio:_0x81804f,language:_0x1c6172}){const _0x45d082=a0_0x2eb445;if(processing)return;processing=!0x0,self['postMessage']({'status':'start'});const [_0x253af5,_0x6d08a4,_0x56e599]=await AutomaticSpeechRecognitionPipeline[_0x45d082(0x147)]();let _0x2dcc87,_0x4dda52=0x0;const _0x10d278=new TextStreamer(_0x253af5,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x5d10c9=>{const _0x2423d6=_0x45d082;let _0x3e9e84;_0x2dcc87??=performance[_0x2423d6(0x13e)](),_0x4dda52++>0x0&&(_0x3e9e84=_0x4dda52/(performance['now']()-_0x2dcc87)*0x3e8),self[_0x2423d6(0x148)]({'status':_0x2423d6(0x153),'output':_0x5d10c9,'tps':_0x3e9e84,'numTokens':_0x4dda52});}}),_0x5daf1a=await _0x6d08a4(_0x81804f),_0x48256e=await _0x56e599['generate']({..._0x5daf1a,'max_new_tokens':0x40,'language':_0x1c6172,'streamer':_0x10d278}),_0x57f00a=_0x253af5[_0x45d082(0x155)](_0x48256e,{'skip_special_tokens':!0x0});self[_0x45d082(0x148)]({'status':_0x45d082(0x15e),'output':_0x57f00a}),processing=!0x1;}async function load(){const _0x1e5c4a=a0_0x2eb445;self['postMessage']({'status':_0x1e5c4a(0x152),'data':_0x1e5c4a(0x15a)});const [_0xacc534,_0x44a37b,_0x517031]=await AutomaticSpeechRecognitionPipeline['getInstance'](_0x3c918b=>{const _0x574749=_0x1e5c4a;self[_0x574749(0x148)](_0x3c918b);});self[_0x1e5c4a(0x148)]({'status':_0x1e5c4a(0x152),'data':_0x1e5c4a(0x150)}),await _0x517031[_0x1e5c4a(0x145)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self['postMessage']({'status':_0x1e5c4a(0x154)});}self[a0_0x2eb445(0x146)](a0_0x2eb445(0x14a),async _0x25ca21=>{const _0x56c4ac=a0_0x2eb445,{type:_0x59a77e,data:_0x5246fa}=_0x25ca21[_0x56c4ac(0x14c)];switch(_0x59a77e){case _0x56c4ac(0x14b):load();break;case _0x56c4ac(0x145):generate(_0x5246fa);}});