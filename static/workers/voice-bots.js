const a0_0x3a4c65=a0_0xc7a3;(function(_0x2f046d,_0x1a3811){const _0x34da34=a0_0xc7a3,_0x2dda78=_0x2f046d();while(!![]){try{const _0x18a559=parseInt(_0x34da34(0xc2))/0x1+-parseInt(_0x34da34(0xca))/0x2*(parseInt(_0x34da34(0xb4))/0x3)+parseInt(_0x34da34(0xba))/0x4+-parseInt(_0x34da34(0xb3))/0x5*(-parseInt(_0x34da34(0xc5))/0x6)+-parseInt(_0x34da34(0xc1))/0x7+parseInt(_0x34da34(0xb5))/0x8+-parseInt(_0x34da34(0xb8))/0x9*(parseInt(_0x34da34(0xb9))/0xa);if(_0x18a559===_0x1a3811)break;else _0x2dda78['push'](_0x2dda78['shift']());}catch(_0x5e9fb3){_0x2dda78['push'](_0x2dda78['shift']());}}}(a0_0xdc6c,0xd2860));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';function a0_0xdc6c(){const _0x2f4e3d=['463390HrFkop','3928164JKaAzv','generate','postMessage','load','batch_decode','model_id','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','3998197JKFqLa','726538eYIGHI','message','from_pretrained','2669214gtSCKG','model','loading','start','now','202GfZmLE','Loading\x20model...','all','addEventListener','tokenizer','onnx-community/whisper-base','15XveKby','33666gHOLKT','4716064jANhVb','processor','getInstance','207AixuOS'];a0_0xdc6c=function(){return _0x2f4e3d;};return a0_0xdc6c();}const MAX_NEW_TOKENS=0x40;function a0_0xc7a3(_0x4044dd,_0x2e4b0f){const _0xdc6cd6=a0_0xdc6c();return a0_0xc7a3=function(_0xc7a379,_0x52867e){_0xc7a379=_0xc7a379-0xaf;let _0x4132c6=_0xdc6cd6[_0xc7a379];return _0x4132c6;},a0_0xc7a3(_0x4044dd,_0x2e4b0f);}class AutomaticSpeechRecognitionPipeline{static [a0_0x3a4c65(0xbf)]=null;static ['tokenizer']=null;static [a0_0x3a4c65(0xb6)]=null;static [a0_0x3a4c65(0xc6)]=null;static async[a0_0x3a4c65(0xb7)](_0x32dedb=null){const _0x111f18=a0_0x3a4c65;return this['model_id']=_0x111f18(0xb2),this[_0x111f18(0xb1)]??=AutoTokenizer[_0x111f18(0xc4)](this[_0x111f18(0xbf)],{'progress_callback':_0x32dedb}),this[_0x111f18(0xb6)]??=AutoProcessor['from_pretrained'](this['model_id'],{'progress_callback':_0x32dedb}),this[_0x111f18(0xc6)]??=WhisperForConditionalGeneration[_0x111f18(0xc4)](this['model_id'],{'dtype':{'encoder_model':'fp32','decoder_model_merged':'q4'},'device':'webgpu','progress_callback':_0x32dedb}),Promise[_0x111f18(0xaf)]([this[_0x111f18(0xb1)],this['processor'],this[_0x111f18(0xc6)]]);}}let processing=!0x1;async function generate({audio:_0xde59c9,language:_0x4bb4be}){const _0x21a3ea=a0_0x3a4c65;if(processing)return;processing=!0x0,self[_0x21a3ea(0xbc)]({'status':_0x21a3ea(0xc8)});const [_0x3a3d4f,_0x59ef59,_0x2c5d3a]=await AutomaticSpeechRecognitionPipeline[_0x21a3ea(0xb7)]();let _0x5891f7,_0x1636fa=0x0;const _0x3b0a1b=new TextStreamer(_0x3a3d4f,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x4c2e44=>{const _0x1fa336=_0x21a3ea;let _0x560d06;_0x5891f7??=performance[_0x1fa336(0xc9)](),_0x1636fa++>0x0&&(_0x560d06=_0x1636fa/(performance['now']()-_0x5891f7)*0x3e8),self['postMessage']({'status':'update','output':_0x4c2e44,'tps':_0x560d06,'numTokens':_0x1636fa});}}),_0x414c34=await _0x59ef59(_0xde59c9),_0x361634=await _0x2c5d3a[_0x21a3ea(0xbb)]({..._0x414c34,'max_new_tokens':0x40,'language':_0x4bb4be,'streamer':_0x3b0a1b}),_0x2de975=_0x3a3d4f[_0x21a3ea(0xbe)](_0x361634,{'skip_special_tokens':!0x0});self[_0x21a3ea(0xbc)]({'status':'complete','output':_0x2de975}),processing=!0x1;}async function load(){const _0x225294=a0_0x3a4c65;self['postMessage']({'status':'loading','data':_0x225294(0xcb)});const [_0x4cb569,_0x3a0f85,_0x276727]=await AutomaticSpeechRecognitionPipeline[_0x225294(0xb7)](_0x2b70a4=>{const _0xff0c18=_0x225294;self[_0xff0c18(0xbc)](_0x2b70a4);});self[_0x225294(0xbc)]({'status':_0x225294(0xc7),'data':_0x225294(0xc0)}),await _0x276727[_0x225294(0xbb)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x225294(0xbc)]({'status':'ready'});}self[a0_0x3a4c65(0xb0)](a0_0x3a4c65(0xc3),async _0x30baa3=>{const _0x1624b4=a0_0x3a4c65,{type:_0xf7c0e0,data:_0x2c0b14}=_0x30baa3['data'];switch(_0xf7c0e0){case _0x1624b4(0xbd):load();break;case'generate':generate(_0x2c0b14);}});