const a0_0x4dfaaf=a0_0x16e4;(function(_0x122392,_0x4836fb){const _0x4c294e=a0_0x16e4,_0x2bee10=_0x122392();while(!![]){try{const _0x220cf7=parseInt(_0x4c294e(0x12d))/0x1*(parseInt(_0x4c294e(0x135))/0x2)+parseInt(_0x4c294e(0x131))/0x3*(parseInt(_0x4c294e(0x129))/0x4)+parseInt(_0x4c294e(0x126))/0x5*(-parseInt(_0x4c294e(0x125))/0x6)+parseInt(_0x4c294e(0x124))/0x7+-parseInt(_0x4c294e(0x12f))/0x8+-parseInt(_0x4c294e(0x11f))/0x9+-parseInt(_0x4c294e(0x136))/0xa*(parseInt(_0x4c294e(0x132))/0xb);if(_0x220cf7===_0x4836fb)break;else _0x2bee10['push'](_0x2bee10['shift']());}catch(_0x3399d3){_0x2bee10['push'](_0x2bee10['shift']());}}}(a0_0xd350,0xf0c86));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;function a0_0xd350(){const _0x3dc1f7=['ready','webgpu','now','generate','tokenizer','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','message','2002662cgBtUL','onnx-community/whisper-base','model','getInstance','addEventListener','7298382ELZwuC','2038518GvrAcN','10QvPOgK','model_id','all','12ErNvok','from_pretrained','processor','postMessage','247161RrUnOd','update','7117376afuNdY','load','1614225gmTwgn','44iCpIyF','batch_decode','loading','14NdjRqA','4022590NAfyOn','complete'];a0_0xd350=function(){return _0x3dc1f7;};return a0_0xd350();}class AutomaticSpeechRecognitionPipeline{static ['model_id']=null;static [a0_0x4dfaaf(0x13c)]=null;static [a0_0x4dfaaf(0x12b)]=null;static [a0_0x4dfaaf(0x121)]=null;static async[a0_0x4dfaaf(0x122)](_0x1e382d=null){const _0x31d1ac=a0_0x4dfaaf;return this[_0x31d1ac(0x127)]=_0x31d1ac(0x120),this[_0x31d1ac(0x13c)]??=AutoTokenizer[_0x31d1ac(0x12a)](this[_0x31d1ac(0x127)],{'progress_callback':_0x1e382d}),this[_0x31d1ac(0x12b)]??=AutoProcessor[_0x31d1ac(0x12a)](this[_0x31d1ac(0x127)],{'progress_callback':_0x1e382d}),this[_0x31d1ac(0x121)]??=WhisperForConditionalGeneration[_0x31d1ac(0x12a)](this[_0x31d1ac(0x127)],{'dtype':{'encoder_model':'fp32','decoder_model_merged':'q4'},'device':_0x31d1ac(0x139),'progress_callback':_0x1e382d}),Promise[_0x31d1ac(0x128)]([this[_0x31d1ac(0x13c)],this[_0x31d1ac(0x12b)],this['model']]);}}function a0_0x16e4(_0xdf11c0,_0xfe3191){const _0xd3508=a0_0xd350();return a0_0x16e4=function(_0x16e445,_0x55a440){_0x16e445=_0x16e445-0x11e;let _0x3ae877=_0xd3508[_0x16e445];return _0x3ae877;},a0_0x16e4(_0xdf11c0,_0xfe3191);}let processing=!0x1;async function generate({audio:_0x5373ae,language:_0x24883a}){const _0x2d5a28=a0_0x4dfaaf;if(processing)return;processing=!0x0,self['postMessage']({'status':'start'});const [_0x250e75,_0x552a90,_0x303fe0]=await AutomaticSpeechRecognitionPipeline[_0x2d5a28(0x122)]();let _0x2e66ab,_0x1c6e7b=0x0;const _0x3ded80=new TextStreamer(_0x250e75,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x3fa617=>{const _0x5c57fb=_0x2d5a28;let _0x2d5cb4;_0x2e66ab??=performance[_0x5c57fb(0x13a)](),_0x1c6e7b++>0x0&&(_0x2d5cb4=_0x1c6e7b/(performance['now']()-_0x2e66ab)*0x3e8),self['postMessage']({'status':_0x5c57fb(0x12e),'output':_0x3fa617,'tps':_0x2d5cb4,'numTokens':_0x1c6e7b});}}),_0x16ed33=await _0x552a90(_0x5373ae),_0x536280=await _0x303fe0['generate']({..._0x16ed33,'max_new_tokens':0x40,'language':_0x24883a,'streamer':_0x3ded80}),_0x8ec88=_0x250e75[_0x2d5a28(0x133)](_0x536280,{'skip_special_tokens':!0x0});self[_0x2d5a28(0x12c)]({'status':_0x2d5a28(0x137),'output':_0x8ec88}),processing=!0x1;}async function load(){const _0x3b578b=a0_0x4dfaaf;self[_0x3b578b(0x12c)]({'status':'loading','data':'Loading\x20model...'});const [_0x582412,_0x10beca,_0x48b570]=await AutomaticSpeechRecognitionPipeline['getInstance'](_0x2cc924=>{const _0x426c1b=_0x3b578b;self[_0x426c1b(0x12c)](_0x2cc924);});self[_0x3b578b(0x12c)]({'status':_0x3b578b(0x134),'data':_0x3b578b(0x13d)}),await _0x48b570[_0x3b578b(0x13b)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x3b578b(0x12c)]({'status':_0x3b578b(0x138)});}self[a0_0x4dfaaf(0x123)](a0_0x4dfaaf(0x11e),async _0x293e0e=>{const _0x512b7e=a0_0x4dfaaf,{type:_0x5288bf,data:_0x205367}=_0x293e0e['data'];switch(_0x5288bf){case _0x512b7e(0x130):load();break;case _0x512b7e(0x13b):generate(_0x205367);}});