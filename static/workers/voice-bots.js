const a0_0x3699bd=a0_0x17e1;(function(_0x52382c,_0x42cd92){const _0x16f63f=a0_0x17e1,_0x492260=_0x52382c();while(!![]){try{const _0xb499d9=parseInt(_0x16f63f(0x1a5))/0x1+parseInt(_0x16f63f(0x1b6))/0x2+-parseInt(_0x16f63f(0x1aa))/0x3+-parseInt(_0x16f63f(0x1ad))/0x4*(-parseInt(_0x16f63f(0x1b4))/0x5)+parseInt(_0x16f63f(0x19a))/0x6+-parseInt(_0x16f63f(0x1a6))/0x7*(-parseInt(_0x16f63f(0x1a8))/0x8)+-parseInt(_0x16f63f(0x19c))/0x9*(parseInt(_0x16f63f(0x1ab))/0xa);if(_0xb499d9===_0x42cd92)break;else _0x492260['push'](_0x492260['shift']());}catch(_0x5d1652){_0x492260['push'](_0x492260['shift']());}}}(a0_0x72d7,0xaffd4));function a0_0x17e1(_0x4dee43,_0x3b4479){const _0x72d786=a0_0x72d7();return a0_0x17e1=function(_0x17e187,_0x4e1113){_0x17e187=_0x17e187-0x199;let _0x2424eb=_0x72d786[_0x17e187];return _0x2424eb;},a0_0x17e1(_0x4dee43,_0x3b4479);}import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static ['model_id']=null;static ['tokenizer']=null;static ['processor']=null;static [a0_0x3699bd(0x1b0)]=null;static async[a0_0x3699bd(0x1a9)](_0x25ba23=null){const _0x5d164b=a0_0x3699bd;return this[_0x5d164b(0x1a1)]='onnx-community/whisper-base',this[_0x5d164b(0x1a3)]??=AutoTokenizer['from_pretrained'](this[_0x5d164b(0x1a1)],{'progress_callback':_0x25ba23}),this[_0x5d164b(0x1ae)]??=AutoProcessor[_0x5d164b(0x199)](this[_0x5d164b(0x1a1)],{'progress_callback':_0x25ba23}),this['model']??=WhisperForConditionalGeneration['from_pretrained'](this[_0x5d164b(0x1a1)],{'dtype':{'encoder_model':'fp32','decoder_model_merged':'q4'},'device':_0x5d164b(0x1af),'progress_callback':_0x25ba23}),Promise[_0x5d164b(0x19e)]([this[_0x5d164b(0x1a3)],this[_0x5d164b(0x1ae)],this['model']]);}}let processing=!0x1;async function generate({audio:_0x43b710,language:_0x4b4da6}){const _0x2cfa9b=a0_0x3699bd;if(processing)return;processing=!0x0,self['postMessage']({'status':_0x2cfa9b(0x1ac)});const [_0x2af3c7,_0x540d0b,_0x245645]=await AutomaticSpeechRecognitionPipeline['getInstance']();let _0x53ea6b,_0x204df2=0x0;const _0x482d09=new TextStreamer(_0x2af3c7,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x54b8b8=>{const _0x3bbf9c=_0x2cfa9b;let _0x301377;_0x53ea6b??=performance[_0x3bbf9c(0x1a7)](),_0x204df2++>0x0&&(_0x301377=_0x204df2/(performance[_0x3bbf9c(0x1a7)]()-_0x53ea6b)*0x3e8),self[_0x3bbf9c(0x1b3)]({'status':_0x3bbf9c(0x1b5),'output':_0x54b8b8,'tps':_0x301377,'numTokens':_0x204df2});}}),_0x213a1a=await _0x540d0b(_0x43b710),_0x5a6f55=await _0x245645['generate']({..._0x213a1a,'max_new_tokens':0x40,'language':_0x4b4da6,'streamer':_0x482d09}),_0x3e3a45=_0x2af3c7[_0x2cfa9b(0x19f)](_0x5a6f55,{'skip_special_tokens':!0x0});self[_0x2cfa9b(0x1b3)]({'status':_0x2cfa9b(0x19b),'output':_0x3e3a45}),processing=!0x1;}async function load(){const _0x3ea946=a0_0x3699bd;self[_0x3ea946(0x1b3)]({'status':_0x3ea946(0x19d),'data':_0x3ea946(0x1a4)});const [_0x360b0f,_0x336ef4,_0x328dc4]=await AutomaticSpeechRecognitionPipeline[_0x3ea946(0x1a9)](_0x5c9ba0=>{const _0x3a1b9a=_0x3ea946;self[_0x3a1b9a(0x1b3)](_0x5c9ba0);});self[_0x3ea946(0x1b3)]({'status':_0x3ea946(0x19d),'data':_0x3ea946(0x1b1)}),await _0x328dc4['generate']({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x3ea946(0x1b3)]({'status':'ready'});}self[a0_0x3699bd(0x1b2)]('message',async _0x3c4a9d=>{const _0x46050a=a0_0x3699bd,{type:_0x19de40,data:_0x1a2a46}=_0x3c4a9d['data'];switch(_0x19de40){case _0x46050a(0x1a0):load();break;case _0x46050a(0x1a2):generate(_0x1a2a46);}});function a0_0x72d7(){const _0x54e0cb=['Compiling\x20shaders\x20and\x20warming\x20up\x20model...','addEventListener','postMessage','170noinpN','update','2230032fFdQRj','from_pretrained','3865566ShMIGk','complete','650493XDrPJB','loading','all','batch_decode','load','model_id','generate','tokenizer','Loading\x20model...','545165ErgYMX','6208489jvTElc','now','8gyOIPW','getInstance','406038ZJeiYv','510JhaIoQ','start','158936FYUNRu','processor','webgpu','model'];a0_0x72d7=function(){return _0x54e0cb;};return a0_0x72d7();}