const a0_0x3371fc=a0_0x32d5;(function(_0x389b21,_0x299f22){const _0x2b6da4=a0_0x32d5,_0x480b43=_0x389b21();while(!![]){try{const _0x298f8f=parseInt(_0x2b6da4(0x1a6))/0x1*(parseInt(_0x2b6da4(0x1b0))/0x2)+-parseInt(_0x2b6da4(0x1b5))/0x3*(parseInt(_0x2b6da4(0x1aa))/0x4)+-parseInt(_0x2b6da4(0x1ac))/0x5*(-parseInt(_0x2b6da4(0x1af))/0x6)+-parseInt(_0x2b6da4(0x1a8))/0x7*(-parseInt(_0x2b6da4(0x1a1))/0x8)+-parseInt(_0x2b6da4(0x1b7))/0x9+-parseInt(_0x2b6da4(0x1b9))/0xa+parseInt(_0x2b6da4(0x1a2))/0xb*(parseInt(_0x2b6da4(0x1ab))/0xc);if(_0x298f8f===_0x299f22)break;else _0x480b43['push'](_0x480b43['shift']());}catch(_0x1bd189){_0x480b43['push'](_0x480b43['shift']());}}}(a0_0x1237,0x79091));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x3371fc(0x1b8)]=null;static [a0_0x3371fc(0x1a7)]=null;static ['processor']=null;static ['model']=null;static async['getInstance'](_0x33e939=null){const _0x55ffde=a0_0x3371fc;return this['model_id']='onnx-community/whisper-base',this[_0x55ffde(0x1a7)]??=AutoTokenizer[_0x55ffde(0x1b4)](this[_0x55ffde(0x1b8)],{'progress_callback':_0x33e939}),this[_0x55ffde(0x1ae)]??=AutoProcessor[_0x55ffde(0x1b4)](this[_0x55ffde(0x1b8)],{'progress_callback':_0x33e939}),this[_0x55ffde(0x1a0)]??=WhisperForConditionalGeneration[_0x55ffde(0x1b4)](this['model_id'],{'dtype':{'encoder_model':_0x55ffde(0x19c),'decoder_model_merged':'q4'},'device':_0x55ffde(0x1a4),'progress_callback':_0x33e939}),Promise[_0x55ffde(0x1b1)]([this[_0x55ffde(0x1a7)],this[_0x55ffde(0x1ae)],this[_0x55ffde(0x1a0)]]);}}function a0_0x1237(){const _0x9912b8=['postMessage','from_pretrained','123ZadujT','loading','2891655ArvQOo','model_id','7475690qnqoJV','update','now','fp32','addEventListener','complete','generate','model','1568NHZOwH','341LyKijD','batch_decode','webgpu','start','17935VEMXJM','tokenizer','7007oRVRTs','load','85788qzsVDN','577272DiixbL','5oLZFyr','ready','processor','2386620GYMWRd','40hIflGK','all','getInstance'];a0_0x1237=function(){return _0x9912b8;};return a0_0x1237();}let processing=!0x1;async function generate({audio:_0x259020,language:_0x2c21f8}){const _0x2fc2be=a0_0x3371fc;if(processing)return;processing=!0x0,self[_0x2fc2be(0x1b3)]({'status':_0x2fc2be(0x1a5)});const [_0x47255a,_0xac6870,_0x4958e6]=await AutomaticSpeechRecognitionPipeline[_0x2fc2be(0x1b2)]();let _0x473684,_0x49f31b=0x0;const _0x4cdc0d=new TextStreamer(_0x47255a,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x1a9d04=>{const _0x5bb7b6=_0x2fc2be;let _0x22c226;_0x473684??=performance[_0x5bb7b6(0x19b)](),_0x49f31b++>0x0&&(_0x22c226=_0x49f31b/(performance[_0x5bb7b6(0x19b)]()-_0x473684)*0x3e8),self['postMessage']({'status':_0x5bb7b6(0x19a),'output':_0x1a9d04,'tps':_0x22c226,'numTokens':_0x49f31b});}}),_0x256c38=await _0xac6870(_0x259020),_0x29997f=await _0x4958e6[_0x2fc2be(0x19f)]({..._0x256c38,'max_new_tokens':0x40,'language':_0x2c21f8,'streamer':_0x4cdc0d}),_0x435a99=_0x47255a[_0x2fc2be(0x1a3)](_0x29997f,{'skip_special_tokens':!0x0});self['postMessage']({'status':_0x2fc2be(0x19e),'output':_0x435a99}),processing=!0x1;}function a0_0x32d5(_0x208429,_0x55fbf8){const _0x12377f=a0_0x1237();return a0_0x32d5=function(_0x32d509,_0x47c24e){_0x32d509=_0x32d509-0x19a;let _0x344b51=_0x12377f[_0x32d509];return _0x344b51;},a0_0x32d5(_0x208429,_0x55fbf8);}async function load(){const _0x215643=a0_0x3371fc;self[_0x215643(0x1b3)]({'status':_0x215643(0x1b6),'data':'Loading\x20model...'});const [_0x55a579,_0x5d4c8b,_0x3e2daa]=await AutomaticSpeechRecognitionPipeline['getInstance'](_0x4e7810=>{const _0x182eab=_0x215643;self[_0x182eab(0x1b3)](_0x4e7810);});self[_0x215643(0x1b3)]({'status':_0x215643(0x1b6),'data':'Compiling\x20shaders\x20and\x20warming\x20up\x20model...'}),await _0x3e2daa[_0x215643(0x19f)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x215643(0x1b3)]({'status':_0x215643(0x1ad)});}self[a0_0x3371fc(0x19d)]('message',async _0x4b0c6d=>{const _0x4a9463=a0_0x3371fc,{type:_0x15f6e1,data:_0x2d0048}=_0x4b0c6d['data'];switch(_0x15f6e1){case _0x4a9463(0x1a9):load();break;case _0x4a9463(0x19f):generate(_0x2d0048);}});