const a0_0x68c1c7=a0_0x3d13;(function(_0x520a45,_0x24b6a5){const _0x119248=a0_0x3d13,_0xf2f0ec=_0x520a45();while(!![]){try{const _0x3ae42f=parseInt(_0x119248(0x183))/0x1*(parseInt(_0x119248(0x187))/0x2)+parseInt(_0x119248(0x18c))/0x3*(-parseInt(_0x119248(0x189))/0x4)+parseInt(_0x119248(0x18f))/0x5+parseInt(_0x119248(0x17c))/0x6+parseInt(_0x119248(0x180))/0x7+parseInt(_0x119248(0x17b))/0x8+-parseInt(_0x119248(0x191))/0x9;if(_0x3ae42f===_0x24b6a5)break;else _0xf2f0ec['push'](_0xf2f0ec['shift']());}catch(_0x560c7e){_0xf2f0ec['push'](_0xf2f0ec['shift']());}}}(a0_0xb010,0x90630));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;function a0_0x3d13(_0x2e1de1,_0x4d0e39){const _0xb01006=a0_0xb010();return a0_0x3d13=function(_0x3d139a,_0x267606){_0x3d139a=_0x3d139a-0x177;let _0x312af8=_0xb01006[_0x3d139a];return _0x312af8;},a0_0x3d13(_0x2e1de1,_0x4d0e39);}class AutomaticSpeechRecognitionPipeline{static [a0_0x68c1c7(0x178)]=null;static [a0_0x68c1c7(0x188)]=null;static [a0_0x68c1c7(0x177)]=null;static [a0_0x68c1c7(0x181)]=null;static async[a0_0x68c1c7(0x179)](_0x767852=null){const _0x16837e=a0_0x68c1c7;return this[_0x16837e(0x178)]='onnx-community/whisper-base',this[_0x16837e(0x188)]??=AutoTokenizer[_0x16837e(0x184)](this['model_id'],{'progress_callback':_0x767852}),this[_0x16837e(0x177)]??=AutoProcessor[_0x16837e(0x184)](this['model_id'],{'progress_callback':_0x767852}),this[_0x16837e(0x181)]??=WhisperForConditionalGeneration[_0x16837e(0x184)](this[_0x16837e(0x178)],{'dtype':{'encoder_model':_0x16837e(0x186),'decoder_model_merged':'q4'},'device':_0x16837e(0x185),'progress_callback':_0x767852}),Promise['all']([this[_0x16837e(0x188)],this['processor'],this['model']]);}}function a0_0xb010(){const _0xa08aea=['now','6549606bxJugo','model','message','2bYgAic','from_pretrained','webgpu','fp32','71472qCjFmz','tokenizer','3695632YmbeEb','update','postMessage','3zzepRh','start','batch_decode','959345VwiVca','data','3911517NSLuZk','generate','processor','model_id','getInstance','ready','4205992WQGRLh','1351086LzBQOX','loading','Compiling\x20shaders\x20and\x20warming\x20up\x20model...'];a0_0xb010=function(){return _0xa08aea;};return a0_0xb010();}let processing=!0x1;async function generate({audio:_0x5ac3f0,language:_0x495bf7}){const _0x3dd6b1=a0_0x68c1c7;if(processing)return;processing=!0x0,self[_0x3dd6b1(0x18b)]({'status':_0x3dd6b1(0x18d)});const [_0x6e2d50,_0x411905,_0x5d381e]=await AutomaticSpeechRecognitionPipeline[_0x3dd6b1(0x179)]();let _0x4475d4,_0x20bc77=0x0;const _0x4ae9eb=new TextStreamer(_0x6e2d50,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x3b2e58=>{const _0x16b0e1=_0x3dd6b1;let _0x390299;_0x4475d4??=performance[_0x16b0e1(0x17f)](),_0x20bc77++>0x0&&(_0x390299=_0x20bc77/(performance['now']()-_0x4475d4)*0x3e8),self[_0x16b0e1(0x18b)]({'status':_0x16b0e1(0x18a),'output':_0x3b2e58,'tps':_0x390299,'numTokens':_0x20bc77});}}),_0x20cbfe=await _0x411905(_0x5ac3f0),_0xbc4da2=await _0x5d381e[_0x3dd6b1(0x192)]({..._0x20cbfe,'max_new_tokens':0x40,'language':_0x495bf7,'streamer':_0x4ae9eb}),_0x1813e5=_0x6e2d50[_0x3dd6b1(0x18e)](_0xbc4da2,{'skip_special_tokens':!0x0});self['postMessage']({'status':'complete','output':_0x1813e5}),processing=!0x1;}async function load(){const _0x4f696c=a0_0x68c1c7;self['postMessage']({'status':_0x4f696c(0x17d),'data':'Loading\x20model...'});const [_0x14d622,_0x5cde11,_0x1c6e00]=await AutomaticSpeechRecognitionPipeline['getInstance'](_0x43d719=>{const _0x1894a1=_0x4f696c;self[_0x1894a1(0x18b)](_0x43d719);});self[_0x4f696c(0x18b)]({'status':_0x4f696c(0x17d),'data':_0x4f696c(0x17e)}),await _0x1c6e00[_0x4f696c(0x192)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x4f696c(0x18b)]({'status':_0x4f696c(0x17a)});}self['addEventListener'](a0_0x68c1c7(0x182),async _0x371325=>{const _0x1889c3=a0_0x68c1c7,{type:_0x34443c,data:_0x8782c7}=_0x371325[_0x1889c3(0x190)];switch(_0x34443c){case'load':load();break;case _0x1889c3(0x192):generate(_0x8782c7);}});