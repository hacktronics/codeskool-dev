const a0_0x10ad37=a0_0xe5e8;(function(_0x3f26cd,_0x4544ce){const _0x4213b3=a0_0xe5e8,_0x1b7a61=_0x3f26cd();while(!![]){try{const _0x22b593=parseInt(_0x4213b3(0xf8))/0x1*(-parseInt(_0x4213b3(0xf1))/0x2)+parseInt(_0x4213b3(0xf5))/0x3+parseInt(_0x4213b3(0x102))/0x4*(-parseInt(_0x4213b3(0xf2))/0x5)+-parseInt(_0x4213b3(0xfd))/0x6+-parseInt(_0x4213b3(0xf9))/0x7+-parseInt(_0x4213b3(0xee))/0x8+parseInt(_0x4213b3(0xe5))/0x9*(parseInt(_0x4213b3(0xe6))/0xa);if(_0x22b593===_0x4544ce)break;else _0x1b7a61['push'](_0x1b7a61['shift']());}catch(_0x3616b2){_0x1b7a61['push'](_0x1b7a61['shift']());}}}(a0_0x2998,0xe986b));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.3.3/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x10ad37(0xed)]=null;static [a0_0x10ad37(0xea)]=null;static [a0_0x10ad37(0xf6)]=null;static [a0_0x10ad37(0xfb)]=null;static async[a0_0x10ad37(0xe7)](_0x5a1da8=null){const _0x669450=a0_0x10ad37;return this[_0x669450(0xed)]='onnx-community/whisper-base',this['tokenizer']??=AutoTokenizer[_0x669450(0x100)](this[_0x669450(0xed)],{'progress_callback':_0x5a1da8}),this[_0x669450(0xf6)]??=AutoProcessor['from_pretrained'](this[_0x669450(0xed)],{'progress_callback':_0x5a1da8}),this[_0x669450(0xfb)]??=WhisperForConditionalGeneration['from_pretrained'](this['model_id'],{'dtype':{'encoder_model':_0x669450(0xf7),'decoder_model_merged':'q4'},'device':_0x669450(0xff),'progress_callback':_0x5a1da8}),Promise[_0x669450(0xfe)]([this[_0x669450(0xea)],this[_0x669450(0xf6)],this[_0x669450(0xfb)]]);}}let processing=!0x1;function a0_0xe5e8(_0x4c0a3c,_0x5a6ace){const _0x299803=a0_0x2998();return a0_0xe5e8=function(_0xe5e865,_0x56f3e9){_0xe5e865=_0xe5e865-0xe5;let _0xb124f5=_0x299803[_0xe5e865];return _0xb124f5;},a0_0xe5e8(_0x4c0a3c,_0x5a6ace);}async function generate({audio:_0x39596f,language:_0x5b59cd}){const _0xf0fc2=a0_0x10ad37;if(processing)return;processing=!0x0,self['postMessage']({'status':'start'});const [_0xd20fb2,_0x3cf19c,_0x3074b0]=await AutomaticSpeechRecognitionPipeline[_0xf0fc2(0xe7)]();let _0x4c3b6b,_0x26ed9f=0x0;const _0x211bbe=new TextStreamer(_0xd20fb2,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x2cc30b=>{const _0x443f36=_0xf0fc2;let _0x154e7d;_0x4c3b6b??=performance[_0x443f36(0xef)](),_0x26ed9f++>0x0&&(_0x154e7d=_0x26ed9f/(performance['now']()-_0x4c3b6b)*0x3e8),self['postMessage']({'status':_0x443f36(0xfa),'output':_0x2cc30b,'tps':_0x154e7d,'numTokens':_0x26ed9f});}}),_0x244dad=await _0x3cf19c(_0x39596f),_0x39cfea=await _0x3074b0[_0xf0fc2(0x104)]({..._0x244dad,'max_new_tokens':0x40,'language':_0x5b59cd,'streamer':_0x211bbe}),_0x2d0d20=_0xd20fb2[_0xf0fc2(0x101)](_0x39cfea,{'skip_special_tokens':!0x0});self[_0xf0fc2(0xec)]({'status':_0xf0fc2(0xfc),'output':_0x2d0d20}),processing=!0x1;}async function load(){const _0xe930ee=a0_0x10ad37;self['postMessage']({'status':_0xe930ee(0xf3),'data':'Loading\x20model...'});const [_0x150539,_0x2b0d96,_0x143e06]=await AutomaticSpeechRecognitionPipeline['getInstance'](_0x613de3=>{const _0x7f300e=_0xe930ee;self[_0x7f300e(0xec)](_0x613de3);});self['postMessage']({'status':_0xe930ee(0xf3),'data':_0xe930ee(0xe8)}),await _0x143e06['generate']({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0xe930ee(0xec)]({'status':_0xe930ee(0xf0)});}function a0_0x2998(){const _0x2770c4=['5UBdbpE','loading','addEventListener','1902306rjWVvN','processor','fp32','71eyURqM','12191711PVjPoG','update','model','complete','7214196Rfsykq','all','webgpu','from_pretrained','batch_decode','687176fKikXc','message','generate','63mdLxMg','6814180JMvszO','getInstance','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','data','tokenizer','load','postMessage','model_id','4845576lNaJrZ','now','ready','20450EYKvuy'];a0_0x2998=function(){return _0x2770c4;};return a0_0x2998();}self[a0_0x10ad37(0xf4)](a0_0x10ad37(0x103),async _0x3c2992=>{const _0x716532=a0_0x10ad37,{type:_0x513ea4,data:_0x3f74df}=_0x3c2992[_0x716532(0xe9)];switch(_0x513ea4){case _0x716532(0xeb):load();break;case _0x716532(0x104):generate(_0x3f74df);}});