function a0_0x473d(_0x5efd75,_0x659986){const _0x110fda=a0_0x110f();return a0_0x473d=function(_0x473d88,_0x87ecc){_0x473d88=_0x473d88-0x1db;let _0x4a3c42=_0x110fda[_0x473d88];return _0x4a3c42;},a0_0x473d(_0x5efd75,_0x659986);}const a0_0x17cb7e=a0_0x473d;(function(_0x322459,_0xd90369){const _0x270ae7=a0_0x473d,_0x5a918b=_0x322459();while(!![]){try{const _0x53c7ac=parseInt(_0x270ae7(0x1f1))/0x1+-parseInt(_0x270ae7(0x1db))/0x2*(parseInt(_0x270ae7(0x1e0))/0x3)+-parseInt(_0x270ae7(0x1e8))/0x4+parseInt(_0x270ae7(0x1e6))/0x5+parseInt(_0x270ae7(0x1f4))/0x6+-parseInt(_0x270ae7(0x1e7))/0x7+parseInt(_0x270ae7(0x1dc))/0x8;if(_0x53c7ac===_0xd90369)break;else _0x5a918b['push'](_0x5a918b['shift']());}catch(_0x3b3b28){_0x5a918b['push'](_0x5a918b['shift']());}}}(a0_0x110f,0x7aa7d));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x17cb7e(0x1e2)]=null;static [a0_0x17cb7e(0x1f2)]=null;static [a0_0x17cb7e(0x1f5)]=null;static [a0_0x17cb7e(0x1de)]=null;static async[a0_0x17cb7e(0x1ee)](_0x108689=null){const _0x5ea176=a0_0x17cb7e;return this[_0x5ea176(0x1e2)]='onnx-community/whisper-base',this[_0x5ea176(0x1f2)]??=AutoTokenizer[_0x5ea176(0x1e3)](this['model_id'],{'progress_callback':_0x108689}),this[_0x5ea176(0x1f5)]??=AutoProcessor['from_pretrained'](this['model_id'],{'progress_callback':_0x108689}),this[_0x5ea176(0x1de)]??=WhisperForConditionalGeneration[_0x5ea176(0x1e3)](this[_0x5ea176(0x1e2)],{'dtype':{'encoder_model':_0x5ea176(0x1e4),'decoder_model_merged':'q4'},'device':'webgpu','progress_callback':_0x108689}),Promise[_0x5ea176(0x1eb)]([this[_0x5ea176(0x1f2)],this[_0x5ea176(0x1f5)],this[_0x5ea176(0x1de)]]);}}let processing=!0x1;function a0_0x110f(){const _0x3026bf=['571751vxYDNU','tokenizer','Loading\x20model...','1968114CFeBiG','processor','134ZBjNZo','3134632yCqppZ','message','model','update','15618QgaRzI','generate','model_id','from_pretrained','fp32','data','2971600yeErZU','6041882VIwVrp','686376yBwIWY','start','loading','all','postMessage','now','getInstance','ready','load'];a0_0x110f=function(){return _0x3026bf;};return a0_0x110f();}async function generate({audio:_0x11668c,language:_0x1fc554}){const _0x386eaf=a0_0x17cb7e;if(processing)return;processing=!0x0,self['postMessage']({'status':_0x386eaf(0x1e9)});const [_0x524522,_0x5603ed,_0x5bddae]=await AutomaticSpeechRecognitionPipeline[_0x386eaf(0x1ee)]();let _0xe0e4b7,_0x7b0151=0x0;const _0xc38477=new TextStreamer(_0x524522,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x59c3dd=>{const _0x1e8306=_0x386eaf;let _0x3ffee6;_0xe0e4b7??=performance[_0x1e8306(0x1ed)](),_0x7b0151++>0x0&&(_0x3ffee6=_0x7b0151/(performance[_0x1e8306(0x1ed)]()-_0xe0e4b7)*0x3e8),self[_0x1e8306(0x1ec)]({'status':_0x1e8306(0x1df),'output':_0x59c3dd,'tps':_0x3ffee6,'numTokens':_0x7b0151});}}),_0x13fd37=await _0x5603ed(_0x11668c),_0x302d88=await _0x5bddae[_0x386eaf(0x1e1)]({..._0x13fd37,'max_new_tokens':0x40,'language':_0x1fc554,'streamer':_0xc38477}),_0x4f9092=_0x524522['batch_decode'](_0x302d88,{'skip_special_tokens':!0x0});self[_0x386eaf(0x1ec)]({'status':'complete','output':_0x4f9092}),processing=!0x1;}async function load(){const _0xdd556c=a0_0x17cb7e;self[_0xdd556c(0x1ec)]({'status':_0xdd556c(0x1ea),'data':_0xdd556c(0x1f3)});const [_0x4a7800,_0x544c57,_0x20f2ac]=await AutomaticSpeechRecognitionPipeline[_0xdd556c(0x1ee)](_0x489a86=>{const _0x53db6d=_0xdd556c;self[_0x53db6d(0x1ec)](_0x489a86);});self[_0xdd556c(0x1ec)]({'status':'loading','data':'Compiling\x20shaders\x20and\x20warming\x20up\x20model...'}),await _0x20f2ac[_0xdd556c(0x1e1)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0xdd556c(0x1ec)]({'status':_0xdd556c(0x1ef)});}self['addEventListener'](a0_0x17cb7e(0x1dd),async _0xa2e55b=>{const _0x63ef99=a0_0x17cb7e,{type:_0x49611d,data:_0x355889}=_0xa2e55b[_0x63ef99(0x1e5)];switch(_0x49611d){case _0x63ef99(0x1f0):load();break;case'generate':generate(_0x355889);}});