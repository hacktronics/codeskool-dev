const a0_0x264674=a0_0x2a64;(function(_0x1e9f10,_0x22998f){const _0xa3d8ff=a0_0x2a64,_0x2214c5=_0x1e9f10();while(!![]){try{const _0x4d3b04=parseInt(_0xa3d8ff(0x1e9))/0x1+parseInt(_0xa3d8ff(0x1d6))/0x2*(-parseInt(_0xa3d8ff(0x1e1))/0x3)+parseInt(_0xa3d8ff(0x1d7))/0x4+-parseInt(_0xa3d8ff(0x1e4))/0x5*(-parseInt(_0xa3d8ff(0x1d9))/0x6)+-parseInt(_0xa3d8ff(0x1e7))/0x7*(parseInt(_0xa3d8ff(0x1f1))/0x8)+-parseInt(_0xa3d8ff(0x1d5))/0x9+parseInt(_0xa3d8ff(0x1f2))/0xa;if(_0x4d3b04===_0x22998f)break;else _0x2214c5['push'](_0x2214c5['shift']());}catch(_0x3fd6f4){_0x2214c5['push'](_0x2214c5['shift']());}}}(a0_0x4dd1,0x7a511));function a0_0x4dd1(){const _0x10aec9=['message','model','ready','27471nGyUEh','Loading\x20model...','all','2921885Swjrnz','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','data','91INjQbk','generate','473047eXLuut','model_id','loading','now','update','batch_decode','tokenizer','postMessage','171728OEpXXP','1140460uysmPh','onnx-community/whisper-base','getInstance','1221237RbqwzD','134BFfDjj','1431236haGxrA','start','6UjGKZW','complete','from_pretrained','load','processor'];a0_0x4dd1=function(){return _0x10aec9;};return a0_0x4dd1();}function a0_0x2a64(_0x59de40,_0x256b71){const _0x4dd1e7=a0_0x4dd1();return a0_0x2a64=function(_0x2a6491,_0xaa0bb2){_0x2a6491=_0x2a6491-0x1d3;let _0x2cd379=_0x4dd1e7[_0x2a6491];return _0x2cd379;},a0_0x2a64(_0x59de40,_0x256b71);}import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x264674(0x1ea)]=null;static [a0_0x264674(0x1ef)]=null;static [a0_0x264674(0x1dd)]=null;static ['model']=null;static async[a0_0x264674(0x1d4)](_0x57e093=null){const _0x5b2941=a0_0x264674;return this[_0x5b2941(0x1ea)]=_0x5b2941(0x1d3),this[_0x5b2941(0x1ef)]??=AutoTokenizer[_0x5b2941(0x1db)](this['model_id'],{'progress_callback':_0x57e093}),this['processor']??=AutoProcessor[_0x5b2941(0x1db)](this[_0x5b2941(0x1ea)],{'progress_callback':_0x57e093}),this[_0x5b2941(0x1df)]??=WhisperForConditionalGeneration[_0x5b2941(0x1db)](this[_0x5b2941(0x1ea)],{'dtype':{'encoder_model':'fp32','decoder_model_merged':'q4'},'device':'webgpu','progress_callback':_0x57e093}),Promise[_0x5b2941(0x1e3)]([this[_0x5b2941(0x1ef)],this[_0x5b2941(0x1dd)],this[_0x5b2941(0x1df)]]);}}let processing=!0x1;async function generate({audio:_0x30dcad,language:_0x35ac05}){const _0x7b0f58=a0_0x264674;if(processing)return;processing=!0x0,self[_0x7b0f58(0x1f0)]({'status':_0x7b0f58(0x1d8)});const [_0x4de950,_0x4d0c88,_0x1af7a]=await AutomaticSpeechRecognitionPipeline['getInstance']();let _0x324863,_0x1ad4af=0x0;const _0x948215=new TextStreamer(_0x4de950,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x547105=>{const _0x17d48c=_0x7b0f58;let _0x41f20e;_0x324863??=performance[_0x17d48c(0x1ec)](),_0x1ad4af++>0x0&&(_0x41f20e=_0x1ad4af/(performance[_0x17d48c(0x1ec)]()-_0x324863)*0x3e8),self['postMessage']({'status':_0x17d48c(0x1ed),'output':_0x547105,'tps':_0x41f20e,'numTokens':_0x1ad4af});}}),_0x362677=await _0x4d0c88(_0x30dcad),_0x283245=await _0x1af7a[_0x7b0f58(0x1e8)]({..._0x362677,'max_new_tokens':0x40,'language':_0x35ac05,'streamer':_0x948215}),_0xa5a52e=_0x4de950[_0x7b0f58(0x1ee)](_0x283245,{'skip_special_tokens':!0x0});self['postMessage']({'status':_0x7b0f58(0x1da),'output':_0xa5a52e}),processing=!0x1;}async function load(){const _0x57b42c=a0_0x264674;self[_0x57b42c(0x1f0)]({'status':_0x57b42c(0x1eb),'data':_0x57b42c(0x1e2)});const [_0x58743f,_0x446e6a,_0x32fb11]=await AutomaticSpeechRecognitionPipeline[_0x57b42c(0x1d4)](_0x46c91d=>{const _0x1679b3=_0x57b42c;self[_0x1679b3(0x1f0)](_0x46c91d);});self[_0x57b42c(0x1f0)]({'status':'loading','data':_0x57b42c(0x1e5)}),await _0x32fb11[_0x57b42c(0x1e8)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x57b42c(0x1f0)]({'status':_0x57b42c(0x1e0)});}self['addEventListener'](a0_0x264674(0x1de),async _0x1ff67b=>{const _0x13c331=a0_0x264674,{type:_0x5cc92c,data:_0x15fddc}=_0x1ff67b[_0x13c331(0x1e6)];switch(_0x5cc92c){case _0x13c331(0x1dc):load();break;case _0x13c331(0x1e8):generate(_0x15fddc);}});