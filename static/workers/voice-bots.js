const a0_0x5da427=a0_0x7fe6;(function(_0xe9e784,_0x1c4215){const _0x595ac0=a0_0x7fe6,_0x5cdd02=_0xe9e784();while(!![]){try{const _0x27dc6f=parseInt(_0x595ac0(0x111))/0x1+-parseInt(_0x595ac0(0x11c))/0x2+-parseInt(_0x595ac0(0x112))/0x3+parseInt(_0x595ac0(0x106))/0x4*(parseInt(_0x595ac0(0x117))/0x5)+parseInt(_0x595ac0(0x10e))/0x6+parseInt(_0x595ac0(0x118))/0x7+-parseInt(_0x595ac0(0x105))/0x8;if(_0x27dc6f===_0x1c4215)break;else _0x5cdd02['push'](_0x5cdd02['shift']());}catch(_0x280aa3){_0x5cdd02['push'](_0x5cdd02['shift']());}}}(a0_0x425f,0x63d19));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;function a0_0x425f(){const _0x22ff0a=['generate','getInstance','onnx-community/whisper-base','model_id','model','update','3375720QmtTkQ','all','postMessage','329830yjKOtT','295155GijVQb','fp32','loading','now','addEventListener','905uuYCgT','5570131npisMD','message','start','from_pretrained','441348hLImtj','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','tokenizer','batch_decode','processor','13406080UzycUn','15812hLrBsX','data'];a0_0x425f=function(){return _0x22ff0a;};return a0_0x425f();}class AutomaticSpeechRecognitionPipeline{static [a0_0x5da427(0x10b)]=null;static ['tokenizer']=null;static ['processor']=null;static [a0_0x5da427(0x10c)]=null;static async[a0_0x5da427(0x109)](_0x3838e4=null){const _0x4d86b0=a0_0x5da427;return this[_0x4d86b0(0x10b)]=_0x4d86b0(0x10a),this[_0x4d86b0(0x102)]??=AutoTokenizer['from_pretrained'](this[_0x4d86b0(0x10b)],{'progress_callback':_0x3838e4}),this[_0x4d86b0(0x104)]??=AutoProcessor[_0x4d86b0(0x11b)](this[_0x4d86b0(0x10b)],{'progress_callback':_0x3838e4}),this['model']??=WhisperForConditionalGeneration[_0x4d86b0(0x11b)](this[_0x4d86b0(0x10b)],{'dtype':{'encoder_model':_0x4d86b0(0x113),'decoder_model_merged':'q4'},'device':'webgpu','progress_callback':_0x3838e4}),Promise[_0x4d86b0(0x10f)]([this[_0x4d86b0(0x102)],this['processor'],this[_0x4d86b0(0x10c)]]);}}function a0_0x7fe6(_0x34f84d,_0x4c29e8){const _0x425fc7=a0_0x425f();return a0_0x7fe6=function(_0x7fe68a,_0x2d3fc5){_0x7fe68a=_0x7fe68a-0x101;let _0x970e08=_0x425fc7[_0x7fe68a];return _0x970e08;},a0_0x7fe6(_0x34f84d,_0x4c29e8);}let processing=!0x1;async function generate({audio:_0x465275,language:_0x4a597d}){const _0xcb4c74=a0_0x5da427;if(processing)return;processing=!0x0,self['postMessage']({'status':_0xcb4c74(0x11a)});const [_0x36066c,_0x5a42e0,_0x186556]=await AutomaticSpeechRecognitionPipeline['getInstance']();let _0x6c71ee,_0x200da0=0x0;const _0x14b49f=new TextStreamer(_0x36066c,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x17eb4b=>{const _0x22fb97=_0xcb4c74;let _0x495540;_0x6c71ee??=performance[_0x22fb97(0x115)](),_0x200da0++>0x0&&(_0x495540=_0x200da0/(performance[_0x22fb97(0x115)]()-_0x6c71ee)*0x3e8),self[_0x22fb97(0x110)]({'status':_0x22fb97(0x10d),'output':_0x17eb4b,'tps':_0x495540,'numTokens':_0x200da0});}}),_0x3df9e3=await _0x5a42e0(_0x465275),_0x5113b8=await _0x186556['generate']({..._0x3df9e3,'max_new_tokens':0x40,'language':_0x4a597d,'streamer':_0x14b49f}),_0x1375de=_0x36066c[_0xcb4c74(0x103)](_0x5113b8,{'skip_special_tokens':!0x0});self[_0xcb4c74(0x110)]({'status':'complete','output':_0x1375de}),processing=!0x1;}async function load(){const _0x272297=a0_0x5da427;self[_0x272297(0x110)]({'status':'loading','data':'Loading\x20model...'});const [_0x3507b8,_0x1f598b,_0x47d302]=await AutomaticSpeechRecognitionPipeline[_0x272297(0x109)](_0x1499d3=>{const _0x24daf6=_0x272297;self[_0x24daf6(0x110)](_0x1499d3);});self[_0x272297(0x110)]({'status':_0x272297(0x114),'data':_0x272297(0x101)}),await _0x47d302[_0x272297(0x108)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self['postMessage']({'status':'ready'});}self[a0_0x5da427(0x116)](a0_0x5da427(0x119),async _0x3ca962=>{const _0x7abbce=a0_0x5da427,{type:_0x196d8a,data:_0x536c5e}=_0x3ca962[_0x7abbce(0x107)];switch(_0x196d8a){case'load':load();break;case'generate':generate(_0x536c5e);}});