const a0_0x4b84f9=a0_0x174b;(function(_0x443d37,_0x13e96b){const _0x265c49=a0_0x174b,_0x46b1b3=_0x443d37();while(!![]){try{const _0x1d1136=parseInt(_0x265c49(0xb5))/0x1+parseInt(_0x265c49(0xbd))/0x2+-parseInt(_0x265c49(0xb3))/0x3*(parseInt(_0x265c49(0xb6))/0x4)+-parseInt(_0x265c49(0xac))/0x5*(-parseInt(_0x265c49(0xbb))/0x6)+parseInt(_0x265c49(0xb0))/0x7+-parseInt(_0x265c49(0xb4))/0x8+parseInt(_0x265c49(0xc0))/0x9*(-parseInt(_0x265c49(0xb8))/0xa);if(_0x1d1136===_0x13e96b)break;else _0x46b1b3['push'](_0x46b1b3['shift']());}catch(_0x3cd8ef){_0x46b1b3['push'](_0x46b1b3['shift']());}}}(a0_0x34cf,0x8a406));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;function a0_0x34cf(){const _0x212994=['onnx-community/whisper-base','10770XUKjoo','now','800684aDRzqk','model_id','load','4655601DOyDRI','loading','batch_decode','complete','webgpu','message','processor','fp32','tokenizer','postMessage','2035DRTWYh','model','from_pretrained','data','6675179sPrFzJ','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','getInstance','3eSroSB','921952vQpYaD','1046736ofNLdu','3591404zrdtNE','generate','30CkAsIY','all'];a0_0x34cf=function(){return _0x212994;};return a0_0x34cf();}class AutomaticSpeechRecognitionPipeline{static [a0_0x4b84f9(0xbe)]=null;static ['tokenizer']=null;static ['processor']=null;static [a0_0x4b84f9(0xad)]=null;static async[a0_0x4b84f9(0xb2)](_0x30f904=null){const _0x57703e=a0_0x4b84f9;return this['model_id']=_0x57703e(0xba),this[_0x57703e(0xaa)]??=AutoTokenizer[_0x57703e(0xae)](this[_0x57703e(0xbe)],{'progress_callback':_0x30f904}),this[_0x57703e(0xa8)]??=AutoProcessor[_0x57703e(0xae)](this[_0x57703e(0xbe)],{'progress_callback':_0x30f904}),this[_0x57703e(0xad)]??=WhisperForConditionalGeneration[_0x57703e(0xae)](this[_0x57703e(0xbe)],{'dtype':{'encoder_model':_0x57703e(0xa9),'decoder_model_merged':'q4'},'device':_0x57703e(0xa6),'progress_callback':_0x30f904}),Promise[_0x57703e(0xb9)]([this[_0x57703e(0xaa)],this[_0x57703e(0xa8)],this['model']]);}}let processing=!0x1;function a0_0x174b(_0x1aa19c,_0x291d59){const _0x34cfc7=a0_0x34cf();return a0_0x174b=function(_0x174b43,_0x1f7cdd){_0x174b43=_0x174b43-0xa4;let _0x516bd9=_0x34cfc7[_0x174b43];return _0x516bd9;},a0_0x174b(_0x1aa19c,_0x291d59);}async function generate({audio:_0x330caf,language:_0x511020}){const _0x43cdfa=a0_0x4b84f9;if(processing)return;processing=!0x0,self[_0x43cdfa(0xab)]({'status':'start'});const [_0x40122d,_0x9c29d1,_0x249f57]=await AutomaticSpeechRecognitionPipeline[_0x43cdfa(0xb2)]();let _0x5d5829,_0x885d10=0x0;const _0x2b5fe8=new TextStreamer(_0x40122d,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x49af7f=>{const _0x2992c7=_0x43cdfa;let _0x393b21;_0x5d5829??=performance[_0x2992c7(0xbc)](),_0x885d10++>0x0&&(_0x393b21=_0x885d10/(performance[_0x2992c7(0xbc)]()-_0x5d5829)*0x3e8),self['postMessage']({'status':'update','output':_0x49af7f,'tps':_0x393b21,'numTokens':_0x885d10});}}),_0xb9b545=await _0x9c29d1(_0x330caf),_0xa4a002=await _0x249f57[_0x43cdfa(0xb7)]({..._0xb9b545,'max_new_tokens':0x40,'language':_0x511020,'streamer':_0x2b5fe8}),_0x2a3f9d=_0x40122d[_0x43cdfa(0xa4)](_0xa4a002,{'skip_special_tokens':!0x0});self['postMessage']({'status':_0x43cdfa(0xa5),'output':_0x2a3f9d}),processing=!0x1;}async function load(){const _0x1e6010=a0_0x4b84f9;self[_0x1e6010(0xab)]({'status':_0x1e6010(0xc1),'data':'Loading\x20model...'});const [_0x25c0e8,_0x281b2b,_0x3ba049]=await AutomaticSpeechRecognitionPipeline[_0x1e6010(0xb2)](_0x4ecbb1=>{const _0x345843=_0x1e6010;self[_0x345843(0xab)](_0x4ecbb1);});self[_0x1e6010(0xab)]({'status':'loading','data':_0x1e6010(0xb1)}),await _0x3ba049[_0x1e6010(0xb7)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self['postMessage']({'status':'ready'});}self['addEventListener'](a0_0x4b84f9(0xa7),async _0x5d9c6d=>{const _0x4aa876=a0_0x4b84f9,{type:_0x352d1b,data:_0x38b8ea}=_0x5d9c6d[_0x4aa876(0xaf)];switch(_0x352d1b){case _0x4aa876(0xbf):load();break;case _0x4aa876(0xb7):generate(_0x38b8ea);}});