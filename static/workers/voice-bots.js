const a0_0x23e4b4=a0_0x43cb;(function(_0x44c766,_0x3340ca){const _0x5c2f8e=a0_0x43cb,_0x1a52f3=_0x44c766();while(!![]){try{const _0x5ea2a3=-parseInt(_0x5c2f8e(0x16c))/0x1+-parseInt(_0x5c2f8e(0x17e))/0x2+-parseInt(_0x5c2f8e(0x172))/0x3*(-parseInt(_0x5c2f8e(0x171))/0x4)+parseInt(_0x5c2f8e(0x168))/0x5*(-parseInt(_0x5c2f8e(0x17d))/0x6)+parseInt(_0x5c2f8e(0x163))/0x7+-parseInt(_0x5c2f8e(0x16d))/0x8+parseInt(_0x5c2f8e(0x167))/0x9*(parseInt(_0x5c2f8e(0x16b))/0xa);if(_0x5ea2a3===_0x3340ca)break;else _0x1a52f3['push'](_0x1a52f3['shift']());}catch(_0x3ab280){_0x1a52f3['push'](_0x1a52f3['shift']());}}}(a0_0x1b02,0x2c5bd));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';function a0_0x1b02(){const _0x3d059c=['complete','4263813IBzVSA','137905pJJlFb','now','processor','10RBwjVl','28773OuwQOX','2882000ecENje','model_id','model','ready','8fuHkCc','485586HnlNRl','message','tokenizer','fp32','all','batch_decode','generate','start','webgpu','data','from_pretrained','78bkKpAh','411236PEdbeJ','postMessage','onnx-community/whisper-base','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','2361842rzgsGD','loading','getInstance'];a0_0x1b02=function(){return _0x3d059c;};return a0_0x1b02();}const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x23e4b4(0x16e)]=null;static ['tokenizer']=null;static [a0_0x23e4b4(0x16a)]=null;static [a0_0x23e4b4(0x16f)]=null;static async['getInstance'](_0x9ee3fe=null){const _0x4a7724=a0_0x23e4b4;return this['model_id']=_0x4a7724(0x161),this[_0x4a7724(0x174)]??=AutoTokenizer['from_pretrained'](this['model_id'],{'progress_callback':_0x9ee3fe}),this[_0x4a7724(0x16a)]??=AutoProcessor['from_pretrained'](this[_0x4a7724(0x16e)],{'progress_callback':_0x9ee3fe}),this[_0x4a7724(0x16f)]??=WhisperForConditionalGeneration[_0x4a7724(0x17c)](this[_0x4a7724(0x16e)],{'dtype':{'encoder_model':_0x4a7724(0x175),'decoder_model_merged':'q4'},'device':_0x4a7724(0x17a),'progress_callback':_0x9ee3fe}),Promise[_0x4a7724(0x176)]([this[_0x4a7724(0x174)],this[_0x4a7724(0x16a)],this[_0x4a7724(0x16f)]]);}}function a0_0x43cb(_0x4a36b3,_0x486bdb){const _0x1b024e=a0_0x1b02();return a0_0x43cb=function(_0x43cba2,_0x2dd4da){_0x43cba2=_0x43cba2-0x160;let _0x2f3b5d=_0x1b024e[_0x43cba2];return _0x2f3b5d;},a0_0x43cb(_0x4a36b3,_0x486bdb);}let processing=!0x1;async function generate({audio:_0x22aec8,language:_0x35a3e8}){const _0x2e4358=a0_0x23e4b4;if(processing)return;processing=!0x0,self[_0x2e4358(0x160)]({'status':_0x2e4358(0x179)});const [_0x4bfab7,_0x51aecb,_0x530401]=await AutomaticSpeechRecognitionPipeline[_0x2e4358(0x165)]();let _0xca1932,_0xac83c=0x0;const _0xf39c9d=new TextStreamer(_0x4bfab7,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x5d65f9=>{const _0x2ebe03=_0x2e4358;let _0x3addb3;_0xca1932??=performance[_0x2ebe03(0x169)](),_0xac83c++>0x0&&(_0x3addb3=_0xac83c/(performance['now']()-_0xca1932)*0x3e8),self[_0x2ebe03(0x160)]({'status':'update','output':_0x5d65f9,'tps':_0x3addb3,'numTokens':_0xac83c});}}),_0x43502c=await _0x51aecb(_0x22aec8),_0x24b0c1=await _0x530401['generate']({..._0x43502c,'max_new_tokens':0x40,'language':_0x35a3e8,'streamer':_0xf39c9d}),_0x592296=_0x4bfab7[_0x2e4358(0x177)](_0x24b0c1,{'skip_special_tokens':!0x0});self[_0x2e4358(0x160)]({'status':_0x2e4358(0x166),'output':_0x592296}),processing=!0x1;}async function load(){const _0x378ad8=a0_0x23e4b4;self['postMessage']({'status':_0x378ad8(0x164),'data':'Loading\x20model...'});const [_0x53503d,_0x1327bb,_0x2f5eb4]=await AutomaticSpeechRecognitionPipeline[_0x378ad8(0x165)](_0x3124ef=>{self['postMessage'](_0x3124ef);});self[_0x378ad8(0x160)]({'status':_0x378ad8(0x164),'data':_0x378ad8(0x162)}),await _0x2f5eb4[_0x378ad8(0x178)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self['postMessage']({'status':_0x378ad8(0x170)});}self['addEventListener'](a0_0x23e4b4(0x173),async _0x439408=>{const _0x200ac5=a0_0x23e4b4,{type:_0x1cf3fa,data:_0x4b2564}=_0x439408[_0x200ac5(0x17b)];switch(_0x1cf3fa){case'load':load();break;case _0x200ac5(0x178):generate(_0x4b2564);}});