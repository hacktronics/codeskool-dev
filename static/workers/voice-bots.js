const a0_0x471b41=a0_0x55ff;(function(_0x4c2e83,_0x7e38bc){const _0x2429e2=a0_0x55ff,_0x2dde2=_0x4c2e83();while(!![]){try{const _0x480472=-parseInt(_0x2429e2(0x156))/0x1+parseInt(_0x2429e2(0x151))/0x2+parseInt(_0x2429e2(0x13d))/0x3*(-parseInt(_0x2429e2(0x147))/0x4)+parseInt(_0x2429e2(0x13e))/0x5*(parseInt(_0x2429e2(0x14f))/0x6)+parseInt(_0x2429e2(0x154))/0x7+-parseInt(_0x2429e2(0x157))/0x8*(parseInt(_0x2429e2(0x14b))/0x9)+parseInt(_0x2429e2(0x14e))/0xa;if(_0x480472===_0x7e38bc)break;else _0x2dde2['push'](_0x2dde2['shift']());}catch(_0x29419d){_0x2dde2['push'](_0x2dde2['shift']());}}}(a0_0xda89,0x30936));function a0_0x55ff(_0x2e1d64,_0x1f00d5){const _0xda89f1=a0_0xda89();return a0_0x55ff=function(_0x55ff5a,_0x56be00){_0x55ff5a=_0x55ff5a-0x13c;let _0x81c75a=_0xda89f1[_0x55ff5a];return _0x81c75a;},a0_0x55ff(_0x2e1d64,_0x1f00d5);}import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static ['model_id']=null;static [a0_0x471b41(0x13f)]=null;static [a0_0x471b41(0x14d)]=null;static [a0_0x471b41(0x150)]=null;static async['getInstance'](_0x194f4f=null){const _0x434a79=a0_0x471b41;return this[_0x434a79(0x142)]=_0x434a79(0x144),this[_0x434a79(0x13f)]??=AutoTokenizer[_0x434a79(0x145)](this['model_id'],{'progress_callback':_0x194f4f}),this[_0x434a79(0x14d)]??=AutoProcessor[_0x434a79(0x145)](this[_0x434a79(0x142)],{'progress_callback':_0x194f4f}),this[_0x434a79(0x150)]??=WhisperForConditionalGeneration[_0x434a79(0x145)](this[_0x434a79(0x142)],{'dtype':{'encoder_model':'fp32','decoder_model_merged':'q4'},'device':_0x434a79(0x14c),'progress_callback':_0x194f4f}),Promise[_0x434a79(0x149)]([this[_0x434a79(0x13f)],this[_0x434a79(0x14d)],this['model']]);}}function a0_0xda89(){const _0xcb5746=['message','onnx-community/whisper-base','from_pretrained','data','22316LHZLOC','start','all','postMessage','695250mShCBZ','webgpu','processor','4817930ZxJoKX','2216724DIrbSy','model','229462fuOacp','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','addEventListener','519925AwrMLx','update','170508fhPEJM','40kxuveN','getInstance','loading','batch_decode','ready','Loading\x20model...','generate','153eGKNIw','5nFknkP','tokenizer','load','now','model_id'];a0_0xda89=function(){return _0xcb5746;};return a0_0xda89();}let processing=!0x1;async function generate({audio:_0x44342b,language:_0x5edb29}){const _0x3af481=a0_0x471b41;if(processing)return;processing=!0x0,self[_0x3af481(0x14a)]({'status':_0x3af481(0x148)});const [_0x123f6b,_0x53768a,_0x41ea75]=await AutomaticSpeechRecognitionPipeline[_0x3af481(0x158)]();let _0x22bc88,_0x568cf4=0x0;const _0x5b145f=new TextStreamer(_0x123f6b,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x363834=>{const _0x45e591=_0x3af481;let _0x59754a;_0x22bc88??=performance[_0x45e591(0x141)](),_0x568cf4++>0x0&&(_0x59754a=_0x568cf4/(performance[_0x45e591(0x141)]()-_0x22bc88)*0x3e8),self[_0x45e591(0x14a)]({'status':_0x45e591(0x155),'output':_0x363834,'tps':_0x59754a,'numTokens':_0x568cf4});}}),_0x4e5308=await _0x53768a(_0x44342b),_0x7870c6=await _0x41ea75[_0x3af481(0x13c)]({..._0x4e5308,'max_new_tokens':0x40,'language':_0x5edb29,'streamer':_0x5b145f}),_0x51dae4=_0x123f6b[_0x3af481(0x15a)](_0x7870c6,{'skip_special_tokens':!0x0});self['postMessage']({'status':'complete','output':_0x51dae4}),processing=!0x1;}async function load(){const _0x26ac7b=a0_0x471b41;self[_0x26ac7b(0x14a)]({'status':'loading','data':_0x26ac7b(0x15c)});const [_0x152ac0,_0x2704c3,_0x22e90f]=await AutomaticSpeechRecognitionPipeline['getInstance'](_0x1a6377=>{const _0x4a80ea=_0x26ac7b;self[_0x4a80ea(0x14a)](_0x1a6377);});self[_0x26ac7b(0x14a)]({'status':_0x26ac7b(0x159),'data':_0x26ac7b(0x152)}),await _0x22e90f['generate']({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x26ac7b(0x14a)]({'status':_0x26ac7b(0x15b)});}self[a0_0x471b41(0x153)](a0_0x471b41(0x143),async _0x4155a9=>{const _0x1403e8=a0_0x471b41,{type:_0x51e9c5,data:_0x42a655}=_0x4155a9[_0x1403e8(0x146)];switch(_0x51e9c5){case _0x1403e8(0x140):load();break;case'generate':generate(_0x42a655);}});