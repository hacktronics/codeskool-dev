function a0_0x2e37(){const _0x3ba215=['178132eQMFbV','all','ready','1623804dAoqUQ','processor','25062KLrqvH','model_id','data','126TgjnMz','from_pretrained','addEventListener','message','1070OOXkAO','update','7616CXEFEm','getInstance','loading','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','now','350rktzXv','start','complete','postMessage','model','onnx-community/whisper-base','3631314tySpVx','generate','fp32','tokenizer','333192ILsEVW','batch_decode','26752660umUADz','Loading\x20model...'];a0_0x2e37=function(){return _0x3ba215;};return a0_0x2e37();}const a0_0x20f885=a0_0x354c;(function(_0x48bd3e,_0x23e91b){const _0x3da762=a0_0x354c,_0x55a924=_0x48bd3e();while(!![]){try{const _0x38acbe=-parseInt(_0x3da762(0x15f))/0x1*(parseInt(_0x3da762(0x164))/0x2)+parseInt(_0x3da762(0x16a))/0x3+parseInt(_0x3da762(0x172))/0x4+parseInt(_0x3da762(0x17e))/0x5*(-parseInt(_0x3da762(0x177))/0x6)+-parseInt(_0x3da762(0x175))/0x7+-parseInt(_0x3da762(0x16e))/0x8*(parseInt(_0x3da762(0x17a))/0x9)+parseInt(_0x3da762(0x170))/0xa;if(_0x38acbe===_0x23e91b)break;else _0x55a924['push'](_0x55a924['shift']());}catch(_0x2e2df4){_0x55a924['push'](_0x55a924['shift']());}}}(a0_0x2e37,0xd8eb5));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.3.3/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x20f885(0x178)]=null;static [a0_0x20f885(0x16d)]=null;static [a0_0x20f885(0x176)]=null;static [a0_0x20f885(0x168)]=null;static async[a0_0x20f885(0x160)](_0x1a03c3=null){const _0x2998e9=a0_0x20f885;return this[_0x2998e9(0x178)]=_0x2998e9(0x169),this['tokenizer']??=AutoTokenizer[_0x2998e9(0x17b)](this[_0x2998e9(0x178)],{'progress_callback':_0x1a03c3}),this[_0x2998e9(0x176)]??=AutoProcessor[_0x2998e9(0x17b)](this['model_id'],{'progress_callback':_0x1a03c3}),this[_0x2998e9(0x168)]??=WhisperForConditionalGeneration[_0x2998e9(0x17b)](this[_0x2998e9(0x178)],{'dtype':{'encoder_model':_0x2998e9(0x16c),'decoder_model_merged':'q4'},'device':'webgpu','progress_callback':_0x1a03c3}),Promise[_0x2998e9(0x173)]([this[_0x2998e9(0x16d)],this['processor'],this[_0x2998e9(0x168)]]);}}let processing=!0x1;async function generate({audio:_0x46bfc3,language:_0x5139d2}){const _0x377fbb=a0_0x20f885;if(processing)return;processing=!0x0,self[_0x377fbb(0x167)]({'status':_0x377fbb(0x165)});const [_0x11d39c,_0x4fbfa2,_0x121c82]=await AutomaticSpeechRecognitionPipeline[_0x377fbb(0x160)]();let _0x540d61,_0x1fe6b8=0x0;const _0x7f4ddf=new TextStreamer(_0x11d39c,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x47dc6c=>{const _0x41793d=_0x377fbb;let _0x16826b;_0x540d61??=performance[_0x41793d(0x163)](),_0x1fe6b8++>0x0&&(_0x16826b=_0x1fe6b8/(performance[_0x41793d(0x163)]()-_0x540d61)*0x3e8),self['postMessage']({'status':_0x41793d(0x15e),'output':_0x47dc6c,'tps':_0x16826b,'numTokens':_0x1fe6b8});}}),_0xa80514=await _0x4fbfa2(_0x46bfc3),_0xa9389f=await _0x121c82[_0x377fbb(0x16b)]({..._0xa80514,'max_new_tokens':0x40,'language':_0x5139d2,'streamer':_0x7f4ddf}),_0xdb71ca=_0x11d39c[_0x377fbb(0x16f)](_0xa9389f,{'skip_special_tokens':!0x0});self[_0x377fbb(0x167)]({'status':_0x377fbb(0x166),'output':_0xdb71ca}),processing=!0x1;}function a0_0x354c(_0x567512,_0x361374){const _0x2e37c7=a0_0x2e37();return a0_0x354c=function(_0x354cc6,_0x1b0251){_0x354cc6=_0x354cc6-0x15e;let _0x5ca8c0=_0x2e37c7[_0x354cc6];return _0x5ca8c0;},a0_0x354c(_0x567512,_0x361374);}async function load(){const _0x4a73ff=a0_0x20f885;self[_0x4a73ff(0x167)]({'status':_0x4a73ff(0x161),'data':_0x4a73ff(0x171)});const [_0x3aa7af,_0x27cedb,_0x21c15d]=await AutomaticSpeechRecognitionPipeline['getInstance'](_0x4909bd=>{self['postMessage'](_0x4909bd);});self[_0x4a73ff(0x167)]({'status':_0x4a73ff(0x161),'data':_0x4a73ff(0x162)}),await _0x21c15d[_0x4a73ff(0x16b)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x4a73ff(0x167)]({'status':_0x4a73ff(0x174)});}self[a0_0x20f885(0x17c)](a0_0x20f885(0x17d),async _0x28e67f=>{const _0x82e83d=a0_0x20f885,{type:_0x1405c0,data:_0x4ffdd7}=_0x28e67f[_0x82e83d(0x179)];switch(_0x1405c0){case'load':load();break;case _0x82e83d(0x16b):generate(_0x4ffdd7);}});