const a0_0x156ce7=a0_0x1e05;function a0_0x1e05(_0x50ea00,_0xd29463){const _0x30c3c4=a0_0x30c3();return a0_0x1e05=function(_0x1e05e9,_0x501649){_0x1e05e9=_0x1e05e9-0x1be;let _0x49cb34=_0x30c3c4[_0x1e05e9];return _0x49cb34;},a0_0x1e05(_0x50ea00,_0xd29463);}function a0_0x30c3(){const _0x364c0b=['processor','generate','update','start','getInstance','from_pretrained','1403210AbyCWc','onnx-community/whisper-base','188590HlnoEm','webgpu','loading','4mwfjlo','model','517HPGltg','tokenizer','Loading\x20model...','model_id','ready','935628tceLWB','237930ZWQQOQ','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','now','27512pjUScB','619494eBjaIh','47882WJbYtU','49FodlSl','360SgxlYf','addEventListener','postMessage'];a0_0x30c3=function(){return _0x364c0b;};return a0_0x30c3();}(function(_0x433732,_0x4196d5){const _0xe4b961=a0_0x1e05,_0x568f2d=_0x433732();while(!![]){try{const _0x3aefc9=parseInt(_0xe4b961(0x1d1))/0x1+-parseInt(_0xe4b961(0x1d0))/0x2+-parseInt(_0xe4b961(0x1cb))/0x3+-parseInt(_0xe4b961(0x1c4))/0x4*(-parseInt(_0xe4b961(0x1bf))/0x5)+-parseInt(_0xe4b961(0x1cc))/0x6*(parseInt(_0xe4b961(0x1d2))/0x7)+parseInt(_0xe4b961(0x1cf))/0x8*(-parseInt(_0xe4b961(0x1d3))/0x9)+parseInt(_0xe4b961(0x1c1))/0xa*(parseInt(_0xe4b961(0x1c6))/0xb);if(_0x3aefc9===_0x4196d5)break;else _0x568f2d['push'](_0x568f2d['shift']());}catch(_0x38bcfa){_0x568f2d['push'](_0x568f2d['shift']());}}}(a0_0x30c3,0x2b7d1));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static ['model_id']=null;static [a0_0x156ce7(0x1c7)]=null;static [a0_0x156ce7(0x1d6)]=null;static [a0_0x156ce7(0x1c5)]=null;static async['getInstance'](_0xad5379=null){const _0x5e9f4d=a0_0x156ce7;return this['model_id']=_0x5e9f4d(0x1c0),this[_0x5e9f4d(0x1c7)]??=AutoTokenizer[_0x5e9f4d(0x1be)](this['model_id'],{'progress_callback':_0xad5379}),this['processor']??=AutoProcessor[_0x5e9f4d(0x1be)](this[_0x5e9f4d(0x1c9)],{'progress_callback':_0xad5379}),this[_0x5e9f4d(0x1c5)]??=WhisperForConditionalGeneration[_0x5e9f4d(0x1be)](this['model_id'],{'dtype':{'encoder_model':'fp32','decoder_model_merged':'q4'},'device':_0x5e9f4d(0x1c2),'progress_callback':_0xad5379}),Promise['all']([this[_0x5e9f4d(0x1c7)],this['processor'],this[_0x5e9f4d(0x1c5)]]);}}let processing=!0x1;async function generate({audio:_0x37b2fe,language:_0x420f4f}){const _0x5cd62f=a0_0x156ce7;if(processing)return;processing=!0x0,self[_0x5cd62f(0x1d5)]({'status':_0x5cd62f(0x1d9)});const [_0x464a65,_0xd6b8a,_0x3e86ae]=await AutomaticSpeechRecognitionPipeline['getInstance']();let _0x332f8c,_0x20e09d=0x0;const _0x4e5f84=new TextStreamer(_0x464a65,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x2ab1da=>{const _0x187b7b=_0x5cd62f;let _0x328154;_0x332f8c??=performance[_0x187b7b(0x1ce)](),_0x20e09d++>0x0&&(_0x328154=_0x20e09d/(performance[_0x187b7b(0x1ce)]()-_0x332f8c)*0x3e8),self[_0x187b7b(0x1d5)]({'status':_0x187b7b(0x1d8),'output':_0x2ab1da,'tps':_0x328154,'numTokens':_0x20e09d});}}),_0x10e4fd=await _0xd6b8a(_0x37b2fe),_0x41796d=await _0x3e86ae[_0x5cd62f(0x1d7)]({..._0x10e4fd,'max_new_tokens':0x40,'language':_0x420f4f,'streamer':_0x4e5f84}),_0x20662a=_0x464a65['batch_decode'](_0x41796d,{'skip_special_tokens':!0x0});self[_0x5cd62f(0x1d5)]({'status':'complete','output':_0x20662a}),processing=!0x1;}async function load(){const _0x3cd705=a0_0x156ce7;self[_0x3cd705(0x1d5)]({'status':_0x3cd705(0x1c3),'data':_0x3cd705(0x1c8)});const [_0x161eb2,_0x5106a3,_0x157c32]=await AutomaticSpeechRecognitionPipeline[_0x3cd705(0x1da)](_0x385cba=>{const _0x488093=_0x3cd705;self[_0x488093(0x1d5)](_0x385cba);});self[_0x3cd705(0x1d5)]({'status':_0x3cd705(0x1c3),'data':_0x3cd705(0x1cd)}),await _0x157c32[_0x3cd705(0x1d7)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x3cd705(0x1d5)]({'status':_0x3cd705(0x1ca)});}self[a0_0x156ce7(0x1d4)]('message',async _0x38e5bf=>{const {type:_0x47a156,data:_0x2e0178}=_0x38e5bf['data'];switch(_0x47a156){case'load':load();break;case'generate':generate(_0x2e0178);}});