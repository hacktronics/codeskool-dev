const a0_0x219d77=a0_0x2982;(function(_0x15be16,_0x2c8b8d){const _0xe45ce1=a0_0x2982,_0x18d20c=_0x15be16();while(!![]){try{const _0xe6acef=parseInt(_0xe45ce1(0xde))/0x1*(parseInt(_0xe45ce1(0xcc))/0x2)+parseInt(_0xe45ce1(0xd1))/0x3*(parseInt(_0xe45ce1(0xdc))/0x4)+parseInt(_0xe45ce1(0xda))/0x5+-parseInt(_0xe45ce1(0xc5))/0x6+parseInt(_0xe45ce1(0xc8))/0x7*(parseInt(_0xe45ce1(0xd9))/0x8)+parseInt(_0xe45ce1(0xcb))/0x9+parseInt(_0xe45ce1(0xdf))/0xa*(-parseInt(_0xe45ce1(0xdb))/0xb);if(_0xe6acef===_0x2c8b8d)break;else _0x18d20c['push'](_0x18d20c['shift']());}catch(_0x49e821){_0x18d20c['push'](_0x18d20c['shift']());}}}(a0_0x3569,0xbafd9));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x219d77(0xd8)]=null;static [a0_0x219d77(0xe0)]=null;static [a0_0x219d77(0xd5)]=null;static [a0_0x219d77(0xe2)]=null;static async['getInstance'](_0x4e0e51=null){const _0xc680fa=a0_0x219d77;return this[_0xc680fa(0xd8)]='onnx-community/whisper-base',this[_0xc680fa(0xe0)]??=AutoTokenizer[_0xc680fa(0xcf)](this[_0xc680fa(0xd8)],{'progress_callback':_0x4e0e51}),this['processor']??=AutoProcessor[_0xc680fa(0xcf)](this[_0xc680fa(0xd8)],{'progress_callback':_0x4e0e51}),this['model']??=WhisperForConditionalGeneration[_0xc680fa(0xcf)](this[_0xc680fa(0xd8)],{'dtype':{'encoder_model':'fp32','decoder_model_merged':'q4'},'device':'webgpu','progress_callback':_0x4e0e51}),Promise[_0xc680fa(0xd7)]([this[_0xc680fa(0xe0)],this[_0xc680fa(0xd5)],this[_0xc680fa(0xe2)]]);}}let processing=!0x1;async function generate({audio:_0x474bd6,language:_0x3065e1}){const _0x4aaa58=a0_0x219d77;if(processing)return;processing=!0x0,self[_0x4aaa58(0xdd)]({'status':_0x4aaa58(0xca)});const [_0x12ff20,_0x35ab9c,_0x1b7dda]=await AutomaticSpeechRecognitionPipeline[_0x4aaa58(0xd6)]();let _0xb5c2b6,_0x5c8c41=0x0;const _0x4097a8=new TextStreamer(_0x12ff20,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x48712e=>{const _0x3b9be7=_0x4aaa58;let _0x35af0c;_0xb5c2b6??=performance[_0x3b9be7(0xc6)](),_0x5c8c41++>0x0&&(_0x35af0c=_0x5c8c41/(performance['now']()-_0xb5c2b6)*0x3e8),self[_0x3b9be7(0xdd)]({'status':'update','output':_0x48712e,'tps':_0x35af0c,'numTokens':_0x5c8c41});}}),_0x1f3a71=await _0x35ab9c(_0x474bd6),_0x344e94=await _0x1b7dda[_0x4aaa58(0xce)]({..._0x1f3a71,'max_new_tokens':0x40,'language':_0x3065e1,'streamer':_0x4097a8}),_0x635cbf=_0x12ff20[_0x4aaa58(0xcd)](_0x344e94,{'skip_special_tokens':!0x0});self[_0x4aaa58(0xdd)]({'status':'complete','output':_0x635cbf}),processing=!0x1;}async function load(){const _0x575b86=a0_0x219d77;self[_0x575b86(0xdd)]({'status':_0x575b86(0xe3),'data':_0x575b86(0xc9)});const [_0xf10c8b,_0x1cf7c6,_0x2fa216]=await AutomaticSpeechRecognitionPipeline[_0x575b86(0xd6)](_0x2ca1e2=>{const _0x808cc2=_0x575b86;self[_0x808cc2(0xdd)](_0x2ca1e2);});self[_0x575b86(0xdd)]({'status':'loading','data':_0x575b86(0xd3)}),await _0x2fa216['generate']({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x575b86(0xdd)]({'status':_0x575b86(0xd0)});}function a0_0x2982(_0x4d7c84,_0x210cd3){const _0x3569c0=a0_0x3569();return a0_0x2982=function(_0x2982c9,_0x54a4fb){_0x2982c9=_0x2982c9-0xc5;let _0x2afda4=_0x3569c0[_0x2982c9];return _0x2afda4;},a0_0x2982(_0x4d7c84,_0x210cd3);}function a0_0x3569(){const _0x20d02e=['model_id','456aTxwIC','2648330mRMKCz','3379255qdGgcU','5634868tmfAJZ','postMessage','7clBOck','90GdtwMs','tokenizer','addEventListener','model','loading','4687224xeIhmp','now','load','176533inRTZu','Loading\x20model...','start','1160397hENrLk','230618pPRPBO','batch_decode','generate','from_pretrained','ready','3GEeSla','message','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','data','processor','getInstance','all'];a0_0x3569=function(){return _0x20d02e;};return a0_0x3569();}self[a0_0x219d77(0xe1)](a0_0x219d77(0xd2),async _0x239c28=>{const _0x58ce0b=a0_0x219d77,{type:_0xb75962,data:_0x4ab72e}=_0x239c28[_0x58ce0b(0xd4)];switch(_0xb75962){case _0x58ce0b(0xc7):load();break;case _0x58ce0b(0xce):generate(_0x4ab72e);}});