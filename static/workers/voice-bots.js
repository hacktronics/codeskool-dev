const a0_0x314477=a0_0x5f39;(function(_0x19a21a,_0x46ac9a){const _0x4ab5d7=a0_0x5f39,_0x5198dc=_0x19a21a();while(!![]){try{const _0x28c2ca=parseInt(_0x4ab5d7(0x7c))/0x1+parseInt(_0x4ab5d7(0x81))/0x2+parseInt(_0x4ab5d7(0x88))/0x3+parseInt(_0x4ab5d7(0x89))/0x4*(-parseInt(_0x4ab5d7(0x84))/0x5)+parseInt(_0x4ab5d7(0x8e))/0x6+parseInt(_0x4ab5d7(0x87))/0x7+-parseInt(_0x4ab5d7(0x76))/0x8*(parseInt(_0x4ab5d7(0x82))/0x9);if(_0x28c2ca===_0x46ac9a)break;else _0x5198dc['push'](_0x5198dc['shift']());}catch(_0x417dc3){_0x5198dc['push'](_0x5198dc['shift']());}}}(a0_0x3e5f,0x97602));function a0_0x3e5f(){const _0x3e5324=['1147747wpRdUC','generate','postMessage','from_pretrained','model_id','444408kZmELX','153Igdeni','onnx-community/whisper-base','5qqBepF','now','addEventListener','6201013ReZvMP','672309dxOGVV','458812sRVKHW','tokenizer','data','load','processor','4757544bRmRTM','webgpu','fp32','complete','1194400EndJKJ','getInstance','loading','start','update','model'];a0_0x3e5f=function(){return _0x3e5324;};return a0_0x3e5f();}import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;function a0_0x5f39(_0x36b248,_0x1f4411){const _0x3e5f45=a0_0x3e5f();return a0_0x5f39=function(_0x5f3900,_0xf57713){_0x5f3900=_0x5f3900-0x76;let _0x113ec5=_0x3e5f45[_0x5f3900];return _0x113ec5;},a0_0x5f39(_0x36b248,_0x1f4411);}class AutomaticSpeechRecognitionPipeline{static [a0_0x314477(0x80)]=null;static [a0_0x314477(0x8a)]=null;static [a0_0x314477(0x8d)]=null;static ['model']=null;static async[a0_0x314477(0x77)](_0x1e315c=null){const _0xfe01ee=a0_0x314477;return this[_0xfe01ee(0x80)]=_0xfe01ee(0x83),this[_0xfe01ee(0x8a)]??=AutoTokenizer[_0xfe01ee(0x7f)](this['model_id'],{'progress_callback':_0x1e315c}),this['processor']??=AutoProcessor[_0xfe01ee(0x7f)](this[_0xfe01ee(0x80)],{'progress_callback':_0x1e315c}),this[_0xfe01ee(0x7b)]??=WhisperForConditionalGeneration['from_pretrained'](this[_0xfe01ee(0x80)],{'dtype':{'encoder_model':_0xfe01ee(0x90),'decoder_model_merged':'q4'},'device':_0xfe01ee(0x8f),'progress_callback':_0x1e315c}),Promise['all']([this['tokenizer'],this['processor'],this[_0xfe01ee(0x7b)]]);}}let processing=!0x1;async function generate({audio:_0x5ebb48,language:_0x22ba8d}){const _0x38c7d2=a0_0x314477;if(processing)return;processing=!0x0,self[_0x38c7d2(0x7e)]({'status':_0x38c7d2(0x79)});const [_0x26eb66,_0x151ea1,_0x5bfe7c]=await AutomaticSpeechRecognitionPipeline[_0x38c7d2(0x77)]();let _0x42f132,_0x24ce00=0x0;const _0x215846=new TextStreamer(_0x26eb66,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x2e19e0=>{const _0x366e86=_0x38c7d2;let _0x4642da;_0x42f132??=performance[_0x366e86(0x85)](),_0x24ce00++>0x0&&(_0x4642da=_0x24ce00/(performance['now']()-_0x42f132)*0x3e8),self[_0x366e86(0x7e)]({'status':_0x366e86(0x7a),'output':_0x2e19e0,'tps':_0x4642da,'numTokens':_0x24ce00});}}),_0x136d64=await _0x151ea1(_0x5ebb48),_0x3d4e19=await _0x5bfe7c[_0x38c7d2(0x7d)]({..._0x136d64,'max_new_tokens':0x40,'language':_0x22ba8d,'streamer':_0x215846}),_0x5f0b64=_0x26eb66['batch_decode'](_0x3d4e19,{'skip_special_tokens':!0x0});self[_0x38c7d2(0x7e)]({'status':_0x38c7d2(0x91),'output':_0x5f0b64}),processing=!0x1;}async function load(){const _0x37410c=a0_0x314477;self[_0x37410c(0x7e)]({'status':_0x37410c(0x78),'data':'Loading\x20model...'});const [_0x2f285d,_0x3d4c2b,_0x4f5dc4]=await AutomaticSpeechRecognitionPipeline[_0x37410c(0x77)](_0x16d7cf=>{const _0x5c586f=_0x37410c;self[_0x5c586f(0x7e)](_0x16d7cf);});self[_0x37410c(0x7e)]({'status':_0x37410c(0x78),'data':'Compiling\x20shaders\x20and\x20warming\x20up\x20model...'}),await _0x4f5dc4[_0x37410c(0x7d)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x37410c(0x7e)]({'status':'ready'});}self[a0_0x314477(0x86)]('message',async _0x393d9d=>{const _0x53cb28=a0_0x314477,{type:_0x52897f,data:_0x159660}=_0x393d9d[_0x53cb28(0x8b)];switch(_0x52897f){case _0x53cb28(0x8c):load();break;case _0x53cb28(0x7d):generate(_0x159660);}});