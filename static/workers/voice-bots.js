const a0_0x727ca=a0_0x258e;(function(_0x3fcff5,_0x3ef514){const _0x440820=a0_0x258e,_0x29d8b9=_0x3fcff5();while(!![]){try{const _0x37ab89=-parseInt(_0x440820(0x195))/0x1*(parseInt(_0x440820(0x188))/0x2)+parseInt(_0x440820(0x1a2))/0x3+parseInt(_0x440820(0x18f))/0x4*(-parseInt(_0x440820(0x18a))/0x5)+-parseInt(_0x440820(0x1a8))/0x6+-parseInt(_0x440820(0x1a3))/0x7*(parseInt(_0x440820(0x19c))/0x8)+-parseInt(_0x440820(0x18c))/0x9+-parseInt(_0x440820(0x18e))/0xa*(-parseInt(_0x440820(0x19d))/0xb);if(_0x37ab89===_0x3ef514)break;else _0x29d8b9['push'](_0x29d8b9['shift']());}catch(_0x5cdad1){_0x29d8b9['push'](_0x29d8b9['shift']());}}}(a0_0x1ee7,0x58e65));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;function a0_0x258e(_0x1a3ab9,_0xa02152){const _0x1ee7b6=a0_0x1ee7();return a0_0x258e=function(_0x258e58,_0x5a2387){_0x258e58=_0x258e58-0x188;let _0x30e253=_0x1ee7b6[_0x258e58];return _0x30e253;},a0_0x258e(_0x1a3ab9,_0xa02152);}class AutomaticSpeechRecognitionPipeline{static [a0_0x727ca(0x18b)]=null;static ['tokenizer']=null;static [a0_0x727ca(0x1a6)]=null;static [a0_0x727ca(0x196)]=null;static async['getInstance'](_0x15f609=null){const _0x25de40=a0_0x727ca;return this['model_id']=_0x25de40(0x193),this['tokenizer']??=AutoTokenizer[_0x25de40(0x189)](this[_0x25de40(0x18b)],{'progress_callback':_0x15f609}),this[_0x25de40(0x1a6)]??=AutoProcessor[_0x25de40(0x189)](this[_0x25de40(0x18b)],{'progress_callback':_0x15f609}),this[_0x25de40(0x196)]??=WhisperForConditionalGeneration[_0x25de40(0x189)](this[_0x25de40(0x18b)],{'dtype':{'encoder_model':_0x25de40(0x19b),'decoder_model_merged':'q4'},'device':'webgpu','progress_callback':_0x15f609}),Promise[_0x25de40(0x19f)]([this[_0x25de40(0x19e)],this[_0x25de40(0x1a6)],this[_0x25de40(0x196)]]);}}let processing=!0x1;async function generate({audio:_0x153da4,language:_0x51773f}){const _0x1c69ed=a0_0x727ca;if(processing)return;processing=!0x0,self['postMessage']({'status':_0x1c69ed(0x199)});const [_0x310f68,_0x535faf,_0x20c911]=await AutomaticSpeechRecognitionPipeline[_0x1c69ed(0x191)]();let _0xc0f486,_0x10bb4c=0x0;const _0x5e71f1=new TextStreamer(_0x310f68,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x38f252=>{const _0x4c9af4=_0x1c69ed;let _0x1e9d99;_0xc0f486??=performance['now'](),_0x10bb4c++>0x0&&(_0x1e9d99=_0x10bb4c/(performance[_0x4c9af4(0x190)]()-_0xc0f486)*0x3e8),self[_0x4c9af4(0x1a1)]({'status':_0x4c9af4(0x19a),'output':_0x38f252,'tps':_0x1e9d99,'numTokens':_0x10bb4c});}}),_0xf216cf=await _0x535faf(_0x153da4),_0x4da492=await _0x20c911[_0x1c69ed(0x1a0)]({..._0xf216cf,'max_new_tokens':0x40,'language':_0x51773f,'streamer':_0x5e71f1}),_0x4eb587=_0x310f68[_0x1c69ed(0x1a5)](_0x4da492,{'skip_special_tokens':!0x0});self[_0x1c69ed(0x1a1)]({'status':_0x1c69ed(0x198),'output':_0x4eb587}),processing=!0x1;}function a0_0x1ee7(){const _0x5f359f=['complete','start','update','fp32','4833688dRNENV','11yGwvQd','tokenizer','all','generate','postMessage','1512432wEVoRy','7LkEdyj','ready','batch_decode','processor','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','2944074DGiKQS','Loading\x20model...','6066QoLaEF','from_pretrained','10KDNJgn','model_id','1724247EJDBrW','data','18260530XbWJQt','273368sWhQqt','now','getInstance','load','onnx-community/whisper-base','message','179imPoER','model','loading'];a0_0x1ee7=function(){return _0x5f359f;};return a0_0x1ee7();}async function load(){const _0x2462dc=a0_0x727ca;self[_0x2462dc(0x1a1)]({'status':_0x2462dc(0x197),'data':_0x2462dc(0x1a9)});const [_0x4df432,_0xc1aac2,_0x4c982f]=await AutomaticSpeechRecognitionPipeline['getInstance'](_0x20ff04=>{self['postMessage'](_0x20ff04);});self['postMessage']({'status':'loading','data':_0x2462dc(0x1a7)}),await _0x4c982f[_0x2462dc(0x1a0)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x2462dc(0x1a1)]({'status':_0x2462dc(0x1a4)});}self['addEventListener'](a0_0x727ca(0x194),async _0x14a087=>{const _0x40fc21=a0_0x727ca,{type:_0xa5d9f8,data:_0x5cad36}=_0x14a087[_0x40fc21(0x18d)];switch(_0xa5d9f8){case _0x40fc21(0x192):load();break;case _0x40fc21(0x1a0):generate(_0x5cad36);}});