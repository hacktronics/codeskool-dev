const a0_0x5690ae=a0_0xd95a;(function(_0x272399,_0x47c371){const _0x3b86c4=a0_0xd95a,_0xe7b23f=_0x272399();while(!![]){try{const _0x161d36=parseInt(_0x3b86c4(0x188))/0x1*(parseInt(_0x3b86c4(0x174))/0x2)+parseInt(_0x3b86c4(0x173))/0x3+-parseInt(_0x3b86c4(0x182))/0x4*(parseInt(_0x3b86c4(0x189))/0x5)+parseInt(_0x3b86c4(0x17d))/0x6+parseInt(_0x3b86c4(0x186))/0x7*(parseInt(_0x3b86c4(0x18e))/0x8)+-parseInt(_0x3b86c4(0x191))/0x9+-parseInt(_0x3b86c4(0x181))/0xa*(-parseInt(_0x3b86c4(0x17a))/0xb);if(_0x161d36===_0x47c371)break;else _0xe7b23f['push'](_0xe7b23f['shift']());}catch(_0xc65e5f){_0xe7b23f['push'](_0xe7b23f['shift']());}}}(a0_0x3496,0x2b502));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;function a0_0xd95a(_0x1c2a18,_0x34e735){const _0x34962d=a0_0x3496();return a0_0xd95a=function(_0xd95af6,_0x5dfe7d){_0xd95af6=_0xd95af6-0x172;let _0x97c50d=_0x34962d[_0xd95af6];return _0x97c50d;},a0_0xd95a(_0x1c2a18,_0x34e735);}class AutomaticSpeechRecognitionPipeline{static [a0_0x5690ae(0x187)]=null;static ['tokenizer']=null;static [a0_0x5690ae(0x177)]=null;static [a0_0x5690ae(0x185)]=null;static async[a0_0x5690ae(0x18d)](_0x4878bd=null){const _0xe4f4df=a0_0x5690ae;return this[_0xe4f4df(0x187)]=_0xe4f4df(0x176),this[_0xe4f4df(0x190)]??=AutoTokenizer[_0xe4f4df(0x17e)](this['model_id'],{'progress_callback':_0x4878bd}),this[_0xe4f4df(0x177)]??=AutoProcessor[_0xe4f4df(0x17e)](this[_0xe4f4df(0x187)],{'progress_callback':_0x4878bd}),this['model']??=WhisperForConditionalGeneration['from_pretrained'](this[_0xe4f4df(0x187)],{'dtype':{'encoder_model':_0xe4f4df(0x172),'decoder_model_merged':'q4'},'device':_0xe4f4df(0x192),'progress_callback':_0x4878bd}),Promise['all']([this['tokenizer'],this[_0xe4f4df(0x177)],this['model']]);}}function a0_0x3496(){const _0x2ea356=['20zvuGoz','12MKzYRv','loading','start','model','14rFLjXh','model_id','4MTltXM','556100oNBDXR','complete','data','now','getInstance','347528dHNEjB','load','tokenizer','1460601bQZzNp','webgpu','fp32','74031wMqerH','122350GStYfR','update','onnx-community/whisper-base','processor','ready','generate','258247SSgOFt','addEventListener','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','1620876bUlXRp','from_pretrained','postMessage','Loading\x20model...'];a0_0x3496=function(){return _0x2ea356;};return a0_0x3496();}let processing=!0x1;async function generate({audio:_0x54097e,language:_0x275d1e}){const _0x4e8111=a0_0x5690ae;if(processing)return;processing=!0x0,self[_0x4e8111(0x17f)]({'status':_0x4e8111(0x184)});const [_0x3f4851,_0x2ad2b5,_0xccc18e]=await AutomaticSpeechRecognitionPipeline[_0x4e8111(0x18d)]();let _0x52d60b,_0x3cb52f=0x0;const _0x1b8f9e=new TextStreamer(_0x3f4851,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x20c0b4=>{const _0x10a388=_0x4e8111;let _0x8d0027;_0x52d60b??=performance[_0x10a388(0x18c)](),_0x3cb52f++>0x0&&(_0x8d0027=_0x3cb52f/(performance[_0x10a388(0x18c)]()-_0x52d60b)*0x3e8),self[_0x10a388(0x17f)]({'status':_0x10a388(0x175),'output':_0x20c0b4,'tps':_0x8d0027,'numTokens':_0x3cb52f});}}),_0x5ddca0=await _0x2ad2b5(_0x54097e),_0x591751=await _0xccc18e[_0x4e8111(0x179)]({..._0x5ddca0,'max_new_tokens':0x40,'language':_0x275d1e,'streamer':_0x1b8f9e}),_0x2282b0=_0x3f4851['batch_decode'](_0x591751,{'skip_special_tokens':!0x0});self[_0x4e8111(0x17f)]({'status':_0x4e8111(0x18a),'output':_0x2282b0}),processing=!0x1;}async function load(){const _0x4e0236=a0_0x5690ae;self['postMessage']({'status':_0x4e0236(0x183),'data':_0x4e0236(0x180)});const [_0x31d091,_0x197fad,_0x5b6ca5]=await AutomaticSpeechRecognitionPipeline[_0x4e0236(0x18d)](_0x2dbc86=>{const _0x205426=_0x4e0236;self[_0x205426(0x17f)](_0x2dbc86);});self[_0x4e0236(0x17f)]({'status':_0x4e0236(0x183),'data':_0x4e0236(0x17c)}),await _0x5b6ca5['generate']({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x4e0236(0x17f)]({'status':_0x4e0236(0x178)});}self[a0_0x5690ae(0x17b)]('message',async _0x38f3cb=>{const _0x2672f3=a0_0x5690ae,{type:_0x2dce47,data:_0x1dabe7}=_0x38f3cb[_0x2672f3(0x18b)];switch(_0x2dce47){case _0x2672f3(0x18f):load();break;case _0x2672f3(0x179):generate(_0x1dabe7);}});