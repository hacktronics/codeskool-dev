const a0_0x1fc315=a0_0x1a1e;function a0_0x1a1e(_0x39e6fb,_0x43ab82){const _0x4778ba=a0_0x4778();return a0_0x1a1e=function(_0x1a1e5f,_0x49621a){_0x1a1e5f=_0x1a1e5f-0x97;let _0x496e62=_0x4778ba[_0x1a1e5f];return _0x496e62;},a0_0x1a1e(_0x39e6fb,_0x43ab82);}(function(_0x4d0d59,_0x4cb361){const _0x2b1515=a0_0x1a1e,_0x371f6e=_0x4d0d59();while(!![]){try{const _0xdb06c6=-parseInt(_0x2b1515(0x9e))/0x1*(-parseInt(_0x2b1515(0x9f))/0x2)+-parseInt(_0x2b1515(0xac))/0x3+-parseInt(_0x2b1515(0x9a))/0x4*(parseInt(_0x2b1515(0xa7))/0x5)+parseInt(_0x2b1515(0xaa))/0x6+parseInt(_0x2b1515(0xb3))/0x7+-parseInt(_0x2b1515(0x99))/0x8+-parseInt(_0x2b1515(0xa9))/0x9*(-parseInt(_0x2b1515(0xae))/0xa);if(_0xdb06c6===_0x4cb361)break;else _0x371f6e['push'](_0x371f6e['shift']());}catch(_0x5ddd10){_0x371f6e['push'](_0x371f6e['shift']());}}}(a0_0x4778,0xa0b89));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;function a0_0x4778(){const _0x4cf58=['onnx-community/whisper-base','postMessage','tokenizer','start','update','complete','6412064dfPqpY','268aurOfu','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','processor','batch_decode','424306RENTjC','6wASyZU','load','model','all','fp32','now','generate','addEventListener','19225fKFJRr','webgpu','54LHAzcz','2462832eFnxMS','from_pretrained','2606316kNMXQV','getInstance','649340yUtHgB','model_id','message','loading','data','3592498SwwGJJ'];a0_0x4778=function(){return _0x4cf58;};return a0_0x4778();}class AutomaticSpeechRecognitionPipeline{static [a0_0x1fc315(0xaf)]=null;static [a0_0x1fc315(0xb6)]=null;static [a0_0x1fc315(0x9c)]=null;static ['model']=null;static async[a0_0x1fc315(0xad)](_0x567706=null){const _0x182233=a0_0x1fc315;return this[_0x182233(0xaf)]=_0x182233(0xb4),this[_0x182233(0xb6)]??=AutoTokenizer[_0x182233(0xab)](this[_0x182233(0xaf)],{'progress_callback':_0x567706}),this[_0x182233(0x9c)]??=AutoProcessor[_0x182233(0xab)](this[_0x182233(0xaf)],{'progress_callback':_0x567706}),this[_0x182233(0xa1)]??=WhisperForConditionalGeneration['from_pretrained'](this['model_id'],{'dtype':{'encoder_model':_0x182233(0xa3),'decoder_model_merged':'q4'},'device':_0x182233(0xa8),'progress_callback':_0x567706}),Promise[_0x182233(0xa2)]([this[_0x182233(0xb6)],this[_0x182233(0x9c)],this[_0x182233(0xa1)]]);}}let processing=!0x1;async function generate({audio:_0x33f3f7,language:_0x5a41d9}){const _0x1ac3b7=a0_0x1fc315;if(processing)return;processing=!0x0,self[_0x1ac3b7(0xb5)]({'status':_0x1ac3b7(0xb7)});const [_0x2bc81a,_0x23e294,_0x5046df]=await AutomaticSpeechRecognitionPipeline[_0x1ac3b7(0xad)]();let _0x309bb9,_0x343b5f=0x0;const _0x326444=new TextStreamer(_0x2bc81a,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x5c9ee6=>{const _0x4a9af3=_0x1ac3b7;let _0x5ae25f;_0x309bb9??=performance[_0x4a9af3(0xa4)](),_0x343b5f++>0x0&&(_0x5ae25f=_0x343b5f/(performance[_0x4a9af3(0xa4)]()-_0x309bb9)*0x3e8),self[_0x4a9af3(0xb5)]({'status':_0x4a9af3(0x97),'output':_0x5c9ee6,'tps':_0x5ae25f,'numTokens':_0x343b5f});}}),_0x3ed467=await _0x23e294(_0x33f3f7),_0x398c4d=await _0x5046df[_0x1ac3b7(0xa5)]({..._0x3ed467,'max_new_tokens':0x40,'language':_0x5a41d9,'streamer':_0x326444}),_0x438985=_0x2bc81a[_0x1ac3b7(0x9d)](_0x398c4d,{'skip_special_tokens':!0x0});self[_0x1ac3b7(0xb5)]({'status':_0x1ac3b7(0x98),'output':_0x438985}),processing=!0x1;}async function load(){const _0x1a2074=a0_0x1fc315;self['postMessage']({'status':_0x1a2074(0xb1),'data':'Loading\x20model...'});const [_0x7f6a1d,_0x58c81c,_0x15c801]=await AutomaticSpeechRecognitionPipeline[_0x1a2074(0xad)](_0x21c64e=>{self['postMessage'](_0x21c64e);});self[_0x1a2074(0xb5)]({'status':_0x1a2074(0xb1),'data':_0x1a2074(0x9b)}),await _0x15c801[_0x1a2074(0xa5)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self['postMessage']({'status':'ready'});}self[a0_0x1fc315(0xa6)](a0_0x1fc315(0xb0),async _0x2be86e=>{const _0x5f0214=a0_0x1fc315,{type:_0x37a72e,data:_0xe46300}=_0x2be86e[_0x5f0214(0xb2)];switch(_0x37a72e){case _0x5f0214(0xa0):load();break;case _0x5f0214(0xa5):generate(_0xe46300);}});