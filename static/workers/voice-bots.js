const a0_0xebdd61=a0_0x464d;(function(_0x4b3057,_0x4ae713){const _0x1e8232=a0_0x464d,_0x1aa097=_0x4b3057();while(!![]){try{const _0x4869f1=-parseInt(_0x1e8232(0x132))/0x1+parseInt(_0x1e8232(0x122))/0x2+parseInt(_0x1e8232(0x126))/0x3+parseInt(_0x1e8232(0x135))/0x4+parseInt(_0x1e8232(0x130))/0x5+parseInt(_0x1e8232(0x124))/0x6*(parseInt(_0x1e8232(0x133))/0x7)+-parseInt(_0x1e8232(0x125))/0x8;if(_0x4869f1===_0x4ae713)break;else _0x1aa097['push'](_0x1aa097['shift']());}catch(_0x2ae1a3){_0x1aa097['push'](_0x1aa097['shift']());}}}(a0_0x51cf,0xbbd0e));function a0_0x51cf(){const _0x2784c6=['140NluBLt','loading','1634772xWDeoX','fp32','generate','start','now','message','all','model','onnx-community/whisper-base','complete','1615102YUjIdW','processor','189402DdlWtq','10694464suPrPa','599166WlgPlp','from_pretrained','tokenizer','batch_decode','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','model_id','update','getInstance','webgpu','postMessage','6672195yVdSfD','load','1275643ExGtqI'];a0_0x51cf=function(){return _0x2784c6;};return a0_0x51cf();}import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';function a0_0x464d(_0x399f44,_0x591ad1){const _0x51cf68=a0_0x51cf();return a0_0x464d=function(_0x464dd8,_0x549009){_0x464dd8=_0x464dd8-0x120;let _0x1f5dbe=_0x51cf68[_0x464dd8];return _0x1f5dbe;},a0_0x464d(_0x399f44,_0x591ad1);}const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0xebdd61(0x12b)]=null;static [a0_0xebdd61(0x128)]=null;static ['processor']=null;static [a0_0xebdd61(0x13c)]=null;static async[a0_0xebdd61(0x12d)](_0x270a84=null){const _0x9564a9=a0_0xebdd61;return this[_0x9564a9(0x12b)]=_0x9564a9(0x120),this[_0x9564a9(0x128)]??=AutoTokenizer[_0x9564a9(0x127)](this['model_id'],{'progress_callback':_0x270a84}),this[_0x9564a9(0x123)]??=AutoProcessor['from_pretrained'](this['model_id'],{'progress_callback':_0x270a84}),this['model']??=WhisperForConditionalGeneration[_0x9564a9(0x127)](this[_0x9564a9(0x12b)],{'dtype':{'encoder_model':_0x9564a9(0x136),'decoder_model_merged':'q4'},'device':_0x9564a9(0x12e),'progress_callback':_0x270a84}),Promise[_0x9564a9(0x13b)]([this[_0x9564a9(0x128)],this[_0x9564a9(0x123)],this['model']]);}}let processing=!0x1;async function generate({audio:_0x229266,language:_0x4632a8}){const _0x2ceea6=a0_0xebdd61;if(processing)return;processing=!0x0,self['postMessage']({'status':_0x2ceea6(0x138)});const [_0x3e26a9,_0x47c66,_0x42fd6a]=await AutomaticSpeechRecognitionPipeline['getInstance']();let _0x1b5e6f,_0x5426a5=0x0;const _0x62e2c0=new TextStreamer(_0x3e26a9,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x469b6c=>{const _0x144f99=_0x2ceea6;let _0x2143ea;_0x1b5e6f??=performance['now'](),_0x5426a5++>0x0&&(_0x2143ea=_0x5426a5/(performance[_0x144f99(0x139)]()-_0x1b5e6f)*0x3e8),self[_0x144f99(0x12f)]({'status':_0x144f99(0x12c),'output':_0x469b6c,'tps':_0x2143ea,'numTokens':_0x5426a5});}}),_0x4bd09b=await _0x47c66(_0x229266),_0x948a66=await _0x42fd6a[_0x2ceea6(0x137)]({..._0x4bd09b,'max_new_tokens':0x40,'language':_0x4632a8,'streamer':_0x62e2c0}),_0x51f806=_0x3e26a9[_0x2ceea6(0x129)](_0x948a66,{'skip_special_tokens':!0x0});self['postMessage']({'status':_0x2ceea6(0x121),'output':_0x51f806}),processing=!0x1;}async function load(){const _0x3bf578=a0_0xebdd61;self[_0x3bf578(0x12f)]({'status':_0x3bf578(0x134),'data':'Loading\x20model...'});const [_0x452633,_0x4d65e2,_0x5d50ea]=await AutomaticSpeechRecognitionPipeline['getInstance'](_0x5043b4=>{self['postMessage'](_0x5043b4);});self[_0x3bf578(0x12f)]({'status':_0x3bf578(0x134),'data':_0x3bf578(0x12a)}),await _0x5d50ea[_0x3bf578(0x137)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x3bf578(0x12f)]({'status':'ready'});}self['addEventListener'](a0_0xebdd61(0x13a),async _0xbd1eb5=>{const _0x492b11=a0_0xebdd61,{type:_0x40bff1,data:_0x47fdfb}=_0xbd1eb5['data'];switch(_0x40bff1){case _0x492b11(0x131):load();break;case'generate':generate(_0x47fdfb);}});