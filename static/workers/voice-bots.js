const a0_0x2fa040=a0_0x43a9;(function(_0x5d2bef,_0x5124e8){const _0x4494f0=a0_0x43a9,_0x3a1338=_0x5d2bef();while(!![]){try{const _0x50f682=parseInt(_0x4494f0(0x102))/0x1+-parseInt(_0x4494f0(0xf6))/0x2+-parseInt(_0x4494f0(0xe7))/0x3*(-parseInt(_0x4494f0(0x104))/0x4)+parseInt(_0x4494f0(0xfc))/0x5+-parseInt(_0x4494f0(0xee))/0x6*(-parseInt(_0x4494f0(0xed))/0x7)+-parseInt(_0x4494f0(0xf8))/0x8*(-parseInt(_0x4494f0(0xf3))/0x9)+parseInt(_0x4494f0(0xfb))/0xa*(-parseInt(_0x4494f0(0x103))/0xb);if(_0x50f682===_0x5124e8)break;else _0x3a1338['push'](_0x3a1338['shift']());}catch(_0xf67f1){_0x3a1338['push'](_0x3a1338['shift']());}}}(a0_0x23f3,0x462a2));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x2fa040(0x106)]=null;static ['tokenizer']=null;static ['processor']=null;static [a0_0x2fa040(0xfd)]=null;static async[a0_0x2fa040(0xea)](_0x5df98c=null){const _0x2c0891=a0_0x2fa040;return this[_0x2c0891(0x106)]=_0x2c0891(0xff),this[_0x2c0891(0xeb)]??=AutoTokenizer['from_pretrained'](this[_0x2c0891(0x106)],{'progress_callback':_0x5df98c}),this[_0x2c0891(0xf5)]??=AutoProcessor['from_pretrained'](this[_0x2c0891(0x106)],{'progress_callback':_0x5df98c}),this[_0x2c0891(0xfd)]??=WhisperForConditionalGeneration[_0x2c0891(0xe5)](this[_0x2c0891(0x106)],{'dtype':{'encoder_model':_0x2c0891(0xfe),'decoder_model_merged':'q4'},'device':_0x2c0891(0xec),'progress_callback':_0x5df98c}),Promise[_0x2c0891(0xe9)]([this['tokenizer'],this[_0x2c0891(0xf5)],this[_0x2c0891(0xfd)]]);}}function a0_0x43a9(_0x30e863,_0x3a73a6){const _0x23f3ee=a0_0x23f3();return a0_0x43a9=function(_0x43a99b,_0x5cfb72){_0x43a99b=_0x43a99b-0xe5;let _0x2b397f=_0x23f3ee[_0x43a99b];return _0x2b397f;},a0_0x43a9(_0x30e863,_0x3a73a6);}let processing=!0x1;async function generate({audio:_0x33f129,language:_0x55bce0}){const _0x3a0d6e=a0_0x2fa040;if(processing)return;processing=!0x0,self[_0x3a0d6e(0xe8)]({'status':_0x3a0d6e(0x105)});const [_0x563955,_0x4b5d63,_0x6f4089]=await AutomaticSpeechRecognitionPipeline[_0x3a0d6e(0xea)]();let _0x59fdc6,_0x4f0e4e=0x0;const _0x4c2453=new TextStreamer(_0x563955,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x14dc85=>{const _0x2a752f=_0x3a0d6e;let _0x39ce88;_0x59fdc6??=performance[_0x2a752f(0xef)](),_0x4f0e4e++>0x0&&(_0x39ce88=_0x4f0e4e/(performance[_0x2a752f(0xef)]()-_0x59fdc6)*0x3e8),self[_0x2a752f(0xe8)]({'status':_0x2a752f(0xf2),'output':_0x14dc85,'tps':_0x39ce88,'numTokens':_0x4f0e4e});}}),_0xe63563=await _0x4b5d63(_0x33f129),_0x2e5d4b=await _0x6f4089[_0x3a0d6e(0xf4)]({..._0xe63563,'max_new_tokens':0x40,'language':_0x55bce0,'streamer':_0x4c2453}),_0x2011a2=_0x563955[_0x3a0d6e(0xf9)](_0x2e5d4b,{'skip_special_tokens':!0x0});self[_0x3a0d6e(0xe8)]({'status':'complete','output':_0x2011a2}),processing=!0x1;}async function load(){const _0x1e74b0=a0_0x2fa040;self[_0x1e74b0(0xe8)]({'status':_0x1e74b0(0x100),'data':_0x1e74b0(0xe6)});const [_0x586a94,_0x4b61bc,_0x5c5103]=await AutomaticSpeechRecognitionPipeline['getInstance'](_0x31c827=>{self['postMessage'](_0x31c827);});self[_0x1e74b0(0xe8)]({'status':_0x1e74b0(0x100),'data':_0x1e74b0(0xf7)}),await _0x5c5103[_0x1e74b0(0xf4)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x1e74b0(0xe8)]({'status':_0x1e74b0(0xf0)});}function a0_0x23f3(){const _0x241dbc=['generate','processor','180496xMxedF','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','364800RGsJQB','batch_decode','addEventListener','4536710RJzuWd','2365560kyWJHF','model','fp32','onnx-community/whisper-base','loading','load','412314PnTNVL','33gHgvPs','8UoyjDZ','start','model_id','from_pretrained','Loading\x20model...','804966BhsWnY','postMessage','all','getInstance','tokenizer','webgpu','7MCVnUJ','1625910yqsOJX','now','ready','data','update','9bVopLi'];a0_0x23f3=function(){return _0x241dbc;};return a0_0x23f3();}self[a0_0x2fa040(0xfa)]('message',async _0x1461c0=>{const _0xa9a5a5=a0_0x2fa040,{type:_0x2d04e1,data:_0x442257}=_0x1461c0[_0xa9a5a5(0xf1)];switch(_0x2d04e1){case _0xa9a5a5(0x101):load();break;case'generate':generate(_0x442257);}});