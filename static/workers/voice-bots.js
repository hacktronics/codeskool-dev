const a0_0x1b5a70=a0_0x33ce;(function(_0x1c38f1,_0x1ec1d6){const _0xa49426=a0_0x33ce,_0x5575dc=_0x1c38f1();while(!![]){try{const _0x4e5f68=parseInt(_0xa49426(0x11a))/0x1+-parseInt(_0xa49426(0x11c))/0x2+-parseInt(_0xa49426(0x11d))/0x3+-parseInt(_0xa49426(0x127))/0x4+-parseInt(_0xa49426(0x128))/0x5*(-parseInt(_0xa49426(0x122))/0x6)+parseInt(_0xa49426(0x12e))/0x7*(-parseInt(_0xa49426(0x134))/0x8)+-parseInt(_0xa49426(0x133))/0x9*(-parseInt(_0xa49426(0x12d))/0xa);if(_0x4e5f68===_0x1ec1d6)break;else _0x5575dc['push'](_0x5575dc['shift']());}catch(_0x4629a4){_0x5575dc['push'](_0x5575dc['shift']());}}}(a0_0x4995,0x7a13f));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x1b5a70(0x12b)]=null;static [a0_0x1b5a70(0x11b)]=null;static [a0_0x1b5a70(0x124)]=null;static [a0_0x1b5a70(0x130)]=null;static async[a0_0x1b5a70(0x11e)](_0x2b21a2=null){const _0x317b21=a0_0x1b5a70;return this[_0x317b21(0x12b)]=_0x317b21(0x12a),this['tokenizer']??=AutoTokenizer['from_pretrained'](this['model_id'],{'progress_callback':_0x2b21a2}),this[_0x317b21(0x124)]??=AutoProcessor[_0x317b21(0x137)](this[_0x317b21(0x12b)],{'progress_callback':_0x2b21a2}),this[_0x317b21(0x130)]??=WhisperForConditionalGeneration[_0x317b21(0x137)](this[_0x317b21(0x12b)],{'dtype':{'encoder_model':_0x317b21(0x132),'decoder_model_merged':'q4'},'device':'webgpu','progress_callback':_0x2b21a2}),Promise[_0x317b21(0x125)]([this[_0x317b21(0x11b)],this['processor'],this[_0x317b21(0x130)]]);}}let processing=!0x1;async function generate({audio:_0x4d5f84,language:_0x21a809}){const _0x3225aa=a0_0x1b5a70;if(processing)return;processing=!0x0,self[_0x3225aa(0x135)]({'status':_0x3225aa(0x126)});const [_0x424a77,_0x134236,_0x1c6975]=await AutomaticSpeechRecognitionPipeline['getInstance']();let _0x4ef209,_0x4341ed=0x0;const _0x298820=new TextStreamer(_0x424a77,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x2eb011=>{const _0x4d5328=_0x3225aa;let _0x356303;_0x4ef209??=performance[_0x4d5328(0x123)](),_0x4341ed++>0x0&&(_0x356303=_0x4341ed/(performance[_0x4d5328(0x123)]()-_0x4ef209)*0x3e8),self[_0x4d5328(0x135)]({'status':'update','output':_0x2eb011,'tps':_0x356303,'numTokens':_0x4341ed});}}),_0x4f1363=await _0x134236(_0x4d5f84),_0x45e914=await _0x1c6975['generate']({..._0x4f1363,'max_new_tokens':0x40,'language':_0x21a809,'streamer':_0x298820}),_0x4e9b5d=_0x424a77['batch_decode'](_0x45e914,{'skip_special_tokens':!0x0});self[_0x3225aa(0x135)]({'status':_0x3225aa(0x129),'output':_0x4e9b5d}),processing=!0x1;}function a0_0x4995(){const _0x11e339=['324682VgaUgR','2216061IqCThh','getInstance','Loading\x20model...','addEventListener','load','18468tYSpWF','now','processor','all','start','274444skrvww','515SQKrYX','complete','onnx-community/whisper-base','model_id','ready','10dPjbit','35WBAYCa','loading','model','generate','fp32','8542242oQJCMz','223816OGjjew','postMessage','message','from_pretrained','343383FxGsId','tokenizer'];a0_0x4995=function(){return _0x11e339;};return a0_0x4995();}async function load(){const _0x18e7ad=a0_0x1b5a70;self[_0x18e7ad(0x135)]({'status':_0x18e7ad(0x12f),'data':_0x18e7ad(0x11f)});const [_0x5306c0,_0x4b123b,_0x513d4b]=await AutomaticSpeechRecognitionPipeline[_0x18e7ad(0x11e)](_0x11dfba=>{const _0x3ed22c=_0x18e7ad;self[_0x3ed22c(0x135)](_0x11dfba);});self[_0x18e7ad(0x135)]({'status':_0x18e7ad(0x12f),'data':'Compiling\x20shaders\x20and\x20warming\x20up\x20model...'}),await _0x513d4b[_0x18e7ad(0x131)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self['postMessage']({'status':_0x18e7ad(0x12c)});}function a0_0x33ce(_0x584e10,_0x205547){const _0x49955a=a0_0x4995();return a0_0x33ce=function(_0x33ceea,_0x94c311){_0x33ceea=_0x33ceea-0x11a;let _0x4fa39e=_0x49955a[_0x33ceea];return _0x4fa39e;},a0_0x33ce(_0x584e10,_0x205547);}self[a0_0x1b5a70(0x120)](a0_0x1b5a70(0x136),async _0x154e2a=>{const _0xd818=a0_0x1b5a70,{type:_0x419cbe,data:_0x1aceb1}=_0x154e2a['data'];switch(_0x419cbe){case _0xd818(0x121):load();break;case _0xd818(0x131):generate(_0x1aceb1);}});