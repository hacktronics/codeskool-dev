const a0_0xf853d8=a0_0x1d3e;(function(_0x24639f,_0x16f416){const _0x3ff69f=a0_0x1d3e,_0x176693=_0x24639f();while(!![]){try{const _0x4208d3=-parseInt(_0x3ff69f(0x1d0))/0x1+parseInt(_0x3ff69f(0x1d2))/0x2+parseInt(_0x3ff69f(0x1db))/0x3+-parseInt(_0x3ff69f(0x1ce))/0x4*(parseInt(_0x3ff69f(0x1df))/0x5)+-parseInt(_0x3ff69f(0x1e0))/0x6+-parseInt(_0x3ff69f(0x1e5))/0x7*(-parseInt(_0x3ff69f(0x1e1))/0x8)+parseInt(_0x3ff69f(0x1e6))/0x9;if(_0x4208d3===_0x16f416)break;else _0x176693['push'](_0x176693['shift']());}catch(_0x2f1870){_0x176693['push'](_0x176693['shift']());}}}(a0_0x36f3,0x792ad));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;function a0_0x36f3(){const _0x2c6f9d=['webgpu','289630vbNhny','processor','start','update','complete','message','now','load','generate','310140hCahRt','data','loading','Loading\x20model...','4005PLsEiw','3408420TMKWJM','8SgLLgJ','ready','postMessage','from_pretrained','4798591eXLaCB','8873433EORApB','model_id','all','getInstance','fp32','addEventListener','model','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','onnx-community/whisper-base','148IfhuJl','tokenizer','825637bpOOvV'];a0_0x36f3=function(){return _0x2c6f9d;};return a0_0x36f3();}function a0_0x1d3e(_0x5c1dc0,_0x5981d7){const _0x36f32e=a0_0x36f3();return a0_0x1d3e=function(_0x1d3eb5,_0x1e5842){_0x1d3eb5=_0x1d3eb5-0x1c6;let _0x2e4131=_0x36f32e[_0x1d3eb5];return _0x2e4131;},a0_0x1d3e(_0x5c1dc0,_0x5981d7);}class AutomaticSpeechRecognitionPipeline{static [a0_0xf853d8(0x1c6)]=null;static [a0_0xf853d8(0x1cf)]=null;static ['processor']=null;static [a0_0xf853d8(0x1cb)]=null;static async[a0_0xf853d8(0x1c8)](_0xee70f1=null){const _0x27c75e=a0_0xf853d8;return this[_0x27c75e(0x1c6)]=_0x27c75e(0x1cd),this[_0x27c75e(0x1cf)]??=AutoTokenizer[_0x27c75e(0x1e4)](this[_0x27c75e(0x1c6)],{'progress_callback':_0xee70f1}),this[_0x27c75e(0x1d3)]??=AutoProcessor[_0x27c75e(0x1e4)](this[_0x27c75e(0x1c6)],{'progress_callback':_0xee70f1}),this[_0x27c75e(0x1cb)]??=WhisperForConditionalGeneration[_0x27c75e(0x1e4)](this['model_id'],{'dtype':{'encoder_model':_0x27c75e(0x1c9),'decoder_model_merged':'q4'},'device':_0x27c75e(0x1d1),'progress_callback':_0xee70f1}),Promise[_0x27c75e(0x1c7)]([this['tokenizer'],this[_0x27c75e(0x1d3)],this['model']]);}}let processing=!0x1;async function generate({audio:_0x26b7b9,language:_0x29eafa}){const _0x109c9b=a0_0xf853d8;if(processing)return;processing=!0x0,self[_0x109c9b(0x1e3)]({'status':_0x109c9b(0x1d4)});const [_0x1686ad,_0x296c69,_0x558339]=await AutomaticSpeechRecognitionPipeline[_0x109c9b(0x1c8)]();let _0x536dd7,_0x49e32d=0x0;const _0x4e31ca=new TextStreamer(_0x1686ad,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x37edf6=>{const _0x3bd05c=_0x109c9b;let _0x473a11;_0x536dd7??=performance[_0x3bd05c(0x1d8)](),_0x49e32d++>0x0&&(_0x473a11=_0x49e32d/(performance[_0x3bd05c(0x1d8)]()-_0x536dd7)*0x3e8),self[_0x3bd05c(0x1e3)]({'status':_0x3bd05c(0x1d5),'output':_0x37edf6,'tps':_0x473a11,'numTokens':_0x49e32d});}}),_0x5c3811=await _0x296c69(_0x26b7b9),_0x31bf58=await _0x558339['generate']({..._0x5c3811,'max_new_tokens':0x40,'language':_0x29eafa,'streamer':_0x4e31ca}),_0x2458e2=_0x1686ad['batch_decode'](_0x31bf58,{'skip_special_tokens':!0x0});self[_0x109c9b(0x1e3)]({'status':_0x109c9b(0x1d6),'output':_0x2458e2}),processing=!0x1;}async function load(){const _0x430bb0=a0_0xf853d8;self[_0x430bb0(0x1e3)]({'status':_0x430bb0(0x1dd),'data':_0x430bb0(0x1de)});const [_0x10076a,_0x593af3,_0x2329ed]=await AutomaticSpeechRecognitionPipeline[_0x430bb0(0x1c8)](_0x1434ed=>{const _0x1b251a=_0x430bb0;self[_0x1b251a(0x1e3)](_0x1434ed);});self['postMessage']({'status':_0x430bb0(0x1dd),'data':_0x430bb0(0x1cc)}),await _0x2329ed[_0x430bb0(0x1da)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self['postMessage']({'status':_0x430bb0(0x1e2)});}self[a0_0xf853d8(0x1ca)](a0_0xf853d8(0x1d7),async _0x5cabfa=>{const _0x1f6b6b=a0_0xf853d8,{type:_0x21f2b4,data:_0x74147e}=_0x5cabfa[_0x1f6b6b(0x1dc)];switch(_0x21f2b4){case _0x1f6b6b(0x1d9):load();break;case _0x1f6b6b(0x1da):generate(_0x74147e);}});