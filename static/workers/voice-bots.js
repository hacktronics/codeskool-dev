const a0_0x35169d=a0_0x20f5;(function(_0x209d2f,_0x3edd11){const _0xd80082=a0_0x20f5,_0x1beb84=_0x209d2f();while(!![]){try{const _0x34a696=parseInt(_0xd80082(0x1be))/0x1+parseInt(_0xd80082(0x1c8))/0x2*(parseInt(_0xd80082(0x1b2))/0x3)+parseInt(_0xd80082(0x1b3))/0x4+-parseInt(_0xd80082(0x1c4))/0x5*(parseInt(_0xd80082(0x1b0))/0x6)+parseInt(_0xd80082(0x1c9))/0x7*(parseInt(_0xd80082(0x1c1))/0x8)+parseInt(_0xd80082(0x1c7))/0x9+-parseInt(_0xd80082(0x1bb))/0xa;if(_0x34a696===_0x3edd11)break;else _0x1beb84['push'](_0x1beb84['shift']());}catch(_0x439438){_0x1beb84['push'](_0x1beb84['shift']());}}}(a0_0x335b,0x52a89));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x35169d(0x1c5)]=null;static ['tokenizer']=null;static ['processor']=null;static [a0_0x35169d(0x1af)]=null;static async[a0_0x35169d(0x1b1)](_0x1e88af=null){const _0x5f55d4=a0_0x35169d;return this[_0x5f55d4(0x1c5)]=_0x5f55d4(0x1ba),this['tokenizer']??=AutoTokenizer[_0x5f55d4(0x1c2)](this['model_id'],{'progress_callback':_0x1e88af}),this[_0x5f55d4(0x1b7)]??=AutoProcessor[_0x5f55d4(0x1c2)](this[_0x5f55d4(0x1c5)],{'progress_callback':_0x1e88af}),this[_0x5f55d4(0x1af)]??=WhisperForConditionalGeneration[_0x5f55d4(0x1c2)](this[_0x5f55d4(0x1c5)],{'dtype':{'encoder_model':_0x5f55d4(0x1b8),'decoder_model_merged':'q4'},'device':'webgpu','progress_callback':_0x1e88af}),Promise[_0x5f55d4(0x1b6)]([this['tokenizer'],this[_0x5f55d4(0x1b7)],this[_0x5f55d4(0x1af)]]);}}let processing=!0x1;function a0_0x20f5(_0x6ae109,_0x2693d8){const _0x335bf0=a0_0x335b();return a0_0x20f5=function(_0x20f542,_0x39483e){_0x20f542=_0x20f542-0x1af;let _0x250c1a=_0x335bf0[_0x20f542];return _0x250c1a;},a0_0x20f5(_0x6ae109,_0x2693d8);}function a0_0x335b(){const _0xbce207=['load','onnx-community/whisper-base','13961700mtNbGm','generate','message','362069lYFKlR','batch_decode','addEventListener','3908816dDtwCB','from_pretrained','data','731575YFBlcT','model_id','Loading\x20model...','5117184HyXyMc','664IoCLsL','7jnbuxU','postMessage','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','model','24IWMYBc','getInstance','4626nCIBMM','1555232CbSHnd','update','loading','all','processor','fp32'];a0_0x335b=function(){return _0xbce207;};return a0_0x335b();}async function generate({audio:_0x564a7f,language:_0x2813ce}){const _0xfcf5d6=a0_0x35169d;if(processing)return;processing=!0x0,self[_0xfcf5d6(0x1ca)]({'status':'start'});const [_0x1d286e,_0x5acee4,_0x46f35b]=await AutomaticSpeechRecognitionPipeline[_0xfcf5d6(0x1b1)]();let _0x1f3613,_0x42bf85=0x0;const _0x3a6e95=new TextStreamer(_0x1d286e,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x20b1c5=>{const _0xb0b0a9=_0xfcf5d6;let _0x104fac;_0x1f3613??=performance['now'](),_0x42bf85++>0x0&&(_0x104fac=_0x42bf85/(performance['now']()-_0x1f3613)*0x3e8),self['postMessage']({'status':_0xb0b0a9(0x1b4),'output':_0x20b1c5,'tps':_0x104fac,'numTokens':_0x42bf85});}}),_0x5ad6ee=await _0x5acee4(_0x564a7f),_0x3709d4=await _0x46f35b[_0xfcf5d6(0x1bc)]({..._0x5ad6ee,'max_new_tokens':0x40,'language':_0x2813ce,'streamer':_0x3a6e95}),_0x42e253=_0x1d286e[_0xfcf5d6(0x1bf)](_0x3709d4,{'skip_special_tokens':!0x0});self[_0xfcf5d6(0x1ca)]({'status':'complete','output':_0x42e253}),processing=!0x1;}async function load(){const _0x1c7974=a0_0x35169d;self[_0x1c7974(0x1ca)]({'status':_0x1c7974(0x1b5),'data':_0x1c7974(0x1c6)});const [_0x2b15f9,_0x548eb4,_0x4c6377]=await AutomaticSpeechRecognitionPipeline['getInstance'](_0x222e25=>{const _0x3a3a11=_0x1c7974;self[_0x3a3a11(0x1ca)](_0x222e25);});self[_0x1c7974(0x1ca)]({'status':_0x1c7974(0x1b5),'data':_0x1c7974(0x1cb)}),await _0x4c6377['generate']({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x1c7974(0x1ca)]({'status':'ready'});}self[a0_0x35169d(0x1c0)](a0_0x35169d(0x1bd),async _0x406c01=>{const _0x5c425e=a0_0x35169d,{type:_0x5457e3,data:_0x1d8aa8}=_0x406c01[_0x5c425e(0x1c3)];switch(_0x5457e3){case _0x5c425e(0x1b9):load();break;case _0x5c425e(0x1bc):generate(_0x1d8aa8);}});