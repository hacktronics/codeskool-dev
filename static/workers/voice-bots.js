const a0_0x2b6c33=a0_0x3f99;(function(_0x555399,_0x29520c){const _0x53c2c0=a0_0x3f99,_0x2ad4cb=_0x555399();while(!![]){try{const _0x166a31=parseInt(_0x53c2c0(0x1d1))/0x1+-parseInt(_0x53c2c0(0x1cf))/0x2*(-parseInt(_0x53c2c0(0x1bb))/0x3)+parseInt(_0x53c2c0(0x1d5))/0x4*(-parseInt(_0x53c2c0(0x1bc))/0x5)+-parseInt(_0x53c2c0(0x1c6))/0x6*(parseInt(_0x53c2c0(0x1c8))/0x7)+parseInt(_0x53c2c0(0x1cd))/0x8*(parseInt(_0x53c2c0(0x1d9))/0x9)+parseInt(_0x53c2c0(0x1c3))/0xa+parseInt(_0x53c2c0(0x1da))/0xb*(-parseInt(_0x53c2c0(0x1c2))/0xc);if(_0x166a31===_0x29520c)break;else _0x2ad4cb['push'](_0x2ad4cb['shift']());}catch(_0x327e9c){_0x2ad4cb['push'](_0x2ad4cb['shift']());}}}(a0_0x2958,0xdefc7));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x2b6c33(0x1d8)]=null;static ['tokenizer']=null;static [a0_0x2b6c33(0x1bd)]=null;static [a0_0x2b6c33(0x1d0)]=null;static async[a0_0x2b6c33(0x1cb)](_0x263e6a=null){const _0x20e9d6=a0_0x2b6c33;return this[_0x20e9d6(0x1d8)]=_0x20e9d6(0x1ca),this[_0x20e9d6(0x1d7)]??=AutoTokenizer[_0x20e9d6(0x1c4)](this[_0x20e9d6(0x1d8)],{'progress_callback':_0x263e6a}),this['processor']??=AutoProcessor[_0x20e9d6(0x1c4)](this['model_id'],{'progress_callback':_0x263e6a}),this[_0x20e9d6(0x1d0)]??=WhisperForConditionalGeneration[_0x20e9d6(0x1c4)](this['model_id'],{'dtype':{'encoder_model':_0x20e9d6(0x1b9),'decoder_model_merged':'q4'},'device':_0x20e9d6(0x1b8),'progress_callback':_0x263e6a}),Promise[_0x20e9d6(0x1d6)]([this[_0x20e9d6(0x1d7)],this[_0x20e9d6(0x1bd)],this[_0x20e9d6(0x1d0)]]);}}let processing=!0x1;async function generate({audio:_0x52e4fa,language:_0x2ef13b}){const _0x4a3fc6=a0_0x2b6c33;if(processing)return;processing=!0x0,self['postMessage']({'status':_0x4a3fc6(0x1c1)});const [_0xccc7b7,_0x34d1d3,_0x1273db]=await AutomaticSpeechRecognitionPipeline[_0x4a3fc6(0x1cb)]();let _0x5ae272,_0x11446c=0x0;const _0x47f13d=new TextStreamer(_0xccc7b7,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0xbf79e9=>{const _0x583990=_0x4a3fc6;let _0x54ed04;_0x5ae272??=performance[_0x583990(0x1c9)](),_0x11446c++>0x0&&(_0x54ed04=_0x11446c/(performance[_0x583990(0x1c9)]()-_0x5ae272)*0x3e8),self[_0x583990(0x1d4)]({'status':'update','output':_0xbf79e9,'tps':_0x54ed04,'numTokens':_0x11446c});}}),_0x36515=await _0x34d1d3(_0x52e4fa),_0x3d8edb=await _0x1273db[_0x4a3fc6(0x1c5)]({..._0x36515,'max_new_tokens':0x40,'language':_0x2ef13b,'streamer':_0x47f13d}),_0x37ac99=_0xccc7b7[_0x4a3fc6(0x1cc)](_0x3d8edb,{'skip_special_tokens':!0x0});self[_0x4a3fc6(0x1d4)]({'status':_0x4a3fc6(0x1d3),'output':_0x37ac99}),processing=!0x1;}async function load(){const _0x40e944=a0_0x2b6c33;self[_0x40e944(0x1d4)]({'status':_0x40e944(0x1c0),'data':_0x40e944(0x1c7)});const [_0x5d5902,_0x3ee6d9,_0x4db0e9]=await AutomaticSpeechRecognitionPipeline[_0x40e944(0x1cb)](_0x11b14f=>{const _0x22661f=_0x40e944;self[_0x22661f(0x1d4)](_0x11b14f);});self['postMessage']({'status':_0x40e944(0x1c0),'data':_0x40e944(0x1ce)}),await _0x4db0e9[_0x40e944(0x1c5)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x40e944(0x1d4)]({'status':_0x40e944(0x1b7)});}function a0_0x3f99(_0x3c3bd0,_0x540d6c){const _0x2958bb=a0_0x2958();return a0_0x3f99=function(_0x3f99b2,_0x14eb81){_0x3f99b2=_0x3f99b2-0x1b7;let _0xa3784f=_0x2958bb[_0x3f99b2];return _0xa3784f;},a0_0x3f99(_0x3c3bd0,_0x540d6c);}self[a0_0x2b6c33(0x1bf)](a0_0x2b6c33(0x1be),async _0x51ceeb=>{const _0x312770=a0_0x2b6c33,{type:_0x544d5d,data:_0x759112}=_0x51ceeb[_0x312770(0x1ba)];switch(_0x544d5d){case _0x312770(0x1d2):load();break;case _0x312770(0x1c5):generate(_0x759112);}});function a0_0x2958(){const _0x317aad=['complete','postMessage','284EJsZRa','all','tokenizer','model_id','54fVInES','44NkMURJ','ready','webgpu','fp32','data','146859ODIaTj','69990ZCBNWN','processor','message','addEventListener','loading','start','1116732FFmIDE','2190600ePKPUj','from_pretrained','generate','491676rusGui','Loading\x20model...','133qVzkPU','now','onnx-community/whisper-base','getInstance','batch_decode','1687936ELJdZp','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','44KUzwKb','model','1274449XgRTmV','load'];a0_0x2958=function(){return _0x317aad;};return a0_0x2958();}