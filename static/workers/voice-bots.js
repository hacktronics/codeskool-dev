const a0_0x4c0ba8=a0_0x1a72;(function(_0x12e09f,_0x116479){const _0x164b91=a0_0x1a72,_0x19e3c8=_0x12e09f();while(!![]){try{const _0x45c807=-parseInt(_0x164b91(0x75))/0x1+parseInt(_0x164b91(0x6f))/0x2*(-parseInt(_0x164b91(0x85))/0x3)+parseInt(_0x164b91(0x79))/0x4+parseInt(_0x164b91(0x83))/0x5*(-parseInt(_0x164b91(0x7a))/0x6)+parseInt(_0x164b91(0x74))/0x7*(-parseInt(_0x164b91(0x77))/0x8)+-parseInt(_0x164b91(0x72))/0x9+parseInt(_0x164b91(0x80))/0xa;if(_0x45c807===_0x116479)break;else _0x19e3c8['push'](_0x19e3c8['shift']());}catch(_0x575296){_0x19e3c8['push'](_0x19e3c8['shift']());}}}(a0_0x1103,0x926e3));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x4c0ba8(0x84)]=null;static ['tokenizer']=null;static [a0_0x4c0ba8(0x6d)]=null;static ['model']=null;static async[a0_0x4c0ba8(0x87)](_0x71ab41=null){const _0x5c3754=a0_0x4c0ba8;return this['model_id']=_0x5c3754(0x7d),this[_0x5c3754(0x6c)]??=AutoTokenizer[_0x5c3754(0x78)](this[_0x5c3754(0x84)],{'progress_callback':_0x71ab41}),this[_0x5c3754(0x6d)]??=AutoProcessor[_0x5c3754(0x78)](this['model_id'],{'progress_callback':_0x71ab41}),this['model']??=WhisperForConditionalGeneration[_0x5c3754(0x78)](this[_0x5c3754(0x84)],{'dtype':{'encoder_model':_0x5c3754(0x8a),'decoder_model_merged':'q4'},'device':_0x5c3754(0x6b),'progress_callback':_0x71ab41}),Promise[_0x5c3754(0x89)]([this[_0x5c3754(0x6c)],this[_0x5c3754(0x6d)],this[_0x5c3754(0x81)]]);}}let processing=!0x1;function a0_0x1a72(_0x2a2084,_0x53314e){const _0x110366=a0_0x1103();return a0_0x1a72=function(_0x1a7226,_0x445702){_0x1a7226=_0x1a7226-0x6b;let _0x3f04fd=_0x110366[_0x1a7226];return _0x3f04fd;},a0_0x1a72(_0x2a2084,_0x53314e);}async function generate({audio:_0x11165d,language:_0x58ecae}){const _0x31b464=a0_0x4c0ba8;if(processing)return;processing=!0x0,self['postMessage']({'status':_0x31b464(0x7e)});const [_0x1f60a7,_0x2c1ac4,_0x4ce738]=await AutomaticSpeechRecognitionPipeline[_0x31b464(0x87)]();let _0xbf3ab5,_0x1aa4fb=0x0;const _0x6c1a5a=new TextStreamer(_0x1f60a7,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x5b5a53=>{const _0x3602bc=_0x31b464;let _0x4f27e8;_0xbf3ab5??=performance['now'](),_0x1aa4fb++>0x0&&(_0x4f27e8=_0x1aa4fb/(performance[_0x3602bc(0x82)]()-_0xbf3ab5)*0x3e8),self[_0x3602bc(0x86)]({'status':_0x3602bc(0x6e),'output':_0x5b5a53,'tps':_0x4f27e8,'numTokens':_0x1aa4fb});}}),_0x31eb62=await _0x2c1ac4(_0x11165d),_0x2cf2f2=await _0x4ce738[_0x31b464(0x7f)]({..._0x31eb62,'max_new_tokens':0x40,'language':_0x58ecae,'streamer':_0x6c1a5a}),_0x478d92=_0x1f60a7['batch_decode'](_0x2cf2f2,{'skip_special_tokens':!0x0});self[_0x31b464(0x86)]({'status':_0x31b464(0x88),'output':_0x478d92}),processing=!0x1;}async function load(){const _0x2d81de=a0_0x4c0ba8;self['postMessage']({'status':'loading','data':_0x2d81de(0x71)});const [_0x343a29,_0x492119,_0x1ce5c7]=await AutomaticSpeechRecognitionPipeline[_0x2d81de(0x87)](_0xe62320=>{const _0x465830=_0x2d81de;self[_0x465830(0x86)](_0xe62320);});self['postMessage']({'status':'loading','data':'Compiling\x20shaders\x20and\x20warming\x20up\x20model...'}),await _0x1ce5c7[_0x2d81de(0x7f)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x2d81de(0x86)]({'status':_0x2d81de(0x7c)});}self[a0_0x4c0ba8(0x76)](a0_0x4c0ba8(0x73),async _0x3d9084=>{const _0x470f8c=a0_0x4c0ba8,{type:_0x390bd4,data:_0x1a9876}=_0x3d9084[_0x470f8c(0x70)];switch(_0x390bd4){case _0x470f8c(0x7b):load();break;case _0x470f8c(0x7f):generate(_0x1a9876);}});function a0_0x1103(){const _0x379475=['2wXTWew','data','Loading\x20model...','10397592aQMSCI','message','1519HEOcSJ','527610wYDpOK','addEventListener','6400vpYoqv','from_pretrained','3807576yfajxh','36jwghuA','load','ready','onnx-community/whisper-base','start','generate','37323740NqePuP','model','now','898735prfaZO','model_id','3448527nMUxvY','postMessage','getInstance','complete','all','fp32','webgpu','tokenizer','processor','update'];a0_0x1103=function(){return _0x379475;};return a0_0x1103();}