const a0_0x5c8312=a0_0x5d3e;(function(_0x248cec,_0x1b0e1a){const _0x49162e=a0_0x5d3e,_0x1c953b=_0x248cec();while(!![]){try{const _0x503b91=-parseInt(_0x49162e(0x9c))/0x1*(-parseInt(_0x49162e(0x8a))/0x2)+-parseInt(_0x49162e(0x96))/0x3*(parseInt(_0x49162e(0x9a))/0x4)+parseInt(_0x49162e(0xac))/0x5*(parseInt(_0x49162e(0x8c))/0x6)+parseInt(_0x49162e(0x8e))/0x7*(-parseInt(_0x49162e(0x90))/0x8)+parseInt(_0x49162e(0x89))/0x9+parseInt(_0x49162e(0x98))/0xa+-parseInt(_0x49162e(0x9b))/0xb;if(_0x503b91===_0x1b0e1a)break;else _0x1c953b['push'](_0x1c953b['shift']());}catch(_0x1d1a98){_0x1c953b['push'](_0x1c953b['shift']());}}}(a0_0x277a,0xbfb5b));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;function a0_0x5d3e(_0x5cf178,_0x4badc3){const _0x277ae6=a0_0x277a();return a0_0x5d3e=function(_0x5d3e50,_0x7b648a){_0x5d3e50=_0x5d3e50-0x89;let _0x113a89=_0x277ae6[_0x5d3e50];return _0x113a89;},a0_0x5d3e(_0x5cf178,_0x4badc3);}class AutomaticSpeechRecognitionPipeline{static [a0_0x5c8312(0xa7)]=null;static [a0_0x5c8312(0xa1)]=null;static [a0_0x5c8312(0x95)]=null;static [a0_0x5c8312(0x92)]=null;static async[a0_0x5c8312(0xa9)](_0x2f21ce=null){const _0x5996e6=a0_0x5c8312;return this[_0x5996e6(0xa7)]=_0x5996e6(0xaa),this[_0x5996e6(0xa1)]??=AutoTokenizer['from_pretrained'](this[_0x5996e6(0xa7)],{'progress_callback':_0x2f21ce}),this[_0x5996e6(0x95)]??=AutoProcessor[_0x5996e6(0x97)](this[_0x5996e6(0xa7)],{'progress_callback':_0x2f21ce}),this['model']??=WhisperForConditionalGeneration[_0x5996e6(0x97)](this[_0x5996e6(0xa7)],{'dtype':{'encoder_model':_0x5996e6(0x8d),'decoder_model_merged':'q4'},'device':_0x5996e6(0x93),'progress_callback':_0x2f21ce}),Promise[_0x5996e6(0xa3)]([this['tokenizer'],this['processor'],this[_0x5996e6(0x92)]]);}}let processing=!0x1;async function generate({audio:_0x522379,language:_0x1670f2}){const _0xca77fd=a0_0x5c8312;if(processing)return;processing=!0x0,self[_0xca77fd(0xa5)]({'status':_0xca77fd(0xa4)});const [_0x20841c,_0x8720e2,_0xcee347]=await AutomaticSpeechRecognitionPipeline[_0xca77fd(0xa9)]();let _0x5342e0,_0x609ac6=0x0;const _0x5e41ad=new TextStreamer(_0x20841c,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x49f186=>{const _0x3c9d5d=_0xca77fd;let _0x3045a7;_0x5342e0??=performance[_0x3c9d5d(0xa6)](),_0x609ac6++>0x0&&(_0x3045a7=_0x609ac6/(performance[_0x3c9d5d(0xa6)]()-_0x5342e0)*0x3e8),self[_0x3c9d5d(0xa5)]({'status':_0x3c9d5d(0xab),'output':_0x49f186,'tps':_0x3045a7,'numTokens':_0x609ac6});}}),_0x309129=await _0x8720e2(_0x522379),_0x5608c4=await _0xcee347[_0xca77fd(0xa8)]({..._0x309129,'max_new_tokens':0x40,'language':_0x1670f2,'streamer':_0x5e41ad}),_0x59d788=_0x20841c[_0xca77fd(0x9f)](_0x5608c4,{'skip_special_tokens':!0x0});self[_0xca77fd(0xa5)]({'status':_0xca77fd(0x91),'output':_0x59d788}),processing=!0x1;}async function load(){const _0xe4f010=a0_0x5c8312;self[_0xe4f010(0xa5)]({'status':_0xe4f010(0x8f),'data':_0xe4f010(0x94)});const [_0x151efe,_0x15cea2,_0x367cf0]=await AutomaticSpeechRecognitionPipeline[_0xe4f010(0xa9)](_0x587aef=>{self['postMessage'](_0x587aef);});self[_0xe4f010(0xa5)]({'status':_0xe4f010(0x8f),'data':_0xe4f010(0xa2)}),await _0x367cf0[_0xe4f010(0xa8)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0xe4f010(0xa5)]({'status':_0xe4f010(0xa0)});}function a0_0x277a(){const _0x1a55b8=['message','batch_decode','ready','tokenizer','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','all','start','postMessage','now','model_id','generate','getInstance','onnx-community/whisper-base','update','1240lDsTxl','832419NapVcS','1691056VGLxNq','addEventListener','15576rUgilM','fp32','1847293VOJBCz','loading','8ZbUBBY','complete','model','webgpu','Loading\x20model...','processor','3qolUmc','from_pretrained','8059900MpPvVX','load','5338596zSZOoR','44286cBsiPk','1irKyZb','data'];a0_0x277a=function(){return _0x1a55b8;};return a0_0x277a();}self[a0_0x5c8312(0x8b)](a0_0x5c8312(0x9e),async _0x25470c=>{const _0x261f75=a0_0x5c8312,{type:_0x52275c,data:_0x5bdf17}=_0x25470c[_0x261f75(0x9d)];switch(_0x52275c){case _0x261f75(0x99):load();break;case _0x261f75(0xa8):generate(_0x5bdf17);}});