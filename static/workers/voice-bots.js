function a0_0x1333(){const _0x4c78ce=['tokenizer','model','addEventListener','update','load','getInstance','now','3462462NTRnLH','fp32','2888090XhPaRF','642377FsLRVg','postMessage','processor','from_pretrained','32OAqptP','start','complete','model_id','generate','620600uxegql','loading','onnx-community/whisper-base','72lhEQyx','618114iJtMBQ','10xowyHu','905988ACLVkS','Loading\x20model...','102315OgWzQW'];a0_0x1333=function(){return _0x4c78ce;};return a0_0x1333();}const a0_0x22fbfc=a0_0x4791;(function(_0x405da6,_0x36756b){const _0x20228c=a0_0x4791,_0x246a54=_0x405da6();while(!![]){try{const _0x57d000=parseInt(_0x20228c(0x1f6))/0x1+-parseInt(_0x20228c(0x1e9))/0x2+parseInt(_0x20228c(0x1eb))/0x3*(parseInt(_0x20228c(0x1fa))/0x4)+-parseInt(_0x20228c(0x1f5))/0x5+parseInt(_0x20228c(0x1e6))/0x6*(parseInt(_0x20228c(0x1e7))/0x7)+parseInt(_0x20228c(0x1e3))/0x8+-parseInt(_0x20228c(0x1f3))/0x9*(parseInt(_0x20228c(0x1e8))/0xa);if(_0x57d000===_0x36756b)break;else _0x246a54['push'](_0x246a54['shift']());}catch(_0x33497c){_0x246a54['push'](_0x246a54['shift']());}}}(a0_0x1333,0x9b89e));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x22fbfc(0x1fd)]=null;static [a0_0x22fbfc(0x1ec)]=null;static [a0_0x22fbfc(0x1f8)]=null;static [a0_0x22fbfc(0x1ed)]=null;static async[a0_0x22fbfc(0x1f1)](_0x33440d=null){const _0x27425b=a0_0x22fbfc;return this[_0x27425b(0x1fd)]=_0x27425b(0x1e5),this[_0x27425b(0x1ec)]??=AutoTokenizer['from_pretrained'](this[_0x27425b(0x1fd)],{'progress_callback':_0x33440d}),this[_0x27425b(0x1f8)]??=AutoProcessor[_0x27425b(0x1f9)](this[_0x27425b(0x1fd)],{'progress_callback':_0x33440d}),this[_0x27425b(0x1ed)]??=WhisperForConditionalGeneration[_0x27425b(0x1f9)](this['model_id'],{'dtype':{'encoder_model':_0x27425b(0x1f4),'decoder_model_merged':'q4'},'device':'webgpu','progress_callback':_0x33440d}),Promise['all']([this[_0x27425b(0x1ec)],this[_0x27425b(0x1f8)],this[_0x27425b(0x1ed)]]);}}function a0_0x4791(_0x18c053,_0x26a777){const _0x133320=a0_0x1333();return a0_0x4791=function(_0x479157,_0x29c761){_0x479157=_0x479157-0x1e3;let _0x2097bc=_0x133320[_0x479157];return _0x2097bc;},a0_0x4791(_0x18c053,_0x26a777);}let processing=!0x1;async function generate({audio:_0xd0b419,language:_0x19d3fa}){const _0x3aadb1=a0_0x22fbfc;if(processing)return;processing=!0x0,self[_0x3aadb1(0x1f7)]({'status':_0x3aadb1(0x1fb)});const [_0x26bd3a,_0x42f03f,_0xafa742]=await AutomaticSpeechRecognitionPipeline[_0x3aadb1(0x1f1)]();let _0x1a7cee,_0x32478f=0x0;const _0x2e31a4=new TextStreamer(_0x26bd3a,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x74d9af=>{const _0x758239=_0x3aadb1;let _0x20a476;_0x1a7cee??=performance[_0x758239(0x1f2)](),_0x32478f++>0x0&&(_0x20a476=_0x32478f/(performance[_0x758239(0x1f2)]()-_0x1a7cee)*0x3e8),self[_0x758239(0x1f7)]({'status':_0x758239(0x1ef),'output':_0x74d9af,'tps':_0x20a476,'numTokens':_0x32478f});}}),_0x2c0fa2=await _0x42f03f(_0xd0b419),_0x24451e=await _0xafa742[_0x3aadb1(0x1fe)]({..._0x2c0fa2,'max_new_tokens':0x40,'language':_0x19d3fa,'streamer':_0x2e31a4}),_0x2d8a4e=_0x26bd3a['batch_decode'](_0x24451e,{'skip_special_tokens':!0x0});self[_0x3aadb1(0x1f7)]({'status':_0x3aadb1(0x1fc),'output':_0x2d8a4e}),processing=!0x1;}async function load(){const _0xe10048=a0_0x22fbfc;self[_0xe10048(0x1f7)]({'status':'loading','data':_0xe10048(0x1ea)});const [_0x557024,_0x3fd90f,_0x2838bd]=await AutomaticSpeechRecognitionPipeline[_0xe10048(0x1f1)](_0x5978ff=>{const _0x4aa914=_0xe10048;self[_0x4aa914(0x1f7)](_0x5978ff);});self[_0xe10048(0x1f7)]({'status':_0xe10048(0x1e4),'data':'Compiling\x20shaders\x20and\x20warming\x20up\x20model...'}),await _0x2838bd[_0xe10048(0x1fe)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0xe10048(0x1f7)]({'status':'ready'});}self[a0_0x22fbfc(0x1ee)]('message',async _0x18b127=>{const _0x490782=a0_0x22fbfc,{type:_0x4e6dc8,data:_0x378217}=_0x18b127['data'];switch(_0x4e6dc8){case _0x490782(0x1f0):load();break;case _0x490782(0x1fe):generate(_0x378217);}});