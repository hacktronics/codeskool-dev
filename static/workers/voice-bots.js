function a0_0x274e(_0xff84e2,_0x11c75d){const _0x1e9ba9=a0_0x1e9b();return a0_0x274e=function(_0x274ee3,_0x38e0d4){_0x274ee3=_0x274ee3-0x95;let _0x523cf1=_0x1e9ba9[_0x274ee3];return _0x523cf1;},a0_0x274e(_0xff84e2,_0x11c75d);}const a0_0x1153d0=a0_0x274e;(function(_0xf7b379,_0xf7c226){const _0x222897=a0_0x274e,_0x1be73f=_0xf7b379();while(!![]){try{const _0x30e63d=parseInt(_0x222897(0xa5))/0x1+-parseInt(_0x222897(0xb1))/0x2*(-parseInt(_0x222897(0x96))/0x3)+-parseInt(_0x222897(0x9c))/0x4*(-parseInt(_0x222897(0xa9))/0x5)+parseInt(_0x222897(0x9d))/0x6*(parseInt(_0x222897(0x9a))/0x7)+-parseInt(_0x222897(0x95))/0x8+-parseInt(_0x222897(0x97))/0x9*(parseInt(_0x222897(0x9f))/0xa)+-parseInt(_0x222897(0xa2))/0xb;if(_0x30e63d===_0xf7c226)break;else _0x1be73f['push'](_0x1be73f['shift']());}catch(_0x290aca){_0x1be73f['push'](_0x1be73f['shift']());}}}(a0_0x1e9b,0xe2aa4));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x1153d0(0xab)]=null;static ['tokenizer']=null;static [a0_0x1153d0(0x9b)]=null;static [a0_0x1153d0(0xa6)]=null;static async['getInstance'](_0x5b63ea=null){const _0x4546e5=a0_0x1153d0;return this[_0x4546e5(0xab)]='onnx-community/whisper-base',this['tokenizer']??=AutoTokenizer[_0x4546e5(0xad)](this[_0x4546e5(0xab)],{'progress_callback':_0x5b63ea}),this[_0x4546e5(0x9b)]??=AutoProcessor[_0x4546e5(0xad)](this[_0x4546e5(0xab)],{'progress_callback':_0x5b63ea}),this[_0x4546e5(0xa6)]??=WhisperForConditionalGeneration[_0x4546e5(0xad)](this[_0x4546e5(0xab)],{'dtype':{'encoder_model':'fp32','decoder_model_merged':'q4'},'device':_0x4546e5(0xb3),'progress_callback':_0x5b63ea}),Promise[_0x4546e5(0xa8)]([this[_0x4546e5(0xa4)],this[_0x4546e5(0x9b)],this[_0x4546e5(0xa6)]]);}}function a0_0x1e9b(){const _0x333077=['now','89406dPRJAl','ready','webgpu','3625656TTqfaX','105kvXLgL','361926NMGadX','start','update','14ofPotN','processor','38856BnvbtH','3399288VTvYtP','complete','80nCcbas','generate','addEventListener','30605586TCvzVB','Loading\x20model...','tokenizer','58872dNAXZI','model','load','all','890IdTZjq','postMessage','model_id','loading','from_pretrained','getInstance','data'];a0_0x1e9b=function(){return _0x333077;};return a0_0x1e9b();}let processing=!0x1;async function generate({audio:_0x2d9386,language:_0x2948e8}){const _0x1d7558=a0_0x1153d0;if(processing)return;processing=!0x0,self[_0x1d7558(0xaa)]({'status':_0x1d7558(0x98)});const [_0x35c437,_0x3e1d31,_0x3e29ef]=await AutomaticSpeechRecognitionPipeline[_0x1d7558(0xae)]();let _0x1373c1,_0x5a67b7=0x0;const _0x1c617e=new TextStreamer(_0x35c437,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x437963=>{const _0x348c94=_0x1d7558;let _0x4278a4;_0x1373c1??=performance[_0x348c94(0xb0)](),_0x5a67b7++>0x0&&(_0x4278a4=_0x5a67b7/(performance[_0x348c94(0xb0)]()-_0x1373c1)*0x3e8),self['postMessage']({'status':_0x348c94(0x99),'output':_0x437963,'tps':_0x4278a4,'numTokens':_0x5a67b7});}}),_0x344cd4=await _0x3e1d31(_0x2d9386),_0xf7df96=await _0x3e29ef['generate']({..._0x344cd4,'max_new_tokens':0x40,'language':_0x2948e8,'streamer':_0x1c617e}),_0x2d6e1e=_0x35c437['batch_decode'](_0xf7df96,{'skip_special_tokens':!0x0});self[_0x1d7558(0xaa)]({'status':_0x1d7558(0x9e),'output':_0x2d6e1e}),processing=!0x1;}async function load(){const _0x1e5ced=a0_0x1153d0;self['postMessage']({'status':'loading','data':_0x1e5ced(0xa3)});const [_0xa05e2b,_0x1ede83,_0x4dff72]=await AutomaticSpeechRecognitionPipeline[_0x1e5ced(0xae)](_0x1d868d=>{self['postMessage'](_0x1d868d);});self[_0x1e5ced(0xaa)]({'status':_0x1e5ced(0xac),'data':'Compiling\x20shaders\x20and\x20warming\x20up\x20model...'}),await _0x4dff72[_0x1e5ced(0xa0)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x1e5ced(0xaa)]({'status':_0x1e5ced(0xb2)});}self[a0_0x1153d0(0xa1)]('message',async _0x29feb0=>{const _0x580f36=a0_0x1153d0,{type:_0x44313e,data:_0x4a63c7}=_0x29feb0[_0x580f36(0xaf)];switch(_0x44313e){case _0x580f36(0xa7):load();break;case'generate':generate(_0x4a63c7);}});