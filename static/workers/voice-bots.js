const a0_0x2841d6=a0_0x543c;(function(_0x5ce9e6,_0x1e1903){const _0x367953=a0_0x543c,_0x452da=_0x5ce9e6();while(!![]){try{const _0x4bfb66=-parseInt(_0x367953(0x1c3))/0x1+-parseInt(_0x367953(0x1da))/0x2+-parseInt(_0x367953(0x1c8))/0x3+-parseInt(_0x367953(0x1d8))/0x4*(-parseInt(_0x367953(0x1c4))/0x5)+parseInt(_0x367953(0x1d0))/0x6+parseInt(_0x367953(0x1ce))/0x7*(parseInt(_0x367953(0x1dc))/0x8)+-parseInt(_0x367953(0x1d1))/0x9;if(_0x4bfb66===_0x1e1903)break;else _0x452da['push'](_0x452da['shift']());}catch(_0x5e0839){_0x452da['push'](_0x452da['shift']());}}}(a0_0x3d51,0x43df2));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.3.3/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x2841d6(0x1cc)]=null;static [a0_0x2841d6(0x1ca)]=null;static [a0_0x2841d6(0x1d4)]=null;static [a0_0x2841d6(0x1df)]=null;static async[a0_0x2841d6(0x1c5)](_0x181e85=null){const _0x52ea39=a0_0x2841d6;return this['model_id']=_0x52ea39(0x1c9),this[_0x52ea39(0x1ca)]??=AutoTokenizer[_0x52ea39(0x1d7)](this[_0x52ea39(0x1cc)],{'progress_callback':_0x181e85}),this[_0x52ea39(0x1d4)]??=AutoProcessor[_0x52ea39(0x1d7)](this[_0x52ea39(0x1cc)],{'progress_callback':_0x181e85}),this[_0x52ea39(0x1df)]??=WhisperForConditionalGeneration[_0x52ea39(0x1d7)](this['model_id'],{'dtype':{'encoder_model':_0x52ea39(0x1db),'decoder_model_merged':'q4'},'device':_0x52ea39(0x1d3),'progress_callback':_0x181e85}),Promise[_0x52ea39(0x1c6)]([this[_0x52ea39(0x1ca)],this[_0x52ea39(0x1d4)],this[_0x52ea39(0x1df)]]);}}let processing=!0x1;async function generate({audio:_0x3fd774,language:_0x532300}){const _0x135e20=a0_0x2841d6;if(processing)return;processing=!0x0,self[_0x135e20(0x1dd)]({'status':'start'});const [_0x101b95,_0x280d88,_0xc88a56]=await AutomaticSpeechRecognitionPipeline[_0x135e20(0x1c5)]();let _0x1eb79d,_0x2b61c0=0x0;const _0x509cea=new TextStreamer(_0x101b95,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x269fea=>{const _0x458266=_0x135e20;let _0x3bf487;_0x1eb79d??=performance[_0x458266(0x1cf)](),_0x2b61c0++>0x0&&(_0x3bf487=_0x2b61c0/(performance[_0x458266(0x1cf)]()-_0x1eb79d)*0x3e8),self[_0x458266(0x1dd)]({'status':'update','output':_0x269fea,'tps':_0x3bf487,'numTokens':_0x2b61c0});}}),_0x1aa68b=await _0x280d88(_0x3fd774),_0x10ce27=await _0xc88a56[_0x135e20(0x1e1)]({..._0x1aa68b,'max_new_tokens':0x40,'language':_0x532300,'streamer':_0x509cea}),_0x31b28c=_0x101b95[_0x135e20(0x1cd)](_0x10ce27,{'skip_special_tokens':!0x0});self[_0x135e20(0x1dd)]({'status':_0x135e20(0x1d5),'output':_0x31b28c}),processing=!0x1;}async function load(){const _0x3b3e38=a0_0x2841d6;self[_0x3b3e38(0x1dd)]({'status':_0x3b3e38(0x1de),'data':_0x3b3e38(0x1d2)});const [_0x1bd703,_0x291462,_0x44b9d1]=await AutomaticSpeechRecognitionPipeline['getInstance'](_0x1a25d6=>{const _0x5b7782=_0x3b3e38;self[_0x5b7782(0x1dd)](_0x1a25d6);});self[_0x3b3e38(0x1dd)]({'status':'loading','data':'Compiling\x20shaders\x20and\x20warming\x20up\x20model...'}),await _0x44b9d1['generate']({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x3b3e38(0x1dd)]({'status':_0x3b3e38(0x1e0)});}function a0_0x3d51(){const _0x4147d2=['all','data','402954dgYmAa','onnx-community/whisper-base','tokenizer','message','model_id','batch_decode','62734NnWbvf','now','2464842jSTSBG','207666GTJNcg','Loading\x20model...','webgpu','processor','complete','addEventListener','from_pretrained','217720PKEMgf','load','350998SyseRO','fp32','96zWhplx','postMessage','loading','model','ready','generate','125178viqNEJ','20APAmnm','getInstance'];a0_0x3d51=function(){return _0x4147d2;};return a0_0x3d51();}function a0_0x543c(_0x1651c4,_0x40b136){const _0x3d518b=a0_0x3d51();return a0_0x543c=function(_0x543c7f,_0xc98172){_0x543c7f=_0x543c7f-0x1c3;let _0x3fc79b=_0x3d518b[_0x543c7f];return _0x3fc79b;},a0_0x543c(_0x1651c4,_0x40b136);}self[a0_0x2841d6(0x1d6)](a0_0x2841d6(0x1cb),async _0x3402a1=>{const _0x4c1b7d=a0_0x2841d6,{type:_0x112eae,data:_0x48b49f}=_0x3402a1[_0x4c1b7d(0x1c7)];switch(_0x112eae){case _0x4c1b7d(0x1d9):load();break;case _0x4c1b7d(0x1e1):generate(_0x48b49f);}});