const a0_0x94cae7=a0_0x3805;(function(_0x55fac1,_0x35193e){const _0x2b23df=a0_0x3805,_0x30b51f=_0x55fac1();while(!![]){try{const _0x308aa2=-parseInt(_0x2b23df(0x14e))/0x1*(parseInt(_0x2b23df(0x165))/0x2)+parseInt(_0x2b23df(0x152))/0x3+-parseInt(_0x2b23df(0x16a))/0x4+-parseInt(_0x2b23df(0x15f))/0x5*(parseInt(_0x2b23df(0x156))/0x6)+-parseInt(_0x2b23df(0x166))/0x7*(parseInt(_0x2b23df(0x163))/0x8)+parseInt(_0x2b23df(0x155))/0x9+parseInt(_0x2b23df(0x15e))/0xa;if(_0x308aa2===_0x35193e)break;else _0x30b51f['push'](_0x30b51f['shift']());}catch(_0x3174c0){_0x30b51f['push'](_0x30b51f['shift']());}}}(a0_0x199d,0xa5cf8));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x94cae7(0x159)]=null;static [a0_0x94cae7(0x15d)]=null;static [a0_0x94cae7(0x15b)]=null;static [a0_0x94cae7(0x154)]=null;static async[a0_0x94cae7(0x158)](_0x2cb692=null){const _0x2dde70=a0_0x94cae7;return this[_0x2dde70(0x159)]=_0x2dde70(0x169),this[_0x2dde70(0x15d)]??=AutoTokenizer[_0x2dde70(0x162)](this[_0x2dde70(0x159)],{'progress_callback':_0x2cb692}),this[_0x2dde70(0x15b)]??=AutoProcessor['from_pretrained'](this['model_id'],{'progress_callback':_0x2cb692}),this[_0x2dde70(0x154)]??=WhisperForConditionalGeneration[_0x2dde70(0x162)](this[_0x2dde70(0x159)],{'dtype':{'encoder_model':_0x2dde70(0x157),'decoder_model_merged':'q4'},'device':'webgpu','progress_callback':_0x2cb692}),Promise[_0x2dde70(0x164)]([this['tokenizer'],this[_0x2dde70(0x15b)],this['model']]);}}let processing=!0x1;async function generate({audio:_0x44bb24,language:_0x410cde}){const _0x2f1df4=a0_0x94cae7;if(processing)return;processing=!0x0,self[_0x2f1df4(0x150)]({'status':_0x2f1df4(0x16b)});const [_0x17f440,_0x22fe8d,_0x29f910]=await AutomaticSpeechRecognitionPipeline['getInstance']();let _0x358f68,_0x1904cf=0x0;const _0x31e035=new TextStreamer(_0x17f440,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x26869c=>{const _0x46657e=_0x2f1df4;let _0x323034;_0x358f68??=performance['now'](),_0x1904cf++>0x0&&(_0x323034=_0x1904cf/(performance[_0x46657e(0x15a)]()-_0x358f68)*0x3e8),self[_0x46657e(0x150)]({'status':_0x46657e(0x14d),'output':_0x26869c,'tps':_0x323034,'numTokens':_0x1904cf});}}),_0x3e538c=await _0x22fe8d(_0x44bb24),_0x1bd229=await _0x29f910[_0x2f1df4(0x153)]({..._0x3e538c,'max_new_tokens':0x40,'language':_0x410cde,'streamer':_0x31e035}),_0x5cb208=_0x17f440['batch_decode'](_0x1bd229,{'skip_special_tokens':!0x0});self[_0x2f1df4(0x150)]({'status':_0x2f1df4(0x151),'output':_0x5cb208}),processing=!0x1;}async function load(){const _0x2a3420=a0_0x94cae7;self[_0x2a3420(0x150)]({'status':_0x2a3420(0x14f),'data':_0x2a3420(0x168)});const [_0x156460,_0x4bf0d6,_0x50f806]=await AutomaticSpeechRecognitionPipeline['getInstance'](_0x3e6910=>{const _0x561fb9=_0x2a3420;self[_0x561fb9(0x150)](_0x3e6910);});self[_0x2a3420(0x150)]({'status':_0x2a3420(0x14f),'data':_0x2a3420(0x160)}),await _0x50f806[_0x2a3420(0x153)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x2a3420(0x150)]({'status':'ready'});}function a0_0x3805(_0xc8b51f,_0x3b1f7e){const _0x199d12=a0_0x199d();return a0_0x3805=function(_0x3805f9,_0x4f6c40){_0x3805f9=_0x3805f9-0x14d;let _0x5ab46f=_0x199d12[_0x3805f9];return _0x5ab46f;},a0_0x3805(_0xc8b51f,_0x3b1f7e);}function a0_0x199d(){const _0x29aa18=['now','processor','addEventListener','tokenizer','10648660xlyJJJ','257305pzzfjj','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','load','from_pretrained','24896CggJby','all','870HzjUEz','581LmlaxI','data','Loading\x20model...','onnx-community/whisper-base','1064984hXTySP','start','update','2461LrnAOF','loading','postMessage','complete','3802830UglPSp','generate','model','1328445zhzslA','24hkJAhK','fp32','getInstance','model_id'];a0_0x199d=function(){return _0x29aa18;};return a0_0x199d();}self[a0_0x94cae7(0x15c)]('message',async _0x3a5bdd=>{const _0x569bd3=a0_0x94cae7,{type:_0x3f1a88,data:_0x194f0e}=_0x3a5bdd[_0x569bd3(0x167)];switch(_0x3f1a88){case _0x569bd3(0x161):load();break;case _0x569bd3(0x153):generate(_0x194f0e);}});