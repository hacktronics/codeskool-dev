const a0_0xbe3596=a0_0x5409;(function(_0x2e32ea,_0x532903){const _0x5bb1a4=a0_0x5409,_0x202969=_0x2e32ea();while(!![]){try{const _0x21932c=-parseInt(_0x5bb1a4(0xa5))/0x1+-parseInt(_0x5bb1a4(0xa1))/0x2*(parseInt(_0x5bb1a4(0xb5))/0x3)+-parseInt(_0x5bb1a4(0xab))/0x4+parseInt(_0x5bb1a4(0x9f))/0x5+parseInt(_0x5bb1a4(0xa9))/0x6+parseInt(_0x5bb1a4(0xa0))/0x7*(parseInt(_0x5bb1a4(0xb8))/0x8)+parseInt(_0x5bb1a4(0xa4))/0x9;if(_0x21932c===_0x532903)break;else _0x202969['push'](_0x202969['shift']());}catch(_0x195657){_0x202969['push'](_0x202969['shift']());}}}(a0_0x3361,0x26507));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static ['model_id']=null;static [a0_0xbe3596(0x9c)]=null;static ['processor']=null;static [a0_0xbe3596(0xb2)]=null;static async[a0_0xbe3596(0xb0)](_0x36050e=null){const _0x4d0a41=a0_0xbe3596;return this[_0x4d0a41(0xb4)]=_0x4d0a41(0xaa),this[_0x4d0a41(0x9c)]??=AutoTokenizer[_0x4d0a41(0xb7)](this[_0x4d0a41(0xb4)],{'progress_callback':_0x36050e}),this[_0x4d0a41(0xa2)]??=AutoProcessor['from_pretrained'](this[_0x4d0a41(0xb4)],{'progress_callback':_0x36050e}),this[_0x4d0a41(0xb2)]??=WhisperForConditionalGeneration[_0x4d0a41(0xb7)](this[_0x4d0a41(0xb4)],{'dtype':{'encoder_model':_0x4d0a41(0xae),'decoder_model_merged':'q4'},'device':_0x4d0a41(0xac),'progress_callback':_0x36050e}),Promise[_0x4d0a41(0xa6)]([this[_0x4d0a41(0x9c)],this[_0x4d0a41(0xa2)],this['model']]);}}let processing=!0x1;async function generate({audio:_0x1077a5,language:_0x56b489}){const _0x16c34a=a0_0xbe3596;if(processing)return;processing=!0x0,self['postMessage']({'status':_0x16c34a(0xa7)});const [_0xb75c73,_0x1e6dcf,_0x850ceb]=await AutomaticSpeechRecognitionPipeline['getInstance']();let _0x3ddaa9,_0x1dcd01=0x0;const _0x411f5c=new TextStreamer(_0xb75c73,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x31fc7a=>{const _0x5558c5=_0x16c34a;let _0x3ac084;_0x3ddaa9??=performance[_0x5558c5(0xb1)](),_0x1dcd01++>0x0&&(_0x3ac084=_0x1dcd01/(performance[_0x5558c5(0xb1)]()-_0x3ddaa9)*0x3e8),self[_0x5558c5(0xad)]({'status':'update','output':_0x31fc7a,'tps':_0x3ac084,'numTokens':_0x1dcd01});}}),_0x51d92b=await _0x1e6dcf(_0x1077a5),_0x433d04=await _0x850ceb[_0x16c34a(0xa3)]({..._0x51d92b,'max_new_tokens':0x40,'language':_0x56b489,'streamer':_0x411f5c}),_0xa58d85=_0xb75c73[_0x16c34a(0xa8)](_0x433d04,{'skip_special_tokens':!0x0});self[_0x16c34a(0xad)]({'status':_0x16c34a(0x9d),'output':_0xa58d85}),processing=!0x1;}async function load(){const _0x529293=a0_0xbe3596;self['postMessage']({'status':_0x529293(0x9b),'data':_0x529293(0xb3)});const [_0x482bac,_0x5acf30,_0x583d64]=await AutomaticSpeechRecognitionPipeline[_0x529293(0xb0)](_0x34620c=>{const _0x440ea0=_0x529293;self[_0x440ea0(0xad)](_0x34620c);});self[_0x529293(0xad)]({'status':_0x529293(0x9b),'data':'Compiling\x20shaders\x20and\x20warming\x20up\x20model...'}),await _0x583d64[_0x529293(0xa3)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self['postMessage']({'status':'ready'});}self[a0_0xbe3596(0xaf)](a0_0xbe3596(0xb6),async _0x2c4547=>{const _0x4f2986=a0_0xbe3596,{type:_0x37fabd,data:_0x5d2aea}=_0x2c4547[_0x4f2986(0x9e)];switch(_0x37fabd){case _0x4f2986(0xb9):load();break;case _0x4f2986(0xa3):generate(_0x5d2aea);}});function a0_0x5409(_0x589848,_0x190745){const _0x336130=a0_0x3361();return a0_0x5409=function(_0x540926,_0x22b440){_0x540926=_0x540926-0x9b;let _0x5bd50f=_0x336130[_0x540926];return _0x5bd50f;},a0_0x5409(_0x589848,_0x190745);}function a0_0x3361(){const _0x89f23=['onnx-community/whisper-base','641536WYQcDM','webgpu','postMessage','fp32','addEventListener','getInstance','now','model','Loading\x20model...','model_id','5835FnRcFc','message','from_pretrained','136GevOZP','load','loading','tokenizer','complete','data','1353465PzpPSV','6139MtZraw','208NxFKsD','processor','generate','4279716ynbMTZ','293506qVlraf','all','start','batch_decode','311874Gytdbb'];a0_0x3361=function(){return _0x89f23;};return a0_0x3361();}