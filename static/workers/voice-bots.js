const a0_0x5de620=a0_0x1541;(function(_0xa6b1d4,_0x561f1a){const _0x7f75a8=a0_0x1541,_0x36d8aa=_0xa6b1d4();while(!![]){try{const _0x3aea5a=parseInt(_0x7f75a8(0x170))/0x1+-parseInt(_0x7f75a8(0x178))/0x2+-parseInt(_0x7f75a8(0x177))/0x3*(-parseInt(_0x7f75a8(0x182))/0x4)+-parseInt(_0x7f75a8(0x183))/0x5*(-parseInt(_0x7f75a8(0x16e))/0x6)+-parseInt(_0x7f75a8(0x17b))/0x7+-parseInt(_0x7f75a8(0x181))/0x8*(-parseInt(_0x7f75a8(0x167))/0x9)+-parseInt(_0x7f75a8(0x176))/0xa*(parseInt(_0x7f75a8(0x172))/0xb);if(_0x3aea5a===_0x561f1a)break;else _0x36d8aa['push'](_0x36d8aa['shift']());}catch(_0x20d916){_0x36d8aa['push'](_0x36d8aa['shift']());}}}(a0_0x2766,0xa83ff));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.3.3/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x5de620(0x17f)]=null;static ['tokenizer']=null;static ['processor']=null;static [a0_0x5de620(0x180)]=null;static async[a0_0x5de620(0x169)](_0x1035e8=null){const _0x3c9eff=a0_0x5de620;return this[_0x3c9eff(0x17f)]='onnx-community/whisper-base',this[_0x3c9eff(0x185)]??=AutoTokenizer[_0x3c9eff(0x16b)](this[_0x3c9eff(0x17f)],{'progress_callback':_0x1035e8}),this[_0x3c9eff(0x16d)]??=AutoProcessor[_0x3c9eff(0x16b)](this[_0x3c9eff(0x17f)],{'progress_callback':_0x1035e8}),this['model']??=WhisperForConditionalGeneration['from_pretrained'](this[_0x3c9eff(0x17f)],{'dtype':{'encoder_model':'fp32','decoder_model_merged':'q4'},'device':'webgpu','progress_callback':_0x1035e8}),Promise[_0x3c9eff(0x17c)]([this[_0x3c9eff(0x185)],this[_0x3c9eff(0x16d)],this[_0x3c9eff(0x180)]]);}}let processing=!0x1;async function generate({audio:_0x29603c,language:_0x2b207e}){const _0x7ce0a9=a0_0x5de620;if(processing)return;processing=!0x0,self[_0x7ce0a9(0x174)]({'status':_0x7ce0a9(0x17e)});const [_0x1d2968,_0x416e96,_0x2639f6]=await AutomaticSpeechRecognitionPipeline['getInstance']();let _0x688d9,_0x49287a=0x0;const _0x49797b=new TextStreamer(_0x1d2968,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x46ddc3=>{const _0x5d1217=_0x7ce0a9;let _0x21ba04;_0x688d9??=performance[_0x5d1217(0x173)](),_0x49287a++>0x0&&(_0x21ba04=_0x49287a/(performance[_0x5d1217(0x173)]()-_0x688d9)*0x3e8),self[_0x5d1217(0x174)]({'status':_0x5d1217(0x168),'output':_0x46ddc3,'tps':_0x21ba04,'numTokens':_0x49287a});}}),_0x41db47=await _0x416e96(_0x29603c),_0x4934ff=await _0x2639f6['generate']({..._0x41db47,'max_new_tokens':0x40,'language':_0x2b207e,'streamer':_0x49797b}),_0x2df95d=_0x1d2968[_0x7ce0a9(0x171)](_0x4934ff,{'skip_special_tokens':!0x0});self[_0x7ce0a9(0x174)]({'status':_0x7ce0a9(0x175),'output':_0x2df95d}),processing=!0x1;}async function load(){const _0x24e56f=a0_0x5de620;self[_0x24e56f(0x174)]({'status':_0x24e56f(0x186),'data':_0x24e56f(0x17d)});const [_0x4035b5,_0x1197a6,_0x3dda30]=await AutomaticSpeechRecognitionPipeline[_0x24e56f(0x169)](_0xb03c02=>{const _0x3b079c=_0x24e56f;self[_0x3b079c(0x174)](_0xb03c02);});self[_0x24e56f(0x174)]({'status':_0x24e56f(0x186),'data':'Compiling\x20shaders\x20and\x20warming\x20up\x20model...'}),await _0x3dda30[_0x24e56f(0x16a)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x24e56f(0x174)]({'status':_0x24e56f(0x179)});}function a0_0x2766(){const _0x45c71e=['Loading\x20model...','start','model_id','model','215928GHIuGq','4EKsvZv','5lHcXND','data','tokenizer','loading','207YeRqqp','update','getInstance','generate','from_pretrained','message','processor','2462532NoQIkI','load','1372328EQFTdr','batch_decode','295801NEMcZy','now','postMessage','complete','870tVgDQW','2731137kHRXVw','449940LuZmmE','ready','addEventListener','421988MkOvwa','all'];a0_0x2766=function(){return _0x45c71e;};return a0_0x2766();}function a0_0x1541(_0x422fc8,_0x65ac80){const _0x276655=a0_0x2766();return a0_0x1541=function(_0x154191,_0x1c9467){_0x154191=_0x154191-0x167;let _0x58f5ea=_0x276655[_0x154191];return _0x58f5ea;},a0_0x1541(_0x422fc8,_0x65ac80);}self[a0_0x5de620(0x17a)](a0_0x5de620(0x16c),async _0x15cdcf=>{const _0x12c2a9=a0_0x5de620,{type:_0x537454,data:_0x5b6265}=_0x15cdcf[_0x12c2a9(0x184)];switch(_0x537454){case _0x12c2a9(0x16f):load();break;case'generate':generate(_0x5b6265);}});