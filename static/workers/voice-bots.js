const a0_0x44112b=a0_0x4d89;(function(_0x551ca2,_0x30f826){const _0x5537d6=a0_0x4d89,_0x28d2a2=_0x551ca2();while(!![]){try{const _0x27c860=-parseInt(_0x5537d6(0xee))/0x1+-parseInt(_0x5537d6(0xf7))/0x2+parseInt(_0x5537d6(0xe9))/0x3+-parseInt(_0x5537d6(0xf1))/0x4+parseInt(_0x5537d6(0xfd))/0x5+-parseInt(_0x5537d6(0xed))/0x6*(-parseInt(_0x5537d6(0xf5))/0x7)+parseInt(_0x5537d6(0xff))/0x8*(parseInt(_0x5537d6(0x100))/0x9);if(_0x27c860===_0x30f826)break;else _0x28d2a2['push'](_0x28d2a2['shift']());}catch(_0x101b1c){_0x28d2a2['push'](_0x28d2a2['shift']());}}}(a0_0x42f6,0x89a69));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;function a0_0x4d89(_0x253721,_0x236ea9){const _0x42f60c=a0_0x42f6();return a0_0x4d89=function(_0x4d89d1,_0x1c05e6){_0x4d89d1=_0x4d89d1-0xe9;let _0x571234=_0x42f60c[_0x4d89d1];return _0x571234;},a0_0x4d89(_0x253721,_0x236ea9);}class AutomaticSpeechRecognitionPipeline{static [a0_0x44112b(0x101)]=null;static [a0_0x44112b(0xf8)]=null;static [a0_0x44112b(0xea)]=null;static ['model']=null;static async['getInstance'](_0x3a7a30=null){const _0x3e2ff4=a0_0x44112b;return this[_0x3e2ff4(0x101)]=_0x3e2ff4(0xfa),this[_0x3e2ff4(0xf8)]??=AutoTokenizer[_0x3e2ff4(0xfe)](this[_0x3e2ff4(0x101)],{'progress_callback':_0x3a7a30}),this['processor']??=AutoProcessor['from_pretrained'](this['model_id'],{'progress_callback':_0x3a7a30}),this[_0x3e2ff4(0xef)]??=WhisperForConditionalGeneration[_0x3e2ff4(0xfe)](this[_0x3e2ff4(0x101)],{'dtype':{'encoder_model':_0x3e2ff4(0x102),'decoder_model_merged':'q4'},'device':_0x3e2ff4(0x103),'progress_callback':_0x3a7a30}),Promise['all']([this['tokenizer'],this['processor'],this[_0x3e2ff4(0xef)]]);}}let processing=!0x1;async function generate({audio:_0x554275,language:_0x4a9201}){const _0x33cc5e=a0_0x44112b;if(processing)return;processing=!0x0,self[_0x33cc5e(0xf4)]({'status':'start'});const [_0x5d44c8,_0x280e67,_0x147952]=await AutomaticSpeechRecognitionPipeline[_0x33cc5e(0xf9)]();let _0x5a9132,_0x173e78=0x0;const _0x530b5f=new TextStreamer(_0x5d44c8,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x502c69=>{const _0x3040b3=_0x33cc5e;let _0x4ba4d4;_0x5a9132??=performance[_0x3040b3(0x106)](),_0x173e78++>0x0&&(_0x4ba4d4=_0x173e78/(performance[_0x3040b3(0x106)]()-_0x5a9132)*0x3e8),self['postMessage']({'status':_0x3040b3(0xf6),'output':_0x502c69,'tps':_0x4ba4d4,'numTokens':_0x173e78});}}),_0x12443b=await _0x280e67(_0x554275),_0x381d40=await _0x147952[_0x33cc5e(0xec)]({..._0x12443b,'max_new_tokens':0x40,'language':_0x4a9201,'streamer':_0x530b5f}),_0x5bd35c=_0x5d44c8['batch_decode'](_0x381d40,{'skip_special_tokens':!0x0});self[_0x33cc5e(0xf4)]({'status':_0x33cc5e(0xfc),'output':_0x5bd35c}),processing=!0x1;}function a0_0x42f6(){const _0x301217=['now','1496916XycxXg','processor','Loading\x20model...','generate','128424ottTMx','156089WDFulV','model','ready','2262340RwJIcg','addEventListener','load','postMessage','168NQmdut','update','2109192wxWbqm','tokenizer','getInstance','onnx-community/whisper-base','data','complete','342300MHbaFI','from_pretrained','530088cJNPtU','171kPrMlB','model_id','fp32','webgpu','message','loading'];a0_0x42f6=function(){return _0x301217;};return a0_0x42f6();}async function load(){const _0x3335fb=a0_0x44112b;self[_0x3335fb(0xf4)]({'status':'loading','data':_0x3335fb(0xeb)});const [_0x2ac668,_0x1cfebc,_0x2480ab]=await AutomaticSpeechRecognitionPipeline['getInstance'](_0x375953=>{const _0xf921d5=_0x3335fb;self[_0xf921d5(0xf4)](_0x375953);});self[_0x3335fb(0xf4)]({'status':_0x3335fb(0x105),'data':'Compiling\x20shaders\x20and\x20warming\x20up\x20model...'}),await _0x2480ab[_0x3335fb(0xec)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x3335fb(0xf4)]({'status':_0x3335fb(0xf0)});}self[a0_0x44112b(0xf2)](a0_0x44112b(0x104),async _0x4a642e=>{const _0x5667bf=a0_0x44112b,{type:_0x474254,data:_0x5b5e29}=_0x4a642e[_0x5667bf(0xfb)];switch(_0x474254){case _0x5667bf(0xf3):load();break;case _0x5667bf(0xec):generate(_0x5b5e29);}});