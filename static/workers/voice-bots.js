const a0_0x31016b=a0_0x9788;(function(_0x1a23b4,_0xe0d84a){const _0x5e299b=a0_0x9788,_0x2c2f7b=_0x1a23b4();while(!![]){try{const _0x5873a0=-parseInt(_0x5e299b(0x171))/0x1*(-parseInt(_0x5e299b(0x165))/0x2)+parseInt(_0x5e299b(0x157))/0x3+-parseInt(_0x5e299b(0x167))/0x4+parseInt(_0x5e299b(0x15d))/0x5+-parseInt(_0x5e299b(0x151))/0x6*(-parseInt(_0x5e299b(0x156))/0x7)+-parseInt(_0x5e299b(0x15f))/0x8+-parseInt(_0x5e299b(0x16a))/0x9*(-parseInt(_0x5e299b(0x166))/0xa);if(_0x5873a0===_0xe0d84a)break;else _0x2c2f7b['push'](_0x2c2f7b['shift']());}catch(_0x4bcf59){_0x2c2f7b['push'](_0x2c2f7b['shift']());}}}(a0_0x3802,0xa31ea));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x31016b(0x155)]=null;static [a0_0x31016b(0x15e)]=null;static [a0_0x31016b(0x154)]=null;static ['model']=null;static async['getInstance'](_0x59d7dc=null){const _0x4efcfa=a0_0x31016b;return this[_0x4efcfa(0x155)]=_0x4efcfa(0x161),this[_0x4efcfa(0x15e)]??=AutoTokenizer[_0x4efcfa(0x160)](this[_0x4efcfa(0x155)],{'progress_callback':_0x59d7dc}),this[_0x4efcfa(0x154)]??=AutoProcessor[_0x4efcfa(0x160)](this[_0x4efcfa(0x155)],{'progress_callback':_0x59d7dc}),this[_0x4efcfa(0x16c)]??=WhisperForConditionalGeneration[_0x4efcfa(0x160)](this['model_id'],{'dtype':{'encoder_model':_0x4efcfa(0x168),'decoder_model_merged':'q4'},'device':'webgpu','progress_callback':_0x59d7dc}),Promise['all']([this['tokenizer'],this['processor'],this[_0x4efcfa(0x16c)]]);}}function a0_0x3802(){const _0x5001f3=['Compiling\x20shaders\x20and\x20warming\x20up\x20model...','loading','2086770uECRJV','tokenizer','3044264robJhF','from_pretrained','onnx-community/whisper-base','update','now','generate','4SbLlSQ','126620UZsxGV','3540660SucRuQ','fp32','postMessage','225LicZIG','message','model','addEventListener','ready','Loading\x20model...','start','14906urnFWZ','6JhhPTN','getInstance','load','processor','model_id','5970587WuaFzZ','951537IXNLsb','batch_decode','complete','data'];a0_0x3802=function(){return _0x5001f3;};return a0_0x3802();}let processing=!0x1;function a0_0x9788(_0x4a9fe2,_0x4fecba){const _0x3802ca=a0_0x3802();return a0_0x9788=function(_0x9788cc,_0x1d92a6){_0x9788cc=_0x9788cc-0x151;let _0x554cb8=_0x3802ca[_0x9788cc];return _0x554cb8;},a0_0x9788(_0x4a9fe2,_0x4fecba);}async function generate({audio:_0x4b3690,language:_0x57cfbb}){const _0x1f5c61=a0_0x31016b;if(processing)return;processing=!0x0,self[_0x1f5c61(0x169)]({'status':_0x1f5c61(0x170)});const [_0x2341af,_0x1dc830,_0x6f569f]=await AutomaticSpeechRecognitionPipeline[_0x1f5c61(0x152)]();let _0x20af5d,_0xf36130=0x0;const _0x4bb70f=new TextStreamer(_0x2341af,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x2f15ba=>{const _0x28663f=_0x1f5c61;let _0x5df6e0;_0x20af5d??=performance['now'](),_0xf36130++>0x0&&(_0x5df6e0=_0xf36130/(performance[_0x28663f(0x163)]()-_0x20af5d)*0x3e8),self[_0x28663f(0x169)]({'status':_0x28663f(0x162),'output':_0x2f15ba,'tps':_0x5df6e0,'numTokens':_0xf36130});}}),_0x574acb=await _0x1dc830(_0x4b3690),_0x1f270c=await _0x6f569f['generate']({..._0x574acb,'max_new_tokens':0x40,'language':_0x57cfbb,'streamer':_0x4bb70f}),_0x11c23b=_0x2341af[_0x1f5c61(0x158)](_0x1f270c,{'skip_special_tokens':!0x0});self[_0x1f5c61(0x169)]({'status':_0x1f5c61(0x159),'output':_0x11c23b}),processing=!0x1;}async function load(){const _0x4084ab=a0_0x31016b;self['postMessage']({'status':_0x4084ab(0x15c),'data':_0x4084ab(0x16f)});const [_0x13ffd4,_0x16e2f9,_0x560f95]=await AutomaticSpeechRecognitionPipeline['getInstance'](_0x46e5cb=>{const _0x3749a5=_0x4084ab;self[_0x3749a5(0x169)](_0x46e5cb);});self['postMessage']({'status':_0x4084ab(0x15c),'data':_0x4084ab(0x15b)}),await _0x560f95[_0x4084ab(0x164)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x4084ab(0x169)]({'status':_0x4084ab(0x16e)});}self[a0_0x31016b(0x16d)](a0_0x31016b(0x16b),async _0x34f018=>{const _0x159717=a0_0x31016b,{type:_0x2a3c90,data:_0x33aed3}=_0x34f018[_0x159717(0x15a)];switch(_0x2a3c90){case _0x159717(0x153):load();break;case _0x159717(0x164):generate(_0x33aed3);}});