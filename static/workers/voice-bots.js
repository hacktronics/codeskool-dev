function a0_0x459d(){const _0x3fe4ab=['4345944ZZaQDo','800044IhVLdg','all','tokenizer','data','1176630BtmMxV','postMessage','generate','5058KHYYTM','batch_decode','onnx-community/whisper-base','72969zZzCFH','404695qhGBis','from_pretrained','model_id','processor','now','Loading\x20model...','1182015iFvflP','ready','loading','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','model','getInstance','message','addEventListener','fp32','18ZUeDLF','3648CjPrzA'];a0_0x459d=function(){return _0x3fe4ab;};return a0_0x459d();}const a0_0x291de4=a0_0x3cee;(function(_0x513590,_0x228c64){const _0x3f4fda=a0_0x3cee,_0x15294e=_0x513590();while(!![]){try{const _0x1c7f8d=-parseInt(_0x3f4fda(0x1e3))/0x1*(parseInt(_0x3f4fda(0x1f3))/0x2)+-parseInt(_0x3f4fda(0x1ea))/0x3+parseInt(_0x3f4fda(0x1f6))/0x4+parseInt(_0x3f4fda(0x1e4))/0x5+parseInt(_0x3f4fda(0x1f5))/0x6+parseInt(_0x3f4fda(0x1dd))/0x7+parseInt(_0x3f4fda(0x1f4))/0x8*(parseInt(_0x3f4fda(0x1e0))/0x9);if(_0x1c7f8d===_0x228c64)break;else _0x15294e['push'](_0x15294e['shift']());}catch(_0x196e4b){_0x15294e['push'](_0x15294e['shift']());}}}(a0_0x459d,0x5c81e));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static ['model_id']=null;static [a0_0x291de4(0x1f8)]=null;static [a0_0x291de4(0x1e7)]=null;static [a0_0x291de4(0x1ee)]=null;static async[a0_0x291de4(0x1ef)](_0xda37a7=null){const _0x5588a8=a0_0x291de4;return this[_0x5588a8(0x1e6)]=_0x5588a8(0x1e2),this[_0x5588a8(0x1f8)]??=AutoTokenizer[_0x5588a8(0x1e5)](this['model_id'],{'progress_callback':_0xda37a7}),this[_0x5588a8(0x1e7)]??=AutoProcessor[_0x5588a8(0x1e5)](this[_0x5588a8(0x1e6)],{'progress_callback':_0xda37a7}),this[_0x5588a8(0x1ee)]??=WhisperForConditionalGeneration[_0x5588a8(0x1e5)](this[_0x5588a8(0x1e6)],{'dtype':{'encoder_model':_0x5588a8(0x1f2),'decoder_model_merged':'q4'},'device':'webgpu','progress_callback':_0xda37a7}),Promise[_0x5588a8(0x1f7)]([this[_0x5588a8(0x1f8)],this['processor'],this['model']]);}}let processing=!0x1;async function generate({audio:_0x39ed2f,language:_0x493074}){const _0x221fd6=a0_0x291de4;if(processing)return;processing=!0x0,self[_0x221fd6(0x1de)]({'status':'start'});const [_0x108aee,_0xadea51,_0x1a2d9d]=await AutomaticSpeechRecognitionPipeline[_0x221fd6(0x1ef)]();let _0x15e98e,_0x920518=0x0;const _0x16dec4=new TextStreamer(_0x108aee,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x5dde85=>{const _0x4a909f=_0x221fd6;let _0x53c24f;_0x15e98e??=performance[_0x4a909f(0x1e8)](),_0x920518++>0x0&&(_0x53c24f=_0x920518/(performance['now']()-_0x15e98e)*0x3e8),self[_0x4a909f(0x1de)]({'status':'update','output':_0x5dde85,'tps':_0x53c24f,'numTokens':_0x920518});}}),_0x2bf348=await _0xadea51(_0x39ed2f),_0x53af0d=await _0x1a2d9d[_0x221fd6(0x1df)]({..._0x2bf348,'max_new_tokens':0x40,'language':_0x493074,'streamer':_0x16dec4}),_0x4e6e41=_0x108aee[_0x221fd6(0x1e1)](_0x53af0d,{'skip_special_tokens':!0x0});self['postMessage']({'status':'complete','output':_0x4e6e41}),processing=!0x1;}function a0_0x3cee(_0x4fbf37,_0x411434){const _0x459d9e=a0_0x459d();return a0_0x3cee=function(_0x3cee7e,_0x1ed2df){_0x3cee7e=_0x3cee7e-0x1dc;let _0x4c6a7e=_0x459d9e[_0x3cee7e];return _0x4c6a7e;},a0_0x3cee(_0x4fbf37,_0x411434);}async function load(){const _0x1ba00b=a0_0x291de4;self[_0x1ba00b(0x1de)]({'status':_0x1ba00b(0x1ec),'data':_0x1ba00b(0x1e9)});const [_0x419ec4,_0x164403,_0x498295]=await AutomaticSpeechRecognitionPipeline[_0x1ba00b(0x1ef)](_0x33377a=>{self['postMessage'](_0x33377a);});self[_0x1ba00b(0x1de)]({'status':_0x1ba00b(0x1ec),'data':_0x1ba00b(0x1ed)}),await _0x498295[_0x1ba00b(0x1df)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x1ba00b(0x1de)]({'status':_0x1ba00b(0x1eb)});}self[a0_0x291de4(0x1f1)](a0_0x291de4(0x1f0),async _0x53854b=>{const _0x52e6f0=a0_0x291de4,{type:_0x1f12cb,data:_0x256b43}=_0x53854b[_0x52e6f0(0x1dc)];switch(_0x1f12cb){case'load':load();break;case _0x52e6f0(0x1df):generate(_0x256b43);}});