const a0_0xf3df80=a0_0x1aac;(function(_0x17bfc9,_0x34052b){const _0x50bfc1=a0_0x1aac,_0x5d4a95=_0x17bfc9();while(!![]){try{const _0x4203b2=-parseInt(_0x50bfc1(0xbe))/0x1+parseInt(_0x50bfc1(0xd7))/0x2+-parseInt(_0x50bfc1(0xc9))/0x3+parseInt(_0x50bfc1(0xcd))/0x4+-parseInt(_0x50bfc1(0xd0))/0x5*(parseInt(_0x50bfc1(0xcc))/0x6)+-parseInt(_0x50bfc1(0xd3))/0x7*(parseInt(_0x50bfc1(0xb9))/0x8)+-parseInt(_0x50bfc1(0xc0))/0x9*(-parseInt(_0x50bfc1(0xd4))/0xa);if(_0x4203b2===_0x34052b)break;else _0x5d4a95['push'](_0x5d4a95['shift']());}catch(_0xf441e9){_0x5d4a95['push'](_0x5d4a95['shift']());}}}(a0_0xa146,0xd9a87));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.3.3/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0xf3df80(0xca)]=null;static [a0_0xf3df80(0xd2)]=null;static ['processor']=null;static [a0_0xf3df80(0xc5)]=null;static async[a0_0xf3df80(0xce)](_0x3ab7fa=null){const _0x1a8c1f=a0_0xf3df80;return this[_0x1a8c1f(0xca)]=_0x1a8c1f(0xc4),this[_0x1a8c1f(0xd2)]??=AutoTokenizer['from_pretrained'](this['model_id'],{'progress_callback':_0x3ab7fa}),this[_0x1a8c1f(0xd6)]??=AutoProcessor['from_pretrained'](this[_0x1a8c1f(0xca)],{'progress_callback':_0x3ab7fa}),this['model']??=WhisperForConditionalGeneration[_0x1a8c1f(0xc7)](this['model_id'],{'dtype':{'encoder_model':'fp32','decoder_model_merged':'q4'},'device':_0x1a8c1f(0xb7),'progress_callback':_0x3ab7fa}),Promise[_0x1a8c1f(0xba)]([this['tokenizer'],this[_0x1a8c1f(0xd6)],this[_0x1a8c1f(0xc5)]]);}}let processing=!0x1;async function generate({audio:_0x21755d,language:_0x128186}){const _0x38001f=a0_0xf3df80;if(processing)return;processing=!0x0,self[_0x38001f(0xbc)]({'status':_0x38001f(0xcb)});const [_0x352ab8,_0xf4ea64,_0x1e1f74]=await AutomaticSpeechRecognitionPipeline[_0x38001f(0xce)]();let _0x4e6791,_0x2fa39a=0x0;const _0x2fec2e=new TextStreamer(_0x352ab8,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x8c8aaf=>{const _0x40725a=_0x38001f;let _0x14b778;_0x4e6791??=performance[_0x40725a(0xc3)](),_0x2fa39a++>0x0&&(_0x14b778=_0x2fa39a/(performance[_0x40725a(0xc3)]()-_0x4e6791)*0x3e8),self[_0x40725a(0xbc)]({'status':_0x40725a(0xb8),'output':_0x8c8aaf,'tps':_0x14b778,'numTokens':_0x2fa39a});}}),_0x2883eb=await _0xf4ea64(_0x21755d),_0x230c5a=await _0x1e1f74['generate']({..._0x2883eb,'max_new_tokens':0x40,'language':_0x128186,'streamer':_0x2fec2e}),_0x15f876=_0x352ab8[_0x38001f(0xcf)](_0x230c5a,{'skip_special_tokens':!0x0});self['postMessage']({'status':_0x38001f(0xbb),'output':_0x15f876}),processing=!0x1;}async function load(){const _0x30e513=a0_0xf3df80;self[_0x30e513(0xbc)]({'status':_0x30e513(0xd5),'data':_0x30e513(0xc2)});const [_0x2c179c,_0x491af3,_0x5b2ed0]=await AutomaticSpeechRecognitionPipeline[_0x30e513(0xce)](_0x437231=>{const _0x1128cb=_0x30e513;self[_0x1128cb(0xbc)](_0x437231);});self[_0x30e513(0xbc)]({'status':'loading','data':_0x30e513(0xbd)}),await _0x5b2ed0['generate']({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x30e513(0xbc)]({'status':_0x30e513(0xd1)});}function a0_0xa146(){const _0x59c6c2=['ready','tokenizer','7MzOAdV','4660CVUelt','loading','processor','1396150SkxvDx','webgpu','update','2128704AotdHY','all','complete','postMessage','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','1712219MIDAmD','message','63216lftLJk','load','Loading\x20model...','now','onnx-community/whisper-base','model','data','from_pretrained','addEventListener','3779946plInQA','model_id','start','509646IQeJvj','1313756VlodjB','getInstance','batch_decode','10dzPlmw'];a0_0xa146=function(){return _0x59c6c2;};return a0_0xa146();}function a0_0x1aac(_0x547dad,_0x1fa85b){const _0xa1469d=a0_0xa146();return a0_0x1aac=function(_0x1aac4d,_0x4f8a8b){_0x1aac4d=_0x1aac4d-0xb7;let _0x207abb=_0xa1469d[_0x1aac4d];return _0x207abb;},a0_0x1aac(_0x547dad,_0x1fa85b);}self[a0_0xf3df80(0xc8)](a0_0xf3df80(0xbf),async _0x1e8578=>{const _0xf3ff81=a0_0xf3df80,{type:_0x50e979,data:_0x4cbb09}=_0x1e8578[_0xf3ff81(0xc6)];switch(_0x50e979){case _0xf3ff81(0xc1):load();break;case'generate':generate(_0x4cbb09);}});