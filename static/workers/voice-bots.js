const a0_0x36f175=a0_0x3698;(function(_0x2159ea,_0x1f0428){const _0x5c7b64=a0_0x3698,_0x439958=_0x2159ea();while(!![]){try{const _0x4d7395=-parseInt(_0x5c7b64(0x1e1))/0x1+parseInt(_0x5c7b64(0x1e7))/0x2+parseInt(_0x5c7b64(0x1f6))/0x3+parseInt(_0x5c7b64(0x1e6))/0x4+parseInt(_0x5c7b64(0x1f7))/0x5*(-parseInt(_0x5c7b64(0x1e9))/0x6)+-parseInt(_0x5c7b64(0x1eb))/0x7*(-parseInt(_0x5c7b64(0x1fa))/0x8)+-parseInt(_0x5c7b64(0x1e5))/0x9;if(_0x4d7395===_0x1f0428)break;else _0x439958['push'](_0x439958['shift']());}catch(_0x19459f){_0x439958['push'](_0x439958['shift']());}}}(a0_0x47c0,0x3e7cb));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x36f175(0x1e2)]=null;static [a0_0x36f175(0x1fb)]=null;static [a0_0x36f175(0x1f8)]=null;static ['model']=null;static async[a0_0x36f175(0x1ed)](_0x3749a7=null){const _0x52cf2a=a0_0x36f175;return this[_0x52cf2a(0x1e2)]='onnx-community/whisper-base',this[_0x52cf2a(0x1fb)]??=AutoTokenizer[_0x52cf2a(0x1f3)](this['model_id'],{'progress_callback':_0x3749a7}),this[_0x52cf2a(0x1f8)]??=AutoProcessor[_0x52cf2a(0x1f3)](this[_0x52cf2a(0x1e2)],{'progress_callback':_0x3749a7}),this['model']??=WhisperForConditionalGeneration['from_pretrained'](this['model_id'],{'dtype':{'encoder_model':_0x52cf2a(0x1f4),'decoder_model_merged':'q4'},'device':_0x52cf2a(0x1ef),'progress_callback':_0x3749a7}),Promise['all']([this[_0x52cf2a(0x1fb)],this[_0x52cf2a(0x1f8)],this[_0x52cf2a(0x1e8)]]);}}let processing=!0x1;async function generate({audio:_0x320ad6,language:_0x435dbf}){const _0x28a04a=a0_0x36f175;if(processing)return;processing=!0x0,self[_0x28a04a(0x1df)]({'status':_0x28a04a(0x1f1)});const [_0x2e2257,_0x2ba42a,_0x345af7]=await AutomaticSpeechRecognitionPipeline[_0x28a04a(0x1ed)]();let _0x429c42,_0x4dbe3c=0x0;const _0x4fa539=new TextStreamer(_0x2e2257,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x10f0e5=>{const _0x59f49b=_0x28a04a;let _0x2f79a0;_0x429c42??=performance[_0x59f49b(0x1e0)](),_0x4dbe3c++>0x0&&(_0x2f79a0=_0x4dbe3c/(performance[_0x59f49b(0x1e0)]()-_0x429c42)*0x3e8),self[_0x59f49b(0x1df)]({'status':_0x59f49b(0x1f9),'output':_0x10f0e5,'tps':_0x2f79a0,'numTokens':_0x4dbe3c});}}),_0x2a03dc=await _0x2ba42a(_0x320ad6),_0xd401d6=await _0x345af7[_0x28a04a(0x1f5)]({..._0x2a03dc,'max_new_tokens':0x40,'language':_0x435dbf,'streamer':_0x4fa539}),_0x147ee6=_0x2e2257[_0x28a04a(0x1e3)](_0xd401d6,{'skip_special_tokens':!0x0});self[_0x28a04a(0x1df)]({'status':'complete','output':_0x147ee6}),processing=!0x1;}function a0_0x3698(_0x1fe0f5,_0x5af339){const _0x47c010=a0_0x47c0();return a0_0x3698=function(_0x369834,_0x34335a){_0x369834=_0x369834-0x1df;let _0x3565cd=_0x47c010[_0x369834];return _0x3565cd;},a0_0x3698(_0x1fe0f5,_0x5af339);}function a0_0x47c0(){const _0x13225e=['ready','start','loading','from_pretrained','fp32','generate','645555oqNRjZ','328145DaVBeP','processor','update','24368Swvtzq','tokenizer','postMessage','now','435514hlXJLU','model_id','batch_decode','Loading\x20model...','176805nqKcIX','545544mknpIc','825960lohAok','model','6LIJbIf','addEventListener','28OhLfNX','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','getInstance','data','webgpu'];a0_0x47c0=function(){return _0x13225e;};return a0_0x47c0();}async function load(){const _0x138558=a0_0x36f175;self[_0x138558(0x1df)]({'status':_0x138558(0x1f2),'data':_0x138558(0x1e4)});const [_0x2e9402,_0x2ee338,_0x267e89]=await AutomaticSpeechRecognitionPipeline[_0x138558(0x1ed)](_0x43ed31=>{self['postMessage'](_0x43ed31);});self['postMessage']({'status':_0x138558(0x1f2),'data':_0x138558(0x1ec)}),await _0x267e89['generate']({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x138558(0x1df)]({'status':_0x138558(0x1f0)});}self[a0_0x36f175(0x1ea)]('message',async _0x3b9b0d=>{const _0x49cc37=a0_0x36f175,{type:_0x2be2af,data:_0x2c3134}=_0x3b9b0d[_0x49cc37(0x1ee)];switch(_0x2be2af){case'load':load();break;case _0x49cc37(0x1f5):generate(_0x2c3134);}});