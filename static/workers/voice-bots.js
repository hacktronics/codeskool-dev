const a0_0x2b9c86=a0_0x53ae;(function(_0x594bf3,_0x2faca9){const _0x1a0a4e=a0_0x53ae,_0x45553e=_0x594bf3();while(!![]){try{const _0x286774=-parseInt(_0x1a0a4e(0xe5))/0x1*(-parseInt(_0x1a0a4e(0xe8))/0x2)+parseInt(_0x1a0a4e(0xeb))/0x3*(parseInt(_0x1a0a4e(0xe7))/0x4)+-parseInt(_0x1a0a4e(0xfd))/0x5*(-parseInt(_0x1a0a4e(0xf2))/0x6)+-parseInt(_0x1a0a4e(0xfa))/0x7*(-parseInt(_0x1a0a4e(0x100))/0x8)+-parseInt(_0x1a0a4e(0xf5))/0x9+-parseInt(_0x1a0a4e(0xe9))/0xa+-parseInt(_0x1a0a4e(0xff))/0xb*(-parseInt(_0x1a0a4e(0xee))/0xc);if(_0x286774===_0x2faca9)break;else _0x45553e['push'](_0x45553e['shift']());}catch(_0x13ea01){_0x45553e['push'](_0x45553e['shift']());}}}(a0_0x3432,0x9c075));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.3.3/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;function a0_0x53ae(_0x4f75d5,_0x2a5f7f){const _0x34329a=a0_0x3432();return a0_0x53ae=function(_0x53ae26,_0x2fad27){_0x53ae26=_0x53ae26-0xe2;let _0x58da51=_0x34329a[_0x53ae26];return _0x58da51;},a0_0x53ae(_0x4f75d5,_0x2a5f7f);}class AutomaticSpeechRecognitionPipeline{static [a0_0x2b9c86(0xfe)]=null;static [a0_0x2b9c86(0xf1)]=null;static [a0_0x2b9c86(0xe2)]=null;static [a0_0x2b9c86(0xec)]=null;static async[a0_0x2b9c86(0xe6)](_0x3e30a7=null){const _0x14a377=a0_0x2b9c86;return this['model_id']=_0x14a377(0xef),this[_0x14a377(0xf1)]??=AutoTokenizer[_0x14a377(0xf3)](this[_0x14a377(0xfe)],{'progress_callback':_0x3e30a7}),this['processor']??=AutoProcessor[_0x14a377(0xf3)](this[_0x14a377(0xfe)],{'progress_callback':_0x3e30a7}),this['model']??=WhisperForConditionalGeneration[_0x14a377(0xf3)](this[_0x14a377(0xfe)],{'dtype':{'encoder_model':_0x14a377(0xf4),'decoder_model_merged':'q4'},'device':'webgpu','progress_callback':_0x3e30a7}),Promise['all']([this[_0x14a377(0xf1)],this['processor'],this['model']]);}}let processing=!0x1;async function generate({audio:_0x4878bd,language:_0x323ca4}){const _0x2bd8b8=a0_0x2b9c86;if(processing)return;processing=!0x0,self[_0x2bd8b8(0xe4)]({'status':_0x2bd8b8(0xf8)});const [_0x1eeaef,_0x1fe955,_0x2b14a6]=await AutomaticSpeechRecognitionPipeline[_0x2bd8b8(0xe6)]();let _0x2a5010,_0x26a9b6=0x0;const _0x380df3=new TextStreamer(_0x1eeaef,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x5511d6=>{const _0x5ca9a4=_0x2bd8b8;let _0xff1e33;_0x2a5010??=performance[_0x5ca9a4(0xf7)](),_0x26a9b6++>0x0&&(_0xff1e33=_0x26a9b6/(performance[_0x5ca9a4(0xf7)]()-_0x2a5010)*0x3e8),self['postMessage']({'status':_0x5ca9a4(0xed),'output':_0x5511d6,'tps':_0xff1e33,'numTokens':_0x26a9b6});}}),_0x4dc479=await _0x1fe955(_0x4878bd),_0x59b7cc=await _0x2b14a6['generate']({..._0x4dc479,'max_new_tokens':0x40,'language':_0x323ca4,'streamer':_0x380df3}),_0x2ad24f=_0x1eeaef[_0x2bd8b8(0xea)](_0x59b7cc,{'skip_special_tokens':!0x0});self[_0x2bd8b8(0xe4)]({'status':_0x2bd8b8(0xfc),'output':_0x2ad24f}),processing=!0x1;}async function load(){const _0xa3dcac=a0_0x2b9c86;self[_0xa3dcac(0xe4)]({'status':'loading','data':'Loading\x20model...'});const [_0x547985,_0x1cd56f,_0x50b8f2]=await AutomaticSpeechRecognitionPipeline[_0xa3dcac(0xe6)](_0x4062a1=>{const _0x578d35=_0xa3dcac;self[_0x578d35(0xe4)](_0x4062a1);});self[_0xa3dcac(0xe4)]({'status':'loading','data':_0xa3dcac(0xf9)}),await _0x50b8f2[_0xa3dcac(0xe3)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0xa3dcac(0xe4)]({'status':_0xa3dcac(0xf0)});}function a0_0x3432(){const _0x365b98=['7860960xLhzTv','batch_decode','34197PUIfal','model','update','19332pEUcrL','onnx-community/whisper-base','ready','tokenizer','18mHDyjo','from_pretrained','fp32','8849259JTDYUv','addEventListener','now','start','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','7TdFrMO','message','complete','928395MndeXB','model_id','8261suffdT','2099296FPVxLW','data','processor','generate','postMessage','1xiZPlb','getInstance','132RXRnVD','5926JphPOC'];a0_0x3432=function(){return _0x365b98;};return a0_0x3432();}self[a0_0x2b9c86(0xf6)](a0_0x2b9c86(0xfb),async _0x35d553=>{const _0x3cfa85=a0_0x2b9c86,{type:_0x4ccd88,data:_0x12d3a5}=_0x35d553[_0x3cfa85(0x101)];switch(_0x4ccd88){case'load':load();break;case _0x3cfa85(0xe3):generate(_0x12d3a5);}});