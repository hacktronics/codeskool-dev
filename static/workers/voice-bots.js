const a0_0x5d014e=a0_0x3038;function a0_0x3038(_0x5b0723,_0x5577c3){const _0x3811bd=a0_0x3811();return a0_0x3038=function(_0x3038ea,_0x2c2c84){_0x3038ea=_0x3038ea-0xb2;let _0x1bcadf=_0x3811bd[_0x3038ea];return _0x1bcadf;},a0_0x3038(_0x5b0723,_0x5577c3);}(function(_0x5a86f3,_0x2f3e04){const _0x3524d7=a0_0x3038,_0x383058=_0x5a86f3();while(!![]){try{const _0x539104=parseInt(_0x3524d7(0xb5))/0x1*(-parseInt(_0x3524d7(0xb7))/0x2)+parseInt(_0x3524d7(0xb2))/0x3+-parseInt(_0x3524d7(0xcd))/0x4*(-parseInt(_0x3524d7(0xcc))/0x5)+parseInt(_0x3524d7(0xce))/0x6+-parseInt(_0x3524d7(0xbf))/0x7+-parseInt(_0x3524d7(0xc3))/0x8+parseInt(_0x3524d7(0xba))/0x9*(-parseInt(_0x3524d7(0xc7))/0xa);if(_0x539104===_0x2f3e04)break;else _0x383058['push'](_0x383058['shift']());}catch(_0x3e09c1){_0x383058['push'](_0x383058['shift']());}}}(a0_0x3811,0x88743));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;function a0_0x3811(){const _0x27ae1b=['generate','3059469evYtez','batch_decode','start','17bmGnrA','tokenizer','65498VRFGIx','complete','update','6457770IQlDsg','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','postMessage','addEventListener','Loading\x20model...','1675499hOmKAY','now','from_pretrained','loading','1207896lcpxSD','data','getInstance','model_id','10yTkLvL','ready','model','all','onnx-community/whisper-base','2033870HEFVNg','4CEQJNb','4781550cprOfw','processor'];a0_0x3811=function(){return _0x27ae1b;};return a0_0x3811();}class AutomaticSpeechRecognitionPipeline{static [a0_0x5d014e(0xc6)]=null;static [a0_0x5d014e(0xb6)]=null;static [a0_0x5d014e(0xcf)]=null;static [a0_0x5d014e(0xc9)]=null;static async[a0_0x5d014e(0xc5)](_0x33b0c0=null){const _0x1d4847=a0_0x5d014e;return this[_0x1d4847(0xc6)]=_0x1d4847(0xcb),this[_0x1d4847(0xb6)]??=AutoTokenizer[_0x1d4847(0xc1)](this['model_id'],{'progress_callback':_0x33b0c0}),this[_0x1d4847(0xcf)]??=AutoProcessor[_0x1d4847(0xc1)](this[_0x1d4847(0xc6)],{'progress_callback':_0x33b0c0}),this[_0x1d4847(0xc9)]??=WhisperForConditionalGeneration[_0x1d4847(0xc1)](this[_0x1d4847(0xc6)],{'dtype':{'encoder_model':'fp32','decoder_model_merged':'q4'},'device':'webgpu','progress_callback':_0x33b0c0}),Promise[_0x1d4847(0xca)]([this[_0x1d4847(0xb6)],this[_0x1d4847(0xcf)],this[_0x1d4847(0xc9)]]);}}let processing=!0x1;async function generate({audio:_0x6c65cd,language:_0x1a3836}){const _0x5903d2=a0_0x5d014e;if(processing)return;processing=!0x0,self['postMessage']({'status':_0x5903d2(0xb4)});const [_0x49d084,_0x2bad24,_0xe30868]=await AutomaticSpeechRecognitionPipeline[_0x5903d2(0xc5)]();let _0x1395b5,_0x2b485b=0x0;const _0x36f543=new TextStreamer(_0x49d084,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x5c8ee5=>{const _0x31df09=_0x5903d2;let _0x50626a;_0x1395b5??=performance[_0x31df09(0xc0)](),_0x2b485b++>0x0&&(_0x50626a=_0x2b485b/(performance[_0x31df09(0xc0)]()-_0x1395b5)*0x3e8),self[_0x31df09(0xbc)]({'status':_0x31df09(0xb9),'output':_0x5c8ee5,'tps':_0x50626a,'numTokens':_0x2b485b});}}),_0x50a0f9=await _0x2bad24(_0x6c65cd),_0x4ec488=await _0xe30868[_0x5903d2(0xd0)]({..._0x50a0f9,'max_new_tokens':0x40,'language':_0x1a3836,'streamer':_0x36f543}),_0x2efbc1=_0x49d084[_0x5903d2(0xb3)](_0x4ec488,{'skip_special_tokens':!0x0});self[_0x5903d2(0xbc)]({'status':_0x5903d2(0xb8),'output':_0x2efbc1}),processing=!0x1;}async function load(){const _0x3a5510=a0_0x5d014e;self[_0x3a5510(0xbc)]({'status':_0x3a5510(0xc2),'data':_0x3a5510(0xbe)});const [_0x449569,_0x13f5cb,_0x1001fd]=await AutomaticSpeechRecognitionPipeline['getInstance'](_0x1f9f60=>{const _0x76cd30=_0x3a5510;self[_0x76cd30(0xbc)](_0x1f9f60);});self[_0x3a5510(0xbc)]({'status':_0x3a5510(0xc2),'data':_0x3a5510(0xbb)}),await _0x1001fd['generate']({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x3a5510(0xbc)]({'status':_0x3a5510(0xc8)});}self[a0_0x5d014e(0xbd)]('message',async _0x13c527=>{const _0x521118=a0_0x5d014e,{type:_0x52348b,data:_0x3eab17}=_0x13c527[_0x521118(0xc4)];switch(_0x52348b){case'load':load();break;case _0x521118(0xd0):generate(_0x3eab17);}});