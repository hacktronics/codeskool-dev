const a0_0x2f6a34=a0_0x4427;(function(_0x510cbc,_0x139e78){const _0x5ce03e=a0_0x4427,_0x399b4f=_0x510cbc();while(!![]){try{const _0x223d30=parseInt(_0x5ce03e(0xd5))/0x1+parseInt(_0x5ce03e(0xcd))/0x2*(-parseInt(_0x5ce03e(0xc4))/0x3)+-parseInt(_0x5ce03e(0xb6))/0x4+-parseInt(_0x5ce03e(0xcb))/0x5*(parseInt(_0x5ce03e(0xc9))/0x6)+parseInt(_0x5ce03e(0xbc))/0x7+-parseInt(_0x5ce03e(0xbf))/0x8+parseInt(_0x5ce03e(0xc5))/0x9;if(_0x223d30===_0x139e78)break;else _0x399b4f['push'](_0x399b4f['shift']());}catch(_0x1f5516){_0x399b4f['push'](_0x399b4f['shift']());}}}(a0_0x4412,0x818a3));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';function a0_0x4427(_0x461e65,_0x483817){const _0x4412ae=a0_0x4412();return a0_0x4427=function(_0x4427a9,_0x4f7404){_0x4427a9=_0x4427a9-0xb6;let _0x297d2d=_0x4412ae[_0x4427a9];return _0x297d2d;},a0_0x4427(_0x461e65,_0x483817);}const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x2f6a34(0xd1)]=null;static [a0_0x2f6a34(0xce)]=null;static [a0_0x2f6a34(0xc3)]=null;static [a0_0x2f6a34(0xc1)]=null;static async[a0_0x2f6a34(0xc2)](_0x5175da=null){const _0x297624=a0_0x2f6a34;return this[_0x297624(0xd1)]=_0x297624(0xbd),this[_0x297624(0xce)]??=AutoTokenizer[_0x297624(0xc0)](this['model_id'],{'progress_callback':_0x5175da}),this['processor']??=AutoProcessor[_0x297624(0xc0)](this[_0x297624(0xd1)],{'progress_callback':_0x5175da}),this[_0x297624(0xc1)]??=WhisperForConditionalGeneration[_0x297624(0xc0)](this[_0x297624(0xd1)],{'dtype':{'encoder_model':_0x297624(0xca),'decoder_model_merged':'q4'},'device':_0x297624(0xd6),'progress_callback':_0x5175da}),Promise['all']([this[_0x297624(0xce)],this[_0x297624(0xc3)],this[_0x297624(0xc1)]]);}}let processing=!0x1;function a0_0x4412(){const _0x3b3317=['model_id','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','message','update','607464glVAKq','webgpu','4048532yyOABT','loading','load','complete','batch_decode','Loading\x20model...','3040093jifBez','onnx-community/whisper-base','postMessage','3446520XijvVO','from_pretrained','model','getInstance','processor','84ezWKvh','15911145cBKbvo','generate','ready','now','47526zXYpme','fp32','345WjQAFs','start','20684cOUyLQ','tokenizer','data','addEventListener'];a0_0x4412=function(){return _0x3b3317;};return a0_0x4412();}async function generate({audio:_0x1b6adb,language:_0x1e599a}){const _0x31eb94=a0_0x2f6a34;if(processing)return;processing=!0x0,self[_0x31eb94(0xbe)]({'status':_0x31eb94(0xcc)});const [_0x38742c,_0x7b9036,_0xd46591]=await AutomaticSpeechRecognitionPipeline[_0x31eb94(0xc2)]();let _0xf759a5,_0x7669e8=0x0;const _0x12f487=new TextStreamer(_0x38742c,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x528229=>{const _0x3f6e4d=_0x31eb94;let _0x356ef3;_0xf759a5??=performance[_0x3f6e4d(0xc8)](),_0x7669e8++>0x0&&(_0x356ef3=_0x7669e8/(performance[_0x3f6e4d(0xc8)]()-_0xf759a5)*0x3e8),self['postMessage']({'status':_0x3f6e4d(0xd4),'output':_0x528229,'tps':_0x356ef3,'numTokens':_0x7669e8});}}),_0x3e9f86=await _0x7b9036(_0x1b6adb),_0x1b3beb=await _0xd46591[_0x31eb94(0xc6)]({..._0x3e9f86,'max_new_tokens':0x40,'language':_0x1e599a,'streamer':_0x12f487}),_0x21b181=_0x38742c[_0x31eb94(0xba)](_0x1b3beb,{'skip_special_tokens':!0x0});self[_0x31eb94(0xbe)]({'status':_0x31eb94(0xb9),'output':_0x21b181}),processing=!0x1;}async function load(){const _0x45357d=a0_0x2f6a34;self[_0x45357d(0xbe)]({'status':_0x45357d(0xb7),'data':_0x45357d(0xbb)});const [_0x4c6ff4,_0x29a47e,_0x15ac01]=await AutomaticSpeechRecognitionPipeline[_0x45357d(0xc2)](_0x3113db=>{const _0x41688b=_0x45357d;self[_0x41688b(0xbe)](_0x3113db);});self[_0x45357d(0xbe)]({'status':_0x45357d(0xb7),'data':_0x45357d(0xd2)}),await _0x15ac01[_0x45357d(0xc6)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self['postMessage']({'status':_0x45357d(0xc7)});}self[a0_0x2f6a34(0xd0)](a0_0x2f6a34(0xd3),async _0x2f400c=>{const _0x56579c=a0_0x2f6a34,{type:_0x2d9206,data:_0x3a319c}=_0x2f400c[_0x56579c(0xcf)];switch(_0x2d9206){case _0x56579c(0xb8):load();break;case'generate':generate(_0x3a319c);}});