const a0_0x135410=a0_0x50f0;(function(_0x168bd3,_0x48dcbe){const _0x32cde8=a0_0x50f0,_0x5909=_0x168bd3();while(!![]){try{const _0x105395=-parseInt(_0x32cde8(0x174))/0x1+-parseInt(_0x32cde8(0x15e))/0x2*(-parseInt(_0x32cde8(0x157))/0x3)+-parseInt(_0x32cde8(0x169))/0x4+parseInt(_0x32cde8(0x16b))/0x5+-parseInt(_0x32cde8(0x15a))/0x6+-parseInt(_0x32cde8(0x166))/0x7*(parseInt(_0x32cde8(0x15b))/0x8)+parseInt(_0x32cde8(0x15f))/0x9;if(_0x105395===_0x48dcbe)break;else _0x5909['push'](_0x5909['shift']());}catch(_0x389afa){_0x5909['push'](_0x5909['shift']());}}}(a0_0x548f,0x7a3ef));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;function a0_0x50f0(_0x563411,_0x1f4de8){const _0x548fb3=a0_0x548f();return a0_0x50f0=function(_0x50f0cb,_0x3c4e42){_0x50f0cb=_0x50f0cb-0x156;let _0x3c7e41=_0x548fb3[_0x50f0cb];return _0x3c7e41;},a0_0x50f0(_0x563411,_0x1f4de8);}class AutomaticSpeechRecognitionPipeline{static ['model_id']=null;static ['tokenizer']=null;static [a0_0x135410(0x160)]=null;static [a0_0x135410(0x176)]=null;static async[a0_0x135410(0x168)](_0x1f5a6d=null){const _0x10c084=a0_0x135410;return this['model_id']=_0x10c084(0x158),this[_0x10c084(0x16a)]??=AutoTokenizer['from_pretrained'](this[_0x10c084(0x165)],{'progress_callback':_0x1f5a6d}),this[_0x10c084(0x160)]??=AutoProcessor[_0x10c084(0x15c)](this[_0x10c084(0x165)],{'progress_callback':_0x1f5a6d}),this[_0x10c084(0x176)]??=WhisperForConditionalGeneration[_0x10c084(0x15c)](this[_0x10c084(0x165)],{'dtype':{'encoder_model':_0x10c084(0x171),'decoder_model_merged':'q4'},'device':_0x10c084(0x163),'progress_callback':_0x1f5a6d}),Promise[_0x10c084(0x159)]([this[_0x10c084(0x16a)],this['processor'],this['model']]);}}let processing=!0x1;async function generate({audio:_0x38836b,language:_0x5e55f6}){const _0x226b9f=a0_0x135410;if(processing)return;processing=!0x0,self['postMessage']({'status':_0x226b9f(0x16d)});const [_0x5b597e,_0x13b84b,_0xbc7648]=await AutomaticSpeechRecognitionPipeline['getInstance']();let _0x337cf7,_0x2d4bd9=0x0;const _0x5f8a0f=new TextStreamer(_0x5b597e,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x2dbddf=>{const _0x30aa5d=_0x226b9f;let _0x122e20;_0x337cf7??=performance[_0x30aa5d(0x164)](),_0x2d4bd9++>0x0&&(_0x122e20=_0x2d4bd9/(performance['now']()-_0x337cf7)*0x3e8),self[_0x30aa5d(0x161)]({'status':_0x30aa5d(0x16c),'output':_0x2dbddf,'tps':_0x122e20,'numTokens':_0x2d4bd9});}}),_0x27e41f=await _0x13b84b(_0x38836b),_0x5a6d30=await _0xbc7648[_0x226b9f(0x156)]({..._0x27e41f,'max_new_tokens':0x40,'language':_0x5e55f6,'streamer':_0x5f8a0f}),_0x217a58=_0x5b597e[_0x226b9f(0x15d)](_0x5a6d30,{'skip_special_tokens':!0x0});self[_0x226b9f(0x161)]({'status':_0x226b9f(0x16f),'output':_0x217a58}),processing=!0x1;}function a0_0x548f(){const _0x29f52a=['ready','model','generate','40512cKGdgh','onnx-community/whisper-base','all','4750518KEtRnJ','153584pNmvso','from_pretrained','batch_decode','82VAvZgw','14270472cfTPik','processor','postMessage','data','webgpu','now','model_id','217hZPMwG','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','getInstance','2432528eRvzxK','tokenizer','1878560tIvVLV','update','start','addEventListener','complete','load','fp32','Loading\x20model...','message','19242dIBrRK'];a0_0x548f=function(){return _0x29f52a;};return a0_0x548f();}async function load(){const _0x1a678d=a0_0x135410;self[_0x1a678d(0x161)]({'status':'loading','data':_0x1a678d(0x172)});const [_0x5a62f4,_0x3ce351,_0x113074]=await AutomaticSpeechRecognitionPipeline[_0x1a678d(0x168)](_0x4ba581=>{const _0x29eb4b=_0x1a678d;self[_0x29eb4b(0x161)](_0x4ba581);});self[_0x1a678d(0x161)]({'status':'loading','data':_0x1a678d(0x167)}),await _0x113074[_0x1a678d(0x156)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x1a678d(0x161)]({'status':_0x1a678d(0x175)});}self[a0_0x135410(0x16e)](a0_0x135410(0x173),async _0x2b37f8=>{const _0x100450=a0_0x135410,{type:_0x8f8058,data:_0x54f61a}=_0x2b37f8[_0x100450(0x162)];switch(_0x8f8058){case _0x100450(0x170):load();break;case _0x100450(0x156):generate(_0x54f61a);}});