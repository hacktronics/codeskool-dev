const a0_0x3b2615=a0_0x47a4;(function(_0x989e6b,_0x428aca){const _0x5a0d65=a0_0x47a4,_0x5db701=_0x989e6b();while(!![]){try{const _0x35cb52=-parseInt(_0x5a0d65(0x14e))/0x1+-parseInt(_0x5a0d65(0x145))/0x2*(parseInt(_0x5a0d65(0x15d))/0x3)+parseInt(_0x5a0d65(0x14d))/0x4+parseInt(_0x5a0d65(0x159))/0x5*(-parseInt(_0x5a0d65(0x14a))/0x6)+-parseInt(_0x5a0d65(0x15b))/0x7*(parseInt(_0x5a0d65(0x151))/0x8)+-parseInt(_0x5a0d65(0x13e))/0x9+parseInt(_0x5a0d65(0x14b))/0xa*(parseInt(_0x5a0d65(0x154))/0xb);if(_0x35cb52===_0x428aca)break;else _0x5db701['push'](_0x5db701['shift']());}catch(_0x5da6f2){_0x5db701['push'](_0x5db701['shift']());}}}(a0_0x4a9c,0x66b3b));function a0_0x47a4(_0x4d368e,_0x5b3573){const _0x4a9c73=a0_0x4a9c();return a0_0x47a4=function(_0x47a46d,_0x2cc041){_0x47a46d=_0x47a46d-0x13e;let _0x263ec2=_0x4a9c73[_0x47a46d];return _0x263ec2;},a0_0x47a4(_0x4d368e,_0x5b3573);}import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x3b2615(0x143)]=null;static [a0_0x3b2615(0x155)]=null;static [a0_0x3b2615(0x14c)]=null;static ['model']=null;static async[a0_0x3b2615(0x14f)](_0x31f63c=null){const _0x47e606=a0_0x3b2615;return this['model_id']=_0x47e606(0x156),this[_0x47e606(0x155)]??=AutoTokenizer[_0x47e606(0x148)](this[_0x47e606(0x143)],{'progress_callback':_0x31f63c}),this[_0x47e606(0x14c)]??=AutoProcessor[_0x47e606(0x148)](this['model_id'],{'progress_callback':_0x31f63c}),this[_0x47e606(0x150)]??=WhisperForConditionalGeneration[_0x47e606(0x148)](this[_0x47e606(0x143)],{'dtype':{'encoder_model':_0x47e606(0x15e),'decoder_model_merged':'q4'},'device':_0x47e606(0x140),'progress_callback':_0x31f63c}),Promise[_0x47e606(0x141)]([this[_0x47e606(0x155)],this[_0x47e606(0x14c)],this[_0x47e606(0x150)]]);}}function a0_0x4a9c(){const _0x50fff0=['generate','2217141VzeRIq','fp32','6560325rHOrQY','postMessage','webgpu','all','update','model_id','batch_decode','2WAKtXG','loading','ready','from_pretrained','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','138OZEMda','2390FdSgun','processor','3304576hhzLKN','160362sXuHxU','getInstance','model','5489656RTCaqs','message','complete','103246IDaJKV','tokenizer','onnx-community/whisper-base','data','now','72650sGmPRg','load','7YJYNhB'];a0_0x4a9c=function(){return _0x50fff0;};return a0_0x4a9c();}let processing=!0x1;async function generate({audio:_0x5188cf,language:_0xb6a8e}){const _0x1494ad=a0_0x3b2615;if(processing)return;processing=!0x0,self[_0x1494ad(0x13f)]({'status':'start'});const [_0x4306d1,_0x5adfc8,_0x41f88a]=await AutomaticSpeechRecognitionPipeline['getInstance']();let _0x2f91c2,_0x373c4f=0x0;const _0x5a82ee=new TextStreamer(_0x4306d1,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x5d8d41=>{const _0x7081b=_0x1494ad;let _0x62d62;_0x2f91c2??=performance['now'](),_0x373c4f++>0x0&&(_0x62d62=_0x373c4f/(performance[_0x7081b(0x158)]()-_0x2f91c2)*0x3e8),self[_0x7081b(0x13f)]({'status':_0x7081b(0x142),'output':_0x5d8d41,'tps':_0x62d62,'numTokens':_0x373c4f});}}),_0x3cf6d2=await _0x5adfc8(_0x5188cf),_0x4b9f80=await _0x41f88a[_0x1494ad(0x15c)]({..._0x3cf6d2,'max_new_tokens':0x40,'language':_0xb6a8e,'streamer':_0x5a82ee}),_0x5d957f=_0x4306d1[_0x1494ad(0x144)](_0x4b9f80,{'skip_special_tokens':!0x0});self[_0x1494ad(0x13f)]({'status':_0x1494ad(0x153),'output':_0x5d957f}),processing=!0x1;}async function load(){const _0x4a86c4=a0_0x3b2615;self[_0x4a86c4(0x13f)]({'status':_0x4a86c4(0x146),'data':'Loading\x20model...'});const [_0x50a0bc,_0x1a2759,_0x41ed23]=await AutomaticSpeechRecognitionPipeline[_0x4a86c4(0x14f)](_0x1103d3=>{const _0x378b53=_0x4a86c4;self[_0x378b53(0x13f)](_0x1103d3);});self[_0x4a86c4(0x13f)]({'status':_0x4a86c4(0x146),'data':_0x4a86c4(0x149)}),await _0x41ed23[_0x4a86c4(0x15c)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x4a86c4(0x13f)]({'status':_0x4a86c4(0x147)});}self['addEventListener'](a0_0x3b2615(0x152),async _0x4468fb=>{const _0x197f7f=a0_0x3b2615,{type:_0x3f6292,data:_0x5c9241}=_0x4468fb[_0x197f7f(0x157)];switch(_0x3f6292){case _0x197f7f(0x15a):load();break;case _0x197f7f(0x15c):generate(_0x5c9241);}});