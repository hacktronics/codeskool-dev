const a0_0x322e10=a0_0x1258;(function(_0x35c573,_0x3554e6){const _0x1e357d=a0_0x1258,_0x2ecc72=_0x35c573();while(!![]){try{const _0x117b52=-parseInt(_0x1e357d(0xe8))/0x1+-parseInt(_0x1e357d(0x100))/0x2*(-parseInt(_0x1e357d(0xf1))/0x3)+-parseInt(_0x1e357d(0xf7))/0x4+-parseInt(_0x1e357d(0xf9))/0x5+-parseInt(_0x1e357d(0x102))/0x6*(-parseInt(_0x1e357d(0xfc))/0x7)+parseInt(_0x1e357d(0xea))/0x8+parseInt(_0x1e357d(0xee))/0x9;if(_0x117b52===_0x3554e6)break;else _0x2ecc72['push'](_0x2ecc72['shift']());}catch(_0x4d8473){_0x2ecc72['push'](_0x2ecc72['shift']());}}}(a0_0x4f0d,0x58b97));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x322e10(0xe6)]=null;static ['tokenizer']=null;static [a0_0x322e10(0xe9)]=null;static [a0_0x322e10(0xf6)]=null;static async[a0_0x322e10(0x104)](_0x5b0e05=null){const _0x346e88=a0_0x322e10;return this[_0x346e88(0xe6)]=_0x346e88(0xe7),this['tokenizer']??=AutoTokenizer[_0x346e88(0xf4)](this[_0x346e88(0xe6)],{'progress_callback':_0x5b0e05}),this[_0x346e88(0xe9)]??=AutoProcessor[_0x346e88(0xf4)](this['model_id'],{'progress_callback':_0x5b0e05}),this[_0x346e88(0xf6)]??=WhisperForConditionalGeneration[_0x346e88(0xf4)](this[_0x346e88(0xe6)],{'dtype':{'encoder_model':_0x346e88(0xeb),'decoder_model_merged':'q4'},'device':_0x346e88(0xfe),'progress_callback':_0x5b0e05}),Promise[_0x346e88(0xff)]([this[_0x346e88(0x101)],this[_0x346e88(0xe9)],this['model']]);}}function a0_0x1258(_0x5e2ac3,_0x32b7a5){const _0x4f0d00=a0_0x4f0d();return a0_0x1258=function(_0x125899,_0x138f32){_0x125899=_0x125899-0xe6;let _0x38878f=_0x4f0d00[_0x125899];return _0x38878f;},a0_0x1258(_0x5e2ac3,_0x32b7a5);}let processing=!0x1;async function generate({audio:_0x13e286,language:_0x347df2}){const _0x4ca156=a0_0x322e10;if(processing)return;processing=!0x0,self[_0x4ca156(0xfb)]({'status':_0x4ca156(0xec)});const [_0x271620,_0x29efa1,_0x2c907e]=await AutomaticSpeechRecognitionPipeline[_0x4ca156(0x104)]();let _0x585294,_0xc0cd2b=0x0;const _0x3432ee=new TextStreamer(_0x271620,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x4dd15f=>{const _0x4265c4=_0x4ca156;let _0x282dfa;_0x585294??=performance['now'](),_0xc0cd2b++>0x0&&(_0x282dfa=_0xc0cd2b/(performance[_0x4265c4(0xf8)]()-_0x585294)*0x3e8),self[_0x4265c4(0xfb)]({'status':_0x4265c4(0x103),'output':_0x4dd15f,'tps':_0x282dfa,'numTokens':_0xc0cd2b});}}),_0x1d865b=await _0x29efa1(_0x13e286),_0x3a5e33=await _0x2c907e[_0x4ca156(0xed)]({..._0x1d865b,'max_new_tokens':0x40,'language':_0x347df2,'streamer':_0x3432ee}),_0x29c0db=_0x271620[_0x4ca156(0x105)](_0x3a5e33,{'skip_special_tokens':!0x0});self[_0x4ca156(0xfb)]({'status':_0x4ca156(0xf3),'output':_0x29c0db}),processing=!0x1;}async function load(){const _0x3658f3=a0_0x322e10;self[_0x3658f3(0xfb)]({'status':'loading','data':_0x3658f3(0xfd)});const [_0x53ce20,_0x1d7783,_0x21e2dd]=await AutomaticSpeechRecognitionPipeline['getInstance'](_0x27d380=>{const _0x2dd0a0=_0x3658f3;self[_0x2dd0a0(0xfb)](_0x27d380);});self[_0x3658f3(0xfb)]({'status':_0x3658f3(0xfa),'data':_0x3658f3(0xf5)}),await _0x21e2dd['generate']({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self['postMessage']({'status':'ready'});}function a0_0x4f0d(){const _0x1061e9=['model_id','onnx-community/whisper-base','531072hyemqZ','processor','3684336UcuaVe','fp32','start','generate','8319366vUeeOt','addEventListener','data','58749jpunqd','load','complete','from_pretrained','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','model','1690552dikIQV','now','2600475LwAqYS','loading','postMessage','14QayWuU','Loading\x20model...','webgpu','all','28heNwKI','tokenizer','534426uVxPnN','update','getInstance','batch_decode'];a0_0x4f0d=function(){return _0x1061e9;};return a0_0x4f0d();}self[a0_0x322e10(0xef)]('message',async _0x51f62a=>{const _0x1b2fb9=a0_0x322e10,{type:_0x5d20fd,data:_0x91f5ee}=_0x51f62a[_0x1b2fb9(0xf0)];switch(_0x5d20fd){case _0x1b2fb9(0xf2):load();break;case'generate':generate(_0x91f5ee);}});