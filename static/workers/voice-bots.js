const a0_0x52c17c=a0_0x3847;(function(_0x7ce213,_0x9a1a12){const _0x1d990c=a0_0x3847,_0xdcc07=_0x7ce213();while(!![]){try{const _0x355857=-parseInt(_0x1d990c(0x1c6))/0x1+parseInt(_0x1d990c(0x1d9))/0x2*(-parseInt(_0x1d990c(0x1d8))/0x3)+parseInt(_0x1d990c(0x1d6))/0x4+-parseInt(_0x1d990c(0x1cf))/0x5*(parseInt(_0x1d990c(0x1d7))/0x6)+parseInt(_0x1d990c(0x1de))/0x7+-parseInt(_0x1d990c(0x1ce))/0x8+parseInt(_0x1d990c(0x1e1))/0x9;if(_0x355857===_0x9a1a12)break;else _0xdcc07['push'](_0xdcc07['shift']());}catch(_0x1cbeac){_0xdcc07['push'](_0xdcc07['shift']());}}}(a0_0xfacd,0x6503d));import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static [a0_0x52c17c(0x1dc)]=null;static [a0_0x52c17c(0x1cb)]=null;static [a0_0x52c17c(0x1d4)]=null;static [a0_0x52c17c(0x1cc)]=null;static async[a0_0x52c17c(0x1d2)](_0x579411=null){const _0x7761f4=a0_0x52c17c;return this['model_id']=_0x7761f4(0x1c5),this[_0x7761f4(0x1cb)]??=AutoTokenizer[_0x7761f4(0x1d1)](this['model_id'],{'progress_callback':_0x579411}),this['processor']??=AutoProcessor[_0x7761f4(0x1d1)](this[_0x7761f4(0x1dc)],{'progress_callback':_0x579411}),this[_0x7761f4(0x1cc)]??=WhisperForConditionalGeneration[_0x7761f4(0x1d1)](this[_0x7761f4(0x1dc)],{'dtype':{'encoder_model':_0x7761f4(0x1d5),'decoder_model_merged':'q4'},'device':_0x7761f4(0x1cd),'progress_callback':_0x579411}),Promise[_0x7761f4(0x1d3)]([this['tokenizer'],this[_0x7761f4(0x1d4)],this[_0x7761f4(0x1cc)]]);}}let processing=!0x1;function a0_0x3847(_0x48a5fd,_0x17f783){const _0xfacd66=a0_0xfacd();return a0_0x3847=function(_0x384770,_0x3f46eb){_0x384770=_0x384770-0x1c5;let _0x387123=_0xfacd66[_0x384770];return _0x387123;},a0_0x3847(_0x48a5fd,_0x17f783);}async function generate({audio:_0x5b2d88,language:_0x3fc9f8}){const _0x556d45=a0_0x52c17c;if(processing)return;processing=!0x0,self[_0x556d45(0x1c9)]({'status':'start'});const [_0xebf296,_0x8c4ead,_0x2a3768]=await AutomaticSpeechRecognitionPipeline[_0x556d45(0x1d2)]();let _0x41ab3d,_0x2f5889=0x0;const _0xf8dcff=new TextStreamer(_0xebf296,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0xcc0242=>{const _0x29c40d=_0x556d45;let _0x1a5915;_0x41ab3d??=performance['now'](),_0x2f5889++>0x0&&(_0x1a5915=_0x2f5889/(performance['now']()-_0x41ab3d)*0x3e8),self[_0x29c40d(0x1c9)]({'status':'update','output':_0xcc0242,'tps':_0x1a5915,'numTokens':_0x2f5889});}}),_0x3b7d49=await _0x8c4ead(_0x5b2d88),_0x34cf18=await _0x2a3768[_0x556d45(0x1da)]({..._0x3b7d49,'max_new_tokens':0x40,'language':_0x3fc9f8,'streamer':_0xf8dcff}),_0x1e7c99=_0xebf296[_0x556d45(0x1ca)](_0x34cf18,{'skip_special_tokens':!0x0});self[_0x556d45(0x1c9)]({'status':'complete','output':_0x1e7c99}),processing=!0x1;}async function load(){const _0x2ddcfe=a0_0x52c17c;self['postMessage']({'status':_0x2ddcfe(0x1e0),'data':_0x2ddcfe(0x1c8)});const [_0x986271,_0x4c0b2b,_0x270119]=await AutomaticSpeechRecognitionPipeline[_0x2ddcfe(0x1d2)](_0x1074bb=>{const _0x3c67c6=_0x2ddcfe;self[_0x3c67c6(0x1c9)](_0x1074bb);});self[_0x2ddcfe(0x1c9)]({'status':_0x2ddcfe(0x1e0),'data':_0x2ddcfe(0x1db)}),await _0x270119[_0x2ddcfe(0x1da)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self[_0x2ddcfe(0x1c9)]({'status':_0x2ddcfe(0x1d0)});}function a0_0xfacd(){const _0x2823bb=['loading','12914703IAUvsw','onnx-community/whisper-base','367008NRESiz','addEventListener','Loading\x20model...','postMessage','batch_decode','tokenizer','model','webgpu','866216TDzhNL','355QmbGEA','ready','from_pretrained','getInstance','all','processor','fp32','1660480eJRjPJ','37374tlQmfZ','885828fXvWkH','4vZPTwY','generate','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','model_id','message','502362BNnowr','data'];a0_0xfacd=function(){return _0x2823bb;};return a0_0xfacd();}self[a0_0x52c17c(0x1c7)](a0_0x52c17c(0x1dd),async _0x4c600f=>{const _0xd3d499=a0_0x52c17c,{type:_0x4688e0,data:_0x1a326a}=_0x4c600f[_0xd3d499(0x1df)];switch(_0x4688e0){case'load':load();break;case _0xd3d499(0x1da):generate(_0x1a326a);}});