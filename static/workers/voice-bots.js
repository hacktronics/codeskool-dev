const a0_0x12c380=a0_0x43c7;(function(_0x2a6e6c,_0xd5a000){const _0x187c77=a0_0x43c7,_0x3a81ad=_0x2a6e6c();while(!![]){try{const _0xa62df7=parseInt(_0x187c77(0xc4))/0x1*(parseInt(_0x187c77(0xc9))/0x2)+-parseInt(_0x187c77(0xbf))/0x3+parseInt(_0x187c77(0xda))/0x4+-parseInt(_0x187c77(0xcc))/0x5+-parseInt(_0x187c77(0xbd))/0x6+parseInt(_0x187c77(0xd2))/0x7+-parseInt(_0x187c77(0xbe))/0x8*(-parseInt(_0x187c77(0xd6))/0x9);if(_0xa62df7===_0xd5a000)break;else _0x3a81ad['push'](_0x3a81ad['shift']());}catch(_0x367fbb){_0x3a81ad['push'](_0x3a81ad['shift']());}}}(a0_0x103d,0x2cf33));function a0_0x103d(){const _0x5061b5=['14990pDCXmN','postMessage','fp32','complete','model','8TgChSL','tokenizer','getInstance','789070NdBOFh','model_id','update','data','onnx-community/whisper-base','Compiling\x20shaders\x20and\x20warming\x20up\x20model...','1107316fadYfm','processor','from_pretrained','loading','9RYIdKD','message','ready','webgpu','214156ZBNGuV','now','1160304ozFvyh','2812840uUhhpa','263937zxRUpy','all','batch_decode','Loading\x20model...','generate'];a0_0x103d=function(){return _0x5061b5;};return a0_0x103d();}import{AutoTokenizer,AutoProcessor,WhisperForConditionalGeneration,TextStreamer,full}from'https://cdn.jsdelivr.net/npm/@huggingface/transformers@3.4.0/dist/transformers.min.js';const MAX_NEW_TOKENS=0x40;class AutomaticSpeechRecognitionPipeline{static ['model_id']=null;static ['tokenizer']=null;static [a0_0x12c380(0xd3)]=null;static [a0_0x12c380(0xc8)]=null;static async['getInstance'](_0xe402cb=null){const _0x10afd6=a0_0x12c380;return this['model_id']=_0x10afd6(0xd0),this[_0x10afd6(0xca)]??=AutoTokenizer[_0x10afd6(0xd4)](this[_0x10afd6(0xcd)],{'progress_callback':_0xe402cb}),this[_0x10afd6(0xd3)]??=AutoProcessor[_0x10afd6(0xd4)](this[_0x10afd6(0xcd)],{'progress_callback':_0xe402cb}),this[_0x10afd6(0xc8)]??=WhisperForConditionalGeneration[_0x10afd6(0xd4)](this[_0x10afd6(0xcd)],{'dtype':{'encoder_model':_0x10afd6(0xc6),'decoder_model_merged':'q4'},'device':_0x10afd6(0xd9),'progress_callback':_0xe402cb}),Promise[_0x10afd6(0xc0)]([this[_0x10afd6(0xca)],this[_0x10afd6(0xd3)],this['model']]);}}let processing=!0x1;async function generate({audio:_0x4cd775,language:_0x50d435}){const _0x8a1ac3=a0_0x12c380;if(processing)return;processing=!0x0,self['postMessage']({'status':'start'});const [_0x11ac38,_0xa0992a,_0x450d48]=await AutomaticSpeechRecognitionPipeline['getInstance']();let _0xb0dfe2,_0x20a81d=0x0;const _0xb875f6=new TextStreamer(_0x11ac38,{'skip_prompt':!0x0,'skip_special_tokens':!0x0,'callback_function':_0x25f324=>{const _0x3f1387=a0_0x43c7;let _0x463a90;_0xb0dfe2??=performance[_0x3f1387(0xbc)](),_0x20a81d++>0x0&&(_0x463a90=_0x20a81d/(performance[_0x3f1387(0xbc)]()-_0xb0dfe2)*0x3e8),self[_0x3f1387(0xc5)]({'status':_0x3f1387(0xce),'output':_0x25f324,'tps':_0x463a90,'numTokens':_0x20a81d});}}),_0x1592bf=await _0xa0992a(_0x4cd775),_0x1f7310=await _0x450d48[_0x8a1ac3(0xc3)]({..._0x1592bf,'max_new_tokens':0x40,'language':_0x50d435,'streamer':_0xb875f6}),_0x55589d=_0x11ac38[_0x8a1ac3(0xc1)](_0x1f7310,{'skip_special_tokens':!0x0});self[_0x8a1ac3(0xc5)]({'status':_0x8a1ac3(0xc7),'output':_0x55589d}),processing=!0x1;}async function load(){const _0x3201e0=a0_0x12c380;self[_0x3201e0(0xc5)]({'status':_0x3201e0(0xd5),'data':_0x3201e0(0xc2)});const [_0x5b0cba,_0xc37bd8,_0xc39aa5]=await AutomaticSpeechRecognitionPipeline[_0x3201e0(0xcb)](_0x1f67bf=>{const _0x2f8304=_0x3201e0;self[_0x2f8304(0xc5)](_0x1f67bf);});self[_0x3201e0(0xc5)]({'status':'loading','data':_0x3201e0(0xd1)}),await _0xc39aa5[_0x3201e0(0xc3)]({'input_features':full([0x1,0x50,0xbb8],0x0),'max_new_tokens':0x1}),self['postMessage']({'status':_0x3201e0(0xd8)});}function a0_0x43c7(_0x399962,_0x789179){const _0x103de1=a0_0x103d();return a0_0x43c7=function(_0x43c7fd,_0x24a5ee){_0x43c7fd=_0x43c7fd-0xbc;let _0x1b3696=_0x103de1[_0x43c7fd];return _0x1b3696;},a0_0x43c7(_0x399962,_0x789179);}self['addEventListener'](a0_0x12c380(0xd7),async _0x587cd5=>{const _0x46dd81=a0_0x12c380,{type:_0x6786ed,data:_0x4b65fd}=_0x587cd5[_0x46dd81(0xcf)];switch(_0x6786ed){case'load':load();break;case _0x46dd81(0xc3):generate(_0x4b65fd);}});